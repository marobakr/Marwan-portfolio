(self.webpackChunkMarwan_Abubakr=self.webpackChunkMarwan_Abubakr||[]).push([[360],{3360:(se,u,N)=>{"use strict";N.r(u),N.d(u,{ResumeComponent:()=>ae});var p=N(9242),w=N(6814),B=N(4946),U=N(4829),G=N(5592),x=N(1631),s=N(4266),f=N(4674),a=N(7400);const l=["addListener","removeListener"],S=["addEventListener","removeEventListener"],h=["on","off"];function o(X,te,k,z){if((0,f.m)(k)&&(z=k,k=void 0),z)return o(X,te,k).pipe((0,a.Z)(z));const[ee,K]=function b(X){return(0,f.m)(X.addEventListener)&&(0,f.m)(X.removeEventListener)}(X)?S.map(oe=>ce=>X[oe](te,ce,k)):function v(X){return(0,f.m)(X.addListener)&&(0,f.m)(X.removeListener)}(X)?l.map(r(X,te)):function y(X){return(0,f.m)(X.on)&&(0,f.m)(X.off)}(X)?h.map(r(X,te)):[];if(!ee&&(0,s.z)(X))return(0,x.z)(oe=>o(oe,te,k))((0,U.Xf)(X));if(!ee)throw new TypeError("Invalid event target");return new G.y(oe=>{const ce=(...le)=>oe.next(1<le.length?le:le[0]);return ee(ce),()=>K(ce)})}function r(X,te){return k=>z=>X[k](te,z)}var d=N(8645),e=N(7715),n=N(9773),_=N(7394);class L extends _.w0{constructor(te,k){super()}schedule(te,k=0){return this}}const F={setInterval(X,te,...k){const{delegate:z}=F;return z?.setInterval?z.setInterval(X,te,...k):setInterval(X,te,...k)},clearInterval(X){const{delegate:te}=F;return(te?.clearInterval||clearInterval)(X)},delegate:void 0};var W=N(9039);const ie={now:()=>(ie.delegate||Date).now(),delegate:void 0};class Q{constructor(te,k=Q.now){this.schedulerActionCtor=te,this.now=k}schedule(te,k=0,z){return new this.schedulerActionCtor(this,te).schedule(z,k)}}Q.now=ie.now;const R=new class P extends Q{constructor(te,k=Q.now){super(te,k),this.actions=[],this._active=!1}flush(te){const{actions:k}=this;if(this._active)return void k.push(te);let z;this._active=!0;do{if(z=te.execute(te.state,te.delay))break}while(te=k.shift());if(this._active=!1,z){for(;te=k.shift();)te.unsubscribe();throw z}}}(class V extends L{constructor(te,k){super(te,k),this.scheduler=te,this.work=k,this.pending=!1}schedule(te,k=0){var z;if(this.closed)return this;this.state=te;const ee=this.id,K=this.scheduler;return null!=ee&&(this.id=this.recycleAsyncId(K,ee,k)),this.pending=!0,this.delay=k,this.id=null!==(z=this.id)&&void 0!==z?z:this.requestAsyncId(K,this.id,k),this}requestAsyncId(te,k,z=0){return F.setInterval(te.flush.bind(te,this),z)}recycleAsyncId(te,k,z=0){if(null!=z&&this.delay===z&&!1===this.pending)return k;null!=k&&F.clearInterval(k)}execute(te,k){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const z=this._execute(te,k);if(z)return z;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(te,k){let ee,z=!1;try{this.work(te)}catch(K){z=!0,ee=K||new Error("Scheduled action threw falsy error")}if(z)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:te,scheduler:k}=this,{actions:z}=k;this.work=this.state=this.scheduler=null,this.pending=!1,(0,W.P)(z,this),null!=te&&(this.id=this.recycleAsyncId(k,te,null)),this.delay=null,super.unsubscribe()}}});var M=N(9360),T=N(8251),i=N(2181),c=N(9627),C=N.t(c,2),A=N(1016),t=N.t(A,2);const g=["pdfViewerContainer"];function I(X,te,k){X[te]=k}function j(){return typeof window>"u"}j()||I(C,"verbosity",c.VerbosityLevel.INFOS);var H=function(X){return X[X.DISABLED=0]="DISABLED",X[X.ENABLED=1]="ENABLED",X[X.ENHANCED=2]="ENHANCED",X}(H||{});let q=(()=>{class X{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof C<"u"?`https://unpkg.com/pdfjs-dist@${c.version}/cmaps/`:null;_imageResourcesPath=typeof C<"u"?`https://unpkg.com/pdfjs-dist@${c.version}/web/images/`:void 0;_renderText=!0;_renderTextMode=H.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;resizeTimeout=null;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new d.x;afterLoadComplete=new B.vpe;pageRendered=new B.vpe;pageInitialized=new B.vpe;textLayerRendered=new B.vpe;onError=new B.vpe;onProgress=new B.vpe;pageChange=new B.vpe(!0);src;set cMapsUrl(k){this._cMapsUrl=k}set page(k){const z=k=parseInt(k,10)||1;this._pdf&&(k=this.getValidPageNumber(k)),this._page=k,z!==k&&this.pageChange.emit(k)}set renderText(k){this._renderText=k}set renderTextMode(k){this._renderTextMode=k}set originalSize(k){this._originalSize=k}set showAll(k){this._showAll=k}set stickToPage(k){this._stickToPage=k}set zoom(k){k<=0||(this._zoom=k)}get zoom(){return this._zoom}set zoomScale(k){this._zoomScale=k}get zoomScale(){return this._zoomScale}set rotation(k){"number"==typeof k&&k%90==0?this._rotation=k:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(k){this._externalLinkTarget=k}set autoresize(k){this._canAutoResize=!!k}set fitToPage(k){this._fitToPage=!!k}set showBorders(k){this._showBorders=!!k}static getLinkTarget(k){switch(k){case"blank":return A.LinkTarget.BLANK;case"none":return A.LinkTarget.NONE;case"self":return A.LinkTarget.SELF;case"parent":return A.LinkTarget.PARENT;case"top":return A.LinkTarget.TOP}return null}constructor(k,z){if(this.element=k,this.ngZone=z,j())return;let ee;const K=c.version;ee=window[`pdfWorkerSrc${K}`]||(window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${K}/legacy/build/pdf.worker.min.js`),I(c.GlobalWorkerOptions,"workerSrc",ee)}ngAfterViewChecked(){if(this.isInitialized)return;const k=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=k?!1===this.isVisible&&null!=k&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(k){if(!j()&&this.isVisible)if("src"in k)this.loadPDF();else if(this._pdf){if("renderText"in k?(this.pdfViewer.textLayerMode=this._renderText?this._renderTextMode:H.DISABLED,this.resetPdfDocument()):"showAll"in k&&(this.setupViewer(),this.resetPdfDocument()),"page"in k){const{page:z}=k;if(z.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){(0,e.D)(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe((0,n.R)(this.destroy$)).subscribe({next:k=>{const z=this._rotation+k.rotate,ee=k.getViewport({scale:this._zoom,rotation:z}).width*X.CSS_UNITS;let K=this._zoom,oe=!0;if(!this._originalSize||this._fitToPage&&ee>this.pdfViewerContainer.nativeElement.clientWidth){const ce=k.getViewport({scale:1,rotation:z});K=this.getScale(ce.width,ce.height),oe=!this._stickToPage}this.pdfViewer._setScale(K,oe)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){const k=X.getLinkTarget(this._externalLinkTarget);return k?{externalLinkTarget:k}:{}}initEventBus(){this.eventBus=function E(X,te){const k=new X.EventBus;return function O(X,te){o(X,"documentload").pipe((0,n.R)(te)).subscribe(()=>{const k=document.createEvent("CustomEvent");k.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(k)}),o(X,"pagerendered").pipe((0,n.R)(te)).subscribe(({pageNumber:k,cssTransform:z,source:ee})=>{const K=document.createEvent("CustomEvent");K.initCustomEvent("pagerendered",!0,!0,{pageNumber:k,cssTransform:z}),ee.div.dispatchEvent(K)}),o(X,"textlayerrendered").pipe((0,n.R)(te)).subscribe(({pageNumber:k,source:z})=>{const ee=document.createEvent("CustomEvent");ee.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:k}),z.textLayerDiv.dispatchEvent(ee)}),o(X,"pagechanging").pipe((0,n.R)(te)).subscribe(({pageNumber:k,source:z})=>{const ee=document.createEvent("UIEvents");ee.initEvent("pagechanging",!0,!0),ee.pageNumber=k,z.container.dispatchEvent(ee)}),o(X,"pagesinit").pipe((0,n.R)(te)).subscribe(({source:k})=>{const z=document.createEvent("CustomEvent");z.initCustomEvent("pagesinit",!0,!0,null),k.container.dispatchEvent(z)}),o(X,"pagesloaded").pipe((0,n.R)(te)).subscribe(({pagesCount:k,source:z})=>{const ee=document.createEvent("CustomEvent");ee.initCustomEvent("pagesloaded",!0,!0,{pagesCount:k}),z.container.dispatchEvent(ee)}),o(X,"scalechange").pipe((0,n.R)(te)).subscribe(({scale:k,presetValue:z,source:ee})=>{const K=document.createEvent("UIEvents");K.initEvent("scalechange",!0,!0),K.scale=k,K.presetValue=z,ee.container.dispatchEvent(K)}),o(X,"updateviewarea").pipe((0,n.R)(te)).subscribe(({location:k,source:z})=>{const ee=document.createEvent("UIEvents");ee.initEvent("updateviewarea",!0,!0),ee.location=k,z.container.dispatchEvent(ee)}),o(X,"find").pipe((0,n.R)(te)).subscribe(({source:k,type:z,query:ee,phraseSearch:K,caseSensitive:oe,highlightAll:ce,findPrevious:le})=>{if(k===window)return;const de=document.createEvent("CustomEvent");de.initCustomEvent("find"+z,!0,!0,{query:ee,phraseSearch:K,caseSensitive:oe,highlightAll:ce,findPrevious:le}),window.dispatchEvent(de)}),o(X,"attachmentsloaded").pipe((0,n.R)(te)).subscribe(({attachmentsCount:k,source:z})=>{const ee=document.createEvent("CustomEvent");ee.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:k}),z.container.dispatchEvent(ee)}),o(X,"sidebarviewchanged").pipe((0,n.R)(te)).subscribe(({view:k,source:z})=>{const ee=document.createEvent("CustomEvent");ee.initCustomEvent("sidebarviewchanged",!0,!0,{view:k}),z.outerContainer.dispatchEvent(ee)}),o(X,"pagemode").pipe((0,n.R)(te)).subscribe(({mode:k,source:z})=>{const ee=document.createEvent("CustomEvent");ee.initCustomEvent("pagemode",!0,!0,{mode:k}),z.pdfViewer.container.dispatchEvent(ee)}),o(X,"namedaction").pipe((0,n.R)(te)).subscribe(({action:k,source:z})=>{const ee=document.createEvent("CustomEvent");ee.initCustomEvent("namedaction",!0,!0,{action:k}),z.pdfViewer.container.dispatchEvent(ee)}),o(X,"presentationmodechanged").pipe((0,n.R)(te)).subscribe(({active:k,switchInProgress:z})=>{const ee=document.createEvent("CustomEvent");ee.initCustomEvent("presentationmodechanged",!0,!0,{active:k,switchInProgress:z}),window.dispatchEvent(ee)}),o(X,"outlineloaded").pipe((0,n.R)(te)).subscribe(({outlineCount:k,source:z})=>{const ee=document.createEvent("CustomEvent");ee.initCustomEvent("outlineloaded",!0,!0,{outlineCount:k}),z.container.dispatchEvent(ee)})}(k,te),k}(t,this.destroy$),o(this.eventBus,"pagerendered").pipe((0,n.R)(this.destroy$)).subscribe(k=>{this.pageRendered.emit(k)}),o(this.eventBus,"pagesinit").pipe((0,n.R)(this.destroy$)).subscribe(k=>{this.pageInitialized.emit(k)}),o(this.eventBus,"pagechanging").pipe((0,n.R)(this.destroy$)).subscribe(({pageNumber:k})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=k,this.pageChange.emit(k)},100)}),o(this.eventBus,"textlayerrendered").pipe((0,n.R)(this.destroy$)).subscribe(k=>{this.textLayerRendered.emit(k)})}initPDFServices(){this.pdfLinkService=new A.PDFLinkService({eventBus:this.eventBus,...this.getPDFLinkServiceConfig()}),this.pdfFindController=new A.PDFFindController({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:H.DISABLED,findController:this.pdfFindController,l10n:new A.GenericL10n("en"),imageResourcesPath:this._imageResourcesPath}}setupViewer(){I(C,"disableTextLayer",!this._renderText),this.initPDFServices(),this.pdfViewer=this._showAll?new A.PDFViewer(this.getPDFOptions()):new A.PDFSinglePageViewer(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(k){return k<1?1:k>this._pdf.numPages?this._pdf.numPages:k}getDocumentParams(){const k=typeof this.src;if(!this._cMapsUrl)return this.src;const z={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return"string"===k?z.url=this.src:"object"===k&&(void 0!==this.src.byteLength?z.data=this.src:Object.assign(z,this.src)),z}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.setupViewer(),this.loadingTask=c.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=z=>{this.onProgress.emit(z)};const k=this.src;(0,e.D)(this.loadingTask.promise).pipe((0,n.R)(this.destroy$)).subscribe({next:z=>{this._pdf=z,this.lastLoaded=k,this.afterLoadComplete.emit(z),this.resetPdfDocument(),this.update()},error:z=>{this.lastLoaded=null,this.onError.emit(z)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page),(0!==this._rotation||this.pdfViewer.pagesRotation!==this._rotation)&&setTimeout(()=>{this.pdfViewer.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.updateSize()}getScale(k,z){const ee=this._showBorders?2*X.BORDER_WIDTH:0,K=this.pdfViewerContainer.nativeElement.clientWidth-ee,oe=this.pdfViewerContainer.nativeElement.clientHeight-ee;if(0===oe||0===z||0===K||0===k)return 1;let ce=1;switch(this._zoomScale){case"page-fit":ce=Math.min(oe/z,K/k);break;case"page-height":ce=oe/z;break;default:ce=K/k}return this._zoom*ce/X.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){j()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){j()||this.ngZone.runOutsideAngular(()=>{o(window,"resize").pipe(function m(X,te=R){return(0,M.e)((k,z)=>{let ee=null,K=null,oe=null;const ce=()=>{if(ee){ee.unsubscribe(),ee=null;const de=K;K=null,z.next(de)}};function le(){const de=oe+X,fe=te.now();if(fe<de)return ee=this.schedule(void 0,de-fe),void z.add(ee);ce()}k.subscribe((0,T.x)(z,de=>{K=de,oe=te.now(),ee||(ee=te.schedule(le,X),z.add(ee))},()=>{ce(),z.complete()},void 0,()=>{K=ee=null}))})}(100),(0,i.h)(()=>this._canAutoResize&&!!this._pdf),(0,n.R)(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(z){return new(z||X)(B.Y36(B.SBq),B.Y36(B.R0b))};static \u0275cmp=B.Xpm({type:X,selectors:[["pdf-viewer"]],viewQuery:function(z,ee){if(1&z&&B.Gf(g,5),2&z){let K;B.iGM(K=B.CRH())&&(ee.pdfViewerContainer=K.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[B.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(z,ee){1&z&&(B.TgZ(0,"div",0,1),B._UZ(2,"div",2),B.qZA())},styles:['.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width=\'1px\' height=\'1px\' xmlns=\'http://www.w3.org/2000/svg\'><rect width=\'100%\' height=\'100%\' style=\'fill:rgba(0, 54, 255, 0.13);\'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}']})}return X})(),$=(()=>{class X{static \u0275fac=function(z){return new(z||X)};static \u0275mod=B.oAB({type:X});static \u0275inj=B.cJS({})}return X})();var Y=N(2782);const ne=function(X){return{activeItem:X}};let ae=(()=>{class X{constructor(k){this._viewportScroller=k,this.page1=!0,this.page2=!1,this.currentPage=1,this.pdfSrc="../assets/Marwan_Abubakr_Resume.pdf"}pdfPagination(k,z){this.currentPage=k,this.toggleBullets(z),this._viewportScroller.scrollToPosition([0,0])}toggleBullets(k){this.page1="page1"===k,this.page2="page2"===k}static#e=this.\u0275fac=function(z){return new(z||X)(B.Y36(w.EM))};static#t=this.\u0275cmp=B.Xpm({type:X,selectors:[["app-resume"]],standalone:!0,features:[B._Bn([Y.m]),B.jDz],decls:16,vars:15,consts:[[1,"resume","position-relative"],[1,"container","text-center"],["download","Marwan Abubakr FrontEnd Angular.pdf",1,"btn","main__btn","text-capitalize","text-white","mb-5",3,"href"],[1,"fa-solid","fa-download","px-1"],[1,"resume__pdf"],[1,"mb-5",3,"src","render-text","page","external-link-target","rotation","original-size","fit-to-page","show-all","autoresize","pageChange"],[1,"resume__bulets"],["bullets",""],[1,"mb-5","activeItem",3,"ngClass","click"],["target","_blank",1,"btn","main__btn","text-capitalize","text-white","mb-5",3,"href"],[1,"fa-solid","fa-print","px-1"]],template:function(z,ee){1&z&&(B.TgZ(0,"section",0)(1,"div",1)(2,"a",2),B._UZ(3,"i",3),B.TgZ(4,"span"),B._uU(5,"download CV"),B.qZA()(),B.TgZ(6,"div",4)(7,"pdf-viewer",5),B.NdJ("pageChange",function(oe){return ee.currentPage=oe}),B.qZA(),B.TgZ(8,"div",6,7)(10,"span",8),B.NdJ("click",function(){return ee.pdfPagination(1,"page1")}),B.qZA()(),B.TgZ(11,"a",9),B._UZ(12,"i",10),B.TgZ(13,"span"),B._uU(14,"print CV"),B.qZA()()()(),B._UZ(15,"app-canvase"),B.qZA()),2&z&&(B.xp6(2),B.Q6J("href",ee.pdfSrc,B.LSH),B.xp6(5),B.Q6J("src",ee.pdfSrc)("render-text",!0)("page",ee.currentPage)("external-link-target","blank")("render-text",!0)("rotation",90)("original-size",!1)("fit-to-page",!0)("show-all",!1)("autoresize",!0),B.xp6(3),B.Q6J("ngClass",B.VKq(13,ne,ee.page1)),B.xp6(1),B.Q6J("href",ee.pdfSrc,B.LSH))},dependencies:[w.ez,w.mk,$,q,p.z],styles:["section[_ngcontent-%COMP%]{padding-top:150px;padding-bottom:100px;background-color:#0f0b18}.main-fonts[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.projects__active[_ngcontent-%COMP%]{background-color:#171126}.resume[_ngcontent-%COMP%]{padding-bottom:0}@media (max-width: 576px){.resume[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{height:55vh}}@media (min-width: 577px) and (max-width: 767px){.resume[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{height:70vh}}@media (min-width: 768px) and (max-width: 992px){.resume[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{height:85vh}}@media (min-width: 993px) and (max-width: 1199px){.resume[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{height:130vh}}@media (min-width: 1200px) and (max-width: 1399px){.resume[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{height:160vh}}@media (min-width: 1400px){.resume[_ngcontent-%COMP%]   pdf-viewer[_ngcontent-%COMP%]{height:155vh}}.resume__bulets[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;cursor:pointer;width:20px;height:20px;border-radius:50%;margin-left:5px;margin-right:5px;background-color:#c95bf5;gap:10px}.resume[_ngcontent-%COMP%]   .activeItem[_ngcontent-%COMP%]{background-color:#623686;border:2px solid #fff}"]})}return X})()},9627:(module,__unused_webpack_exports,__webpack_require__)=>{var _asyncToGenerator=__webpack_require__(7156).default,N;globalThis,N=()=>(()=>{"use strict";var __webpack_modules__=[,(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.VerbosityLevel=u.Util=u.UnknownErrorException=u.UnexpectedResponseException=u.UNSUPPORTED_FEATURES=u.TextRenderingMode=u.StreamType=u.RenderingIntentFlag=u.PermissionFlag=u.PasswordResponses=u.PasswordException=u.PageActionEventType=u.OPS=u.MissingPDFException=u.LINE_FACTOR=u.LINE_DESCENT_FACTOR=u.InvalidPDFException=u.ImageKind=u.IDENTITY_MATRIX=u.FormatError=u.FontType=u.FeatureTest=u.FONT_IDENTITY_MATRIX=u.DocumentActionEventType=u.CMapCompressionType=u.BaseException=u.AnnotationType=u.AnnotationStateModelType=u.AnnotationReviewState=u.AnnotationReplyType=u.AnnotationMode=u.AnnotationMarkedState=u.AnnotationFlag=u.AnnotationFieldFlag=u.AnnotationEditorType=u.AnnotationEditorPrefix=u.AnnotationEditorParamsType=u.AnnotationBorderStyleType=u.AnnotationActionEventType=u.AbortException=void 0,u.arrayByteLength=te,u.arraysToBytes=function k(re){const J=re.length;if(1===J&&re[0]instanceof Uint8Array)return re[0];let Z=0;for(let ge=0;ge<J;ge++)Z+=te(re[ge]);let he=0;const ue=new Uint8Array(Z);for(let ge=0;ge<J;ge++){let pe=re[ge];pe instanceof Uint8Array||(pe="string"==typeof pe?X(pe):new Uint8Array(pe));const xe=pe.byteLength;ue.set(pe,he),he+=xe}return ue},u.assert=function A(re,J){re||C(J)},u.bytesToString=function ae(re){("object"!=typeof re||null===re||void 0===re.length)&&C("Invalid argument for bytesToString");const J=re.length,Z=8192;if(J<Z)return String.fromCharCode.apply(null,re);const he=[];for(let ue=0;ue<J;ue+=Z){const ge=Math.min(ue+Z,J),pe=re.subarray(ue,ge);he.push(String.fromCharCode.apply(null,pe))}return he.join("")},u.createPromiseCapability=function ve(){const re=Object.create(null);let J=!1;return Object.defineProperty(re,"settled",{get:()=>J}),re.promise=new Promise(function(Z,he){re.resolve=function(ue){J=!0,Z(ue)},re.reject=function(ue){J=!0,he(ue)}}),re},u.createValidAbsoluteUrl=function g(re,J=null,Z=null){if(!re)return null;try{if(Z&&"string"==typeof re){if(Z.addDefaultProtocol&&re.startsWith("www.")){const ue=re.match(/\./g);ue&&ue.length>=2&&(re=`http://${re}`)}if(Z.tryConvertEncoding)try{re=we(re)}catch{}}const he=J?new URL(re,J):new URL(re);if(function t(re){if(!re)return!1;switch(re.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(he))return he}catch{}return null},u.escapeString=function Pe(re){return re.replace(/([()\\\n\r])/g,J=>"\n"===J?"\\n":"\r"===J?"\\r":`\\${J}`)},u.getModificationDate=function Ce(re=new Date){return[re.getUTCFullYear().toString(),(re.getUTCMonth()+1).toString().padStart(2,"0"),re.getUTCDate().toString().padStart(2,"0"),re.getUTCHours().toString().padStart(2,"0"),re.getUTCMinutes().toString().padStart(2,"0"),re.getUTCSeconds().toString().padStart(2,"0")].join("")},u.getVerbosityLevel=function m(){return M},u.info=function i(re){M>=ie.INFOS&&console.log(`Info: ${re}`)},u.isArrayBuffer=function Be(re){return"object"==typeof re&&null!==re&&void 0!==re.byteLength},u.isArrayEqual=function Ve(re,J){if(re.length!==J.length)return!1;for(let Z=0,he=re.length;Z<he;Z++)if(re[Z]!==J[Z])return!1;return!0},u.isAscii=function ye(re){return/^[\x00-\x7F]*$/.test(re)},u.objectFromMap=function K(re){const J=Object.create(null);for(const[Z,he]of re)J[Z]=he;return J},u.objectSize=function ee(re){return Object.keys(re).length},u.setVerbosityLevel=function T(re){Number.isInteger(re)&&(M=re)},u.shadow=E,u.string32=function z(re){return String.fromCharCode(re>>24&255,re>>16&255,re>>8&255,255&re)},u.stringToBytes=X,u.stringToPDFString=function _e(re){if(re[0]>="\xef"){let Z;if("\xfe"===re[0]&&"\xff"===re[1]?Z="utf-16be":"\xff"===re[0]&&"\xfe"===re[1]?Z="utf-16le":"\xef"===re[0]&&"\xbb"===re[1]&&"\xbf"===re[2]&&(Z="utf-8"),Z)try{const he=new TextDecoder(Z,{fatal:!0}),ue=X(re);return he.decode(ue)}catch(he){c(`stringToPDFString: "${he}".`)}}const J=[];for(let Z=0,he=re.length;Z<he;Z++){const ue=me[re.charCodeAt(Z)];J.push(ue?String.fromCharCode(ue):re.charAt(Z))}return J.join("")},u.stringToUTF16BEString=function be(re){const J=["\xfe\xff"];for(let Z=0,he=re.length;Z<he;Z++){const ue=re.charCodeAt(Z);J.push(String.fromCharCode(ue>>8&255),String.fromCharCode(255&ue))}return J.join("")},u.stringToUTF8String=we,u.unreachable=C,u.utf8StringToString=function Re(re){return unescape(encodeURIComponent(re))},u.warn=c,N(2),u.IDENTITY_MATRIX=[1,0,0,1,0,0],u.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],u.LINE_FACTOR=1.35,u.LINE_DESCENT_FACTOR=.35,u.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},u.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},u.AnnotationEditorPrefix="pdfjs_internal_editor_",u.AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,INK:15},u.AnnotationEditorParamsType={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13},u.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},u.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},u.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},u.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},u.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},u.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},u.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},u.AnnotationReplyType={GROUP:"Group",REPLY:"R"},u.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},u.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},u.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},u.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},u.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},u.PageActionEventType={O:"PageOpen",C:"PageClose"},u.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},u.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const ie={ERRORS:0,WARNINGS:1,INFOS:5};u.VerbosityLevel=ie,u.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},u.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},u.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},u.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let M=ie.WARNINGS;function c(re){M>=ie.WARNINGS&&console.log(`Warning: ${re}`)}function C(re){throw new Error(re)}function E(re,J,Z){return Object.defineProperty(re,J,{value:Z,enumerable:!0,configurable:!0,writable:!1}),Z}const O=function(){function J(Z,he){this.constructor===J&&C("Cannot initialize BaseException."),this.message=Z,this.name=he}return J.prototype=new Error,J.constructor=J,J}();function X(re){"string"!=typeof re&&C("Invalid argument for stringToBytes");const J=re.length,Z=new Uint8Array(J);for(let he=0;he<J;++he)Z[he]=255&re.charCodeAt(he);return Z}function te(re){return void 0!==re.length?re.length:void 0!==re.byteLength?re.byteLength:void C("Invalid argument for arrayByteLength")}u.BaseException=O,u.PasswordException=class I extends O{constructor(J,Z){super(J,"PasswordException"),this.code=Z}},u.UnknownErrorException=class j extends O{constructor(J,Z){super(J,"UnknownErrorException"),this.details=Z}},u.InvalidPDFException=class H extends O{constructor(J){super(J,"InvalidPDFException")}},u.MissingPDFException=class q extends O{constructor(J){super(J,"MissingPDFException")}},u.UnexpectedResponseException=class $ extends O{constructor(J,Z){super(J,"UnexpectedResponseException"),this.status=Z}},u.FormatError=class Y extends O{constructor(J){super(J,"FormatError")}},u.AbortException=class ne extends O{constructor(J){super(J,"AbortException")}},u.FeatureTest=class le{static get isLittleEndian(){return E(this,"isLittleEndian",function oe(){const re=new Uint8Array(4);return re[0]=1,1===new Uint32Array(re.buffer,0,1)[0]}())}static get isEvalSupported(){return E(this,"isEvalSupported",function ce(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return E(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const de=[...Array(256).keys()].map(re=>re.toString(16).padStart(2,"0"));class fe{static makeHexColor(J,Z,he){return`#${de[J]}${de[Z]}${de[he]}`}static scaleMinMax(J,Z){let he;J[0]?(J[0]<0&&(he=Z[0],Z[0]=Z[1],Z[1]=he),Z[0]*=J[0],Z[1]*=J[0],J[3]<0&&(he=Z[2],Z[2]=Z[3],Z[3]=he),Z[2]*=J[3],Z[3]*=J[3]):(he=Z[0],Z[0]=Z[2],Z[2]=he,he=Z[1],Z[1]=Z[3],Z[3]=he,J[1]<0&&(he=Z[2],Z[2]=Z[3],Z[3]=he),Z[2]*=J[1],Z[3]*=J[1],J[2]<0&&(he=Z[0],Z[0]=Z[1],Z[1]=he),Z[0]*=J[2],Z[1]*=J[2]),Z[0]+=J[4],Z[1]+=J[4],Z[2]+=J[5],Z[3]+=J[5]}static transform(J,Z){return[J[0]*Z[0]+J[2]*Z[1],J[1]*Z[0]+J[3]*Z[1],J[0]*Z[2]+J[2]*Z[3],J[1]*Z[2]+J[3]*Z[3],J[0]*Z[4]+J[2]*Z[5]+J[4],J[1]*Z[4]+J[3]*Z[5]+J[5]]}static applyTransform(J,Z){return[J[0]*Z[0]+J[1]*Z[2]+Z[4],J[0]*Z[1]+J[1]*Z[3]+Z[5]]}static applyInverseTransform(J,Z){const he=Z[0]*Z[3]-Z[1]*Z[2];return[(J[0]*Z[3]-J[1]*Z[2]+Z[2]*Z[5]-Z[4]*Z[3])/he,(-J[0]*Z[1]+J[1]*Z[0]+Z[4]*Z[1]-Z[5]*Z[0])/he]}static getAxialAlignedBoundingBox(J,Z){const he=fe.applyTransform(J,Z),ue=fe.applyTransform(J.slice(2,4),Z),ge=fe.applyTransform([J[0],J[3]],Z),pe=fe.applyTransform([J[2],J[1]],Z);return[Math.min(he[0],ue[0],ge[0],pe[0]),Math.min(he[1],ue[1],ge[1],pe[1]),Math.max(he[0],ue[0],ge[0],pe[0]),Math.max(he[1],ue[1],ge[1],pe[1])]}static inverseTransform(J){const Z=J[0]*J[3]-J[1]*J[2];return[J[3]/Z,-J[1]/Z,-J[2]/Z,J[0]/Z,(J[2]*J[5]-J[4]*J[3])/Z,(J[4]*J[1]-J[5]*J[0])/Z]}static apply3dTransform(J,Z){return[J[0]*Z[0]+J[1]*Z[1]+J[2]*Z[2],J[3]*Z[0]+J[4]*Z[1]+J[5]*Z[2],J[6]*Z[0]+J[7]*Z[1]+J[8]*Z[2]]}static singularValueDecompose2dScale(J){const Z=[J[0],J[2],J[1],J[3]],he=J[0]*Z[0]+J[1]*Z[2],pe=J[2]*Z[1]+J[3]*Z[3],xe=(he+pe)/2,Me=Math.sqrt((he+pe)**2-4*(he*pe-(J[2]*Z[0]+J[3]*Z[2])*(J[0]*Z[1]+J[1]*Z[3])))/2,Se=xe-Me||1;return[Math.sqrt(xe+Me||1),Math.sqrt(Se)]}static normalizeRect(J){const Z=J.slice(0);return J[0]>J[2]&&(Z[0]=J[2],Z[2]=J[0]),J[1]>J[3]&&(Z[1]=J[3],Z[3]=J[1]),Z}static intersect(J,Z){const he=Math.max(Math.min(J[0],J[2]),Math.min(Z[0],Z[2])),ue=Math.min(Math.max(J[0],J[2]),Math.max(Z[0],Z[2]));if(he>ue)return null;const ge=Math.max(Math.min(J[1],J[3]),Math.min(Z[1],Z[3])),pe=Math.min(Math.max(J[1],J[3]),Math.max(Z[1],Z[3]));return ge>pe?null:[he,ge,ue,pe]}static bezierBoundingBox(J,Z,he,ue,ge,pe,xe,Me){const Te=[],Se=[[],[]];let Le,ke,Ie,Ae,De,Ne,Ue,je;for(let We=0;We<2;++We)if(0===We?(ke=6*J-12*he+6*ge,Le=-3*J+9*he-9*ge+3*xe,Ie=3*he-3*J):(ke=6*Z-12*ue+6*pe,Le=-3*Z+9*ue-9*pe+3*Me,Ie=3*ue-3*Z),Math.abs(Le)<1e-12){if(Math.abs(ke)<1e-12)continue;Ae=-Ie/ke,0<Ae&&Ae<1&&Te.push(Ae)}else Ue=ke*ke-4*Ie*Le,je=Math.sqrt(Ue),!(Ue<0)&&(De=(-ke+je)/(2*Le),0<De&&De<1&&Te.push(De),Ne=(-ke-je)/(2*Le),0<Ne&&Ne<1&&Te.push(Ne));let Ee,Oe=Te.length;const Fe=Oe;for(;Oe--;)Ae=Te[Oe],Ee=1-Ae,Se[0][Oe]=Ee*Ee*Ee*J+3*Ee*Ee*Ae*he+3*Ee*Ae*Ae*ge+Ae*Ae*Ae*xe,Se[1][Oe]=Ee*Ee*Ee*Z+3*Ee*Ee*Ae*ue+3*Ee*Ae*Ae*pe+Ae*Ae*Ae*Me;return Se[0][Fe]=J,Se[1][Fe]=Z,Se[0][Fe+1]=xe,Se[1][Fe+1]=Me,Se[0].length=Se[1].length=Fe+2,[Math.min(...Se[0]),Math.min(...Se[1]),Math.max(...Se[0]),Math.max(...Se[1])]}}u.Util=fe;const me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function we(re){return decodeURIComponent(escape(re))}},(se,u,N)=>{N(3)},(se,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.isNodeJS=void 0;const N=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);u.isNodeJS=N},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:se,NodeCMapReaderFactory:u,NodeStandardFontDataFactory:N}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=se,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=u,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=N}function setPDFNetworkStreamFactory(se){createPDFNetworkStream=se}function getDocument(se){const u=new PDFDocumentLoadingTask;let N;if("string"==typeof se||se instanceof URL)N={url:se};else if((0,_util.isArrayBuffer)(se))N={data:se};else if(se instanceof PDFDataRangeTransport)N={range:se};else{if("object"!=typeof se)throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!se.url&&!se.data&&!se.range)throw new Error("Invalid parameter object: need either .data, .range or .url");N=se}const p=Object.create(null);let w=null,B=null;for(const G in N){const x=N[G];switch(G){case"url":if(typeof window<"u")try{p[G]=new URL(x,window.location).href;continue}catch(s){(0,_util.warn)(`Cannot create valid URL: "${s}".`)}else if("string"==typeof x||x instanceof URL){p[G]=x.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":w=x;continue;case"worker":B=x;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&x instanceof Buffer)p[G]=new Uint8Array(x);else{if(x instanceof Uint8Array)break;if("string"==typeof x)p[G]=(0,_util.stringToBytes)(x);else if("object"!=typeof x||null===x||isNaN(x.length)){if(!(0,_util.isArrayBuffer)(x))throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.");p[G]=new Uint8Array(x)}else p[G]=new Uint8Array(x)}continue}p[G]=x}if(p.CMapReaderFactory=p.CMapReaderFactory||DefaultCMapReaderFactory,p.StandardFontDataFactory=p.StandardFontDataFactory||DefaultStandardFontDataFactory,p.ignoreErrors=!0!==p.stopAtErrors,p.fontExtraProperties=!0===p.fontExtraProperties,p.pdfBug=!0===p.pdfBug,p.enableXfa=!0===p.enableXfa,(!Number.isInteger(p.rangeChunkSize)||p.rangeChunkSize<1)&&(p.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof p.docBaseUrl||(0,_display_utils.isDataScheme)(p.docBaseUrl))&&(p.docBaseUrl=null),(!Number.isInteger(p.maxImageSize)||p.maxImageSize<-1)&&(p.maxImageSize=-1),"string"!=typeof p.cMapUrl&&(p.cMapUrl=null),"string"!=typeof p.standardFontDataUrl&&(p.standardFontDataUrl=null),"boolean"!=typeof p.useWorkerFetch&&(p.useWorkerFetch=p.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&p.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof p.isEvalSupported&&(p.isEvalSupported=!0),"boolean"!=typeof p.disableFontFace&&(p.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof p.useSystemFonts&&(p.useSystemFonts=!_is_node.isNodeJS&&!p.disableFontFace),("object"!=typeof p.ownerDocument||null===p.ownerDocument)&&(p.ownerDocument=globalThis.document),"boolean"!=typeof p.disableRange&&(p.disableRange=!1),"boolean"!=typeof p.disableStream&&(p.disableStream=!1),"boolean"!=typeof p.disableAutoFetch&&(p.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(p.verbosity),!B){const G={verbosity:p.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};B=G.port?PDFWorker.fromPort(G):new PDFWorker(G),u._worker=B}const U=u.docId;return B.promise.then(function(){if(u.destroyed)throw new Error("Loading aborted");const G=_fetchDocument(B,p,w,U),x=new Promise(function(s){let f;w?f=new _transport_stream.PDFDataTransportStream({length:p.length,initialData:p.initialData,progressiveDone:p.progressiveDone,contentDispositionFilename:p.contentDispositionFilename,disableRange:p.disableRange,disableStream:p.disableStream},w):p.data||(f=createPDFNetworkStream({url:p.url,length:p.length,httpHeaders:p.httpHeaders,withCredentials:p.withCredentials,rangeChunkSize:p.rangeChunkSize,disableRange:p.disableRange,disableStream:p.disableStream})),s(f)});return Promise.all([G,x]).then(function([s,f]){if(u.destroyed)throw new Error("Loading aborted");const a=new _message_handler.MessageHandler(U,s,B.port),l=new WorkerTransport(a,u,f,p);u._transport=l,a.send("Ready",null)})}).catch(u._capability.reject),u}function _fetchDocument(se,u,N,p){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(se,u,N,p){if(se.destroyed)throw new Error("Worker was destroyed");N&&(u.length=N.length,u.initialData=N.initialData,u.progressiveDone=N.progressiveDone,u.contentDispositionFilename=N.contentDispositionFilename);const w=yield se.messageHandler.sendWithPromise("GetDocRequest",{docId:p,apiVersion:"2.16.105",source:{data:u.data,url:u.url,password:u.password,disableAutoFetch:u.disableAutoFetch,rangeChunkSize:u.rangeChunkSize,length:u.length},maxImageSize:u.maxImageSize,disableFontFace:u.disableFontFace,docBaseUrl:u.docBaseUrl,ignoreErrors:u.ignoreErrors,isEvalSupported:u.isEvalSupported,fontExtraProperties:u.fontExtraProperties,enableXfa:u.enableXfa,useSystemFonts:u.useSystemFonts,cMapUrl:u.useWorkerFetch?u.cMapUrl:null,standardFontDataUrl:u.useWorkerFetch?u.standardFontDataUrl:null});if(u.data&&(u.data=null),se.destroyed)throw new Error("Worker was destroyed");return w})).apply(this,arguments)}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+PDFDocumentLoadingTask.#e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var u=this;return _asyncToGenerator(function*(){u.destroyed=!0,yield u._transport?.destroy(),u._transport=null,u._worker&&(u._worker.destroy(),u._worker=null)})()}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(u,N,p=!1,w=null){this.length=u,this.initialData=N,this.progressiveDone=p,this.contentDispositionFilename=w,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(u){this._rangeListeners.push(u)}addProgressListener(u){this._progressListeners.push(u)}addProgressiveReadListener(u){this._progressiveReadListeners.push(u)}addProgressiveDoneListener(u){this._progressiveDoneListeners.push(u)}onDataRange(u,N){for(const p of this._rangeListeners)p(u,N)}onDataProgress(u,N){this._readyCapability.promise.then(()=>{for(const p of this._progressListeners)p(u,N)})}onDataProgressiveRead(u){this._readyCapability.promise.then(()=>{for(const N of this._progressiveReadListeners)N(u)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const u of this._progressiveDoneListeners)u()})}transportReady(){this._readyCapability.resolve()}requestDataRange(u,N){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(u,N){var w,p=this;this._pdfInfo=u,this._transport=N,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(w=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),p.stats||{streamTypes:{},fontTypes:{}}}),function(){return w.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(u){return this._transport.getPage(u)}getPageIndex(u){return this._transport.getPageIndex(u)}getDestinations(){return this._transport.getDestinations()}getDestination(u){return this._transport.getDestination(u)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(u=!1){return this._transport.startCleanup(u||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(u,N,p,w,B=!1){this._pageIndex=u,this._pageInfo=N,this._ownerDocument=w,this._transport=p,this._stats=B?new _display_utils.StatTimer:null,this._pdfBug=B,this.commonObjs=p.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:u,rotation:N=this.rotate,offsetX:p=0,offsetY:w=0,dontFlip:B=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:u,rotation:N,offsetX:p,offsetY:w,dontFlip:B})}getAnnotations({intent:u="display"}={}){const N=this._transport.getRenderingIntent(u);let p=this._annotationPromises.get(N.cacheKey);return p||(p=this._transport.getAnnotations(this._pageIndex,N.renderingIntent),this._annotationPromises.set(N.cacheKey,p),p=p.then(w=>{for(const B of w)void 0!==B.titleObj&&Object.defineProperty(B,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),B.titleObj.str)}),void 0!==B.contentsObj&&Object.defineProperty(B,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),B.contentsObj.str)});return w})),p}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}getXfa(){var u=this;return _asyncToGenerator(function*(){return u._transport._htmlForXfa?.children[u._pageIndex]||null})()}render({canvasContext:u,viewport:N,intent:p="display",annotationMode:w=_util.AnnotationMode.ENABLE,transform:B=null,imageLayer:U=null,canvasFactory:G=null,background:x=null,optionalContentConfigPromise:s=null,annotationCanvasMap:f=null,pageColors:a=null,printAnnotationStorage:l=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&w===_util.AnnotationMode.ENABLE&&(w=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&w===_util.AnnotationMode.ENABLE&&(w=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const S=this._transport.getRenderingIntent(p,w,l);this.pendingCleanup=!1,s||(s=this._transport.getOptionalContentConfig());let h=this._intentStates.get(S.cacheKey);h||(h=Object.create(null),this._intentStates.set(S.cacheKey,h)),h.streamReaderCancelTimeout&&(clearTimeout(h.streamReaderCancelTimeout),h.streamReaderCancelTimeout=null);const o=G||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),r=!!(S.renderingIntent&_util.RenderingIntentFlag.PRINT);h.displayReadyCapability||(h.displayReadyCapability=(0,_util.createPromiseCapability)(),h.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(S));const v=d=>{h.renderTasks.delete(y),(this.cleanupAfterRender||r)&&(this.pendingCleanup=!0),this._tryCleanup(),d?(y.capability.reject(d),this._abortOperatorList({intentState:h,reason:d instanceof Error?d:new Error(d)})):y.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},y=new InternalRenderTask({callback:v,params:{canvasContext:u,viewport:N,transform:B,imageLayer:U,background:x},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:f,operatorList:h.operatorList,pageIndex:this._pageIndex,canvasFactory:o,useRequestAnimationFrame:!r,pdfBug:this._pdfBug,pageColors:a});(h.renderTasks||=new Set).add(y);const b=y.task;return Promise.all([h.displayReadyCapability.promise,s]).then(([d,e])=>{this.pendingCleanup?v():(this._stats&&this._stats.time("Rendering"),y.initializeGraphics({transparency:d,optionalContentConfig:e}),y.operatorListChanged())}).catch(v),b}getOperatorList({intent:u="display",annotationMode:N=_util.AnnotationMode.ENABLE,printAnnotationStorage:p=null}={}){const B=this._transport.getRenderingIntent(u,N,p,!0);let G,U=this._intentStates.get(B.cacheKey);return U||(U=Object.create(null),this._intentStates.set(B.cacheKey,U)),U.opListReadCapability||(G=Object.create(null),G.operatorListChanged=function w(){U.operatorList.lastChunk&&(U.opListReadCapability.resolve(U.operatorList),U.renderTasks.delete(G))},U.opListReadCapability=(0,_util.createPromiseCapability)(),(U.renderTasks||=new Set).add(G),U.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(B)),U.opListReadCapability.promise}streamTextContent({disableCombineTextItems:u=!1,includeMarkedContent:N=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==u,includeMarkedContent:!0===N},{highWaterMark:100,size:w=>w.items.length})}getTextContent(u={}){if(this._transport._htmlForXfa)return this.getXfa().then(p=>_xfa_text.XfaText.textContent(p));const N=this.streamTextContent(u);return new Promise(function(p,w){const U=N.getReader(),G={items:[],styles:Object.create(null)};!function B(){U.read().then(function({value:x,done:s}){s?p(G):(Object.assign(G.styles,x.styles),G.items.push(...x.items),B())},w)}()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const u=[];for(const N of this._intentStates.values())if(this._abortOperatorList({intentState:N,reason:new Error("Page was destroyed."),force:!0}),!N.opListReadCapability)for(const p of N.renderTasks)u.push(p.completed),p.cancel();this.objs.clear();for(const N of this._bitmaps)N.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(u)}cleanup(u=!1){return this.pendingCleanup=!0,this._tryCleanup(u)}_tryCleanup(u=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:N,operatorList:p}of this._intentStates.values())if(N.size>0||!p.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,u&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const N of this._bitmaps)N.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(u,N){const p=this._intentStates.get(N);p&&(this._stats&&this._stats.timeEnd("Page Request"),p.displayReadyCapability&&p.displayReadyCapability.resolve(u))}_renderPageChunk(u,N){for(let p=0,w=u.length;p<w;p++)N.operatorList.fnArray.push(u.fnArray[p]),N.operatorList.argsArray.push(u.argsArray[p]);N.operatorList.lastChunk=u.lastChunk,N.operatorList.separateAnnots=u.separateAnnots;for(const p of N.renderTasks)p.operatorListChanged();u.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:u,cacheKey:N,annotationStorageMap:p}){const B=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:u,cacheKey:N,annotationStorage:p}).getReader(),U=this._intentStates.get(N);U.streamReader=B;const G=()=>{B.read().then(({value:x,done:s})=>{s?U.streamReader=null:this._transport.destroyed||(this._renderPageChunk(x,U),G())},x=>{if(U.streamReader=null,!this._transport.destroyed){if(U.operatorList){U.operatorList.lastChunk=!0;for(const s of U.renderTasks)s.operatorListChanged();this._tryCleanup()}if(U.displayReadyCapability)U.displayReadyCapability.reject(x);else{if(!U.opListReadCapability)throw x;U.opListReadCapability.reject(x)}}})};G()}_abortOperatorList({intentState:u,reason:N,force:p=!1}){if(u.streamReader){if(!p){if(u.renderTasks.size>0)return;if(N instanceof _display_utils.RenderingCancelledException)return void(u.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:u,reason:N,force:!0}),u.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(u.streamReader.cancel(new _util.AbortException(N.message)).catch(()=>{}),u.streamReader=null,!this._transport.destroyed){for(const[w,B]of this._intentStates)if(B===u){this._intentStates.delete(w);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(u,N){const p={data:structuredClone(u,N)};this._deferred.then(()=>{for(const w of this._listeners)w.call(this,p)})}addEventListener(u,N){this._listeners.push(N)}removeEventListener(u,N){const p=this._listeners.indexOf(N);this._listeners.splice(p,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const se=document?.currentScript?.src;se&&(PDFWorkerUtil.fallbackWorkerSrc=se.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(se,u){let N;try{if(N=new URL(se),!N.origin||"null"===N.origin)return!1}catch{return!1}const p=new URL(u,N);return N.origin===p.origin},PDFWorkerUtil.createCDNWrapper=function(se){return URL.createObjectURL(new Blob([`importScripts("${se}");`]))};class PDFWorker{static#workerPorts=new WeakMap;constructor({name:se=null,port:u=null,verbosity:N=(0,_util.getVerbosityLevel)()}={}){if(u&&PDFWorker.#workerPorts.has(u))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=se,this.destroyed=!1,this.verbosity=N,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,u)return PDFWorker.#workerPorts.set(u,this),void this._initializeFromPort(u);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(se){this._port=se,this._messageHandler=new _message_handler.MessageHandler("main","worker",se),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:se}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,se)||(se=PDFWorkerUtil.createCDNWrapper(new URL(se,window.location).href));const u=new Worker(se),N=new _message_handler.MessageHandler("main","worker",u),p=()=>{u.removeEventListener("error",w),N.destroy(),u.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},w=()=>{this._webWorker||p()};u.addEventListener("error",w),N.on("test",U=>{u.removeEventListener("error",w),this.destroyed?p():U?(this._messageHandler=N,this._port=u,this._webWorker=u,this._readyCapability.resolve(),N.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),N.destroy(),u.terminate())}),N.on("ready",U=>{if(u.removeEventListener("error",w),this.destroyed)p();else try{B()}catch{this._setupFakeWorker()}});const B=()=>{const U=new Uint8Array;N.send("test",U,[U.buffer])};return void B()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(se=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const u=new LoopbackPort;this._port=u;const N="fake"+PDFWorkerUtil.fakeWorkerId++,p=new _message_handler.MessageHandler(N+"_worker",N,u);se.setup(p,u);const w=new _message_handler.MessageHandler(N,N+"_worker",u);this._messageHandler=w,this._readyCapability.resolve(),w.send("configure",{verbosity:this.verbosity})}).catch(se=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${se.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(se){if(!se?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(se.port)?this.#workerPorts.get(se.port):new PDFWorker(se)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function se(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#n=new Map;#i=null;constructor(u,N,p,w){this.messageHandler=u,this.loadingTask=N,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:N.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:w.ownerDocument,styleElement:w.styleElement}),this._params=w,w.useWorkerFetch||(this.CMapReaderFactory=new w.CMapReaderFactory({baseUrl:w.cMapUrl,isCompressed:w.cMapPacked}),this.StandardFontDataFactory=new w.StandardFontDataFactory({baseUrl:w.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=p,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(u,N=_util.AnnotationMode.ENABLE,p=null,w=!1){let B=_util.RenderingIntentFlag.DISPLAY,U=null;switch(u){case"any":B=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":B=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${u}`)}switch(N){case _util.AnnotationMode.DISABLE:B+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:B+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:B+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,U=(B&_util.RenderingIntentFlag.PRINT&&p instanceof _annotation_storage.PrintAnnotationStorage?p:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${N}`)}return w&&(B+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:B,cacheKey:`${B}_${_annotation_storage.AnnotationStorage.getHash(U)}`,annotationStorageMap:U}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const u=[];for(const p of this.#t.values())u.push(p._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const N=this.messageHandler.sendWithPromise("Terminate",null);return u.push(N),Promise.all(u).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#i=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:u,loadingTask:N}=this;u.on("GetReader",(p,w)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=B=>{this._lastProgress={loaded:B.loaded,total:B.total}},w.onPull=()=>{this._fullReader.read().then(function({value:B,done:U}){U?w.close():((0,_util.assert)((0,_util.isArrayBuffer)(B),"GetReader - expected an ArrayBuffer."),w.enqueue(new Uint8Array(B),1,[B]))}).catch(B=>{w.error(B)})},w.onCancel=B=>{this._fullReader.cancel(B),w.ready.catch(U=>{if(!this.destroyed)throw U})}}),u.on("ReaderHeadersReady",p=>{const w=(0,_util.createPromiseCapability)(),B=this._fullReader;return B.headersReady.then(()=>{(!B.isStreamingSupported||!B.isRangeSupported)&&(this._lastProgress&&N.onProgress?.(this._lastProgress),B.onProgress=U=>{N.onProgress?.({loaded:U.loaded,total:U.total})}),w.resolve({isStreamingSupported:B.isStreamingSupported,isRangeSupported:B.isRangeSupported,contentLength:B.contentLength})},w.reject),w.promise}),u.on("GetRangeReader",(p,w)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const B=this._networkStream.getRangeReader(p.begin,p.end);B?(w.onPull=()=>{B.read().then(function({value:U,done:G}){G?w.close():((0,_util.assert)((0,_util.isArrayBuffer)(U),"GetRangeReader - expected an ArrayBuffer."),w.enqueue(new Uint8Array(U),1,[U]))}).catch(U=>{w.error(U)})},w.onCancel=U=>{B.cancel(U),w.ready.catch(G=>{if(!this.destroyed)throw G})}):w.close()}),u.on("GetDoc",({pdfInfo:p})=>{this._numPages=p.numPages,this._htmlForXfa=p.htmlForXfa,delete p.htmlForXfa,N._capability.resolve(new PDFDocumentProxy(p,this))}),u.on("DocException",function(p){let w;switch(p.name){case"PasswordException":w=new _util.PasswordException(p.message,p.code);break;case"InvalidPDFException":w=new _util.InvalidPDFException(p.message);break;case"MissingPDFException":w=new _util.MissingPDFException(p.message);break;case"UnexpectedResponseException":w=new _util.UnexpectedResponseException(p.message,p.status);break;case"UnknownErrorException":w=new _util.UnknownErrorException(p.message,p.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}N._capability.reject(w)}),u.on("PasswordRequest",p=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),N.onPassword){const w=B=>{B instanceof Error?this._passwordCapability.reject(B):this._passwordCapability.resolve({password:B})};try{N.onPassword(w,p.code)}catch(B){this._passwordCapability.reject(B)}}else this._passwordCapability.reject(new _util.PasswordException(p.message,p.code));return this._passwordCapability.promise}),u.on("DataLoaded",p=>{N.onProgress?.({loaded:p.length,total:p.length}),this.downloadInfoCapability.resolve(p)}),u.on("StartRenderPage",p=>{this.destroyed||this.#t.get(p.pageIndex)._startRenderPage(p.transparency,p.cacheKey)}),u.on("commonobj",([p,w,B])=>{if(!this.destroyed&&!this.commonObjs.has(p))switch(w){case"Font":const U=this._params;if("error"in B){const s=B.error;(0,_util.warn)(`Error during font loading: ${s}`),this.commonObjs.resolve(p,s);break}let G=null;U.pdfBug&&globalThis.FontInspector?.enabled&&(G={registerFont(s,f){globalThis.FontInspector.fontAdded(s,f)}});const x=new _font_loader.FontFaceObject(B,{isEvalSupported:U.isEvalSupported,disableFontFace:U.disableFontFace,ignoreErrors:U.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:G});this.fontLoader.bind(x).catch(s=>u.sendWithPromise("FontFallback",{id:p})).finally(()=>{!U.fontExtraProperties&&x.data&&(x.data=null),this.commonObjs.resolve(p,x)});break;case"FontPath":case"Image":this.commonObjs.resolve(p,B);break;default:throw new Error(`Got unknown common object type ${w}`)}}),u.on("obj",([p,w,B,U])=>{if(this.destroyed)return;const G=this.#t.get(w);if(!G.objs.has(p))switch(B){case"Image":G.objs.resolve(p,U);const x=8e6;if(U){let s;if(U.bitmap){const{bitmap:f,width:a,height:l}=U;s=a*l*4,G._bitmaps.add(f)}else s=U.data?.length||0;s>x&&(G.cleanupAfterRender=!0)}break;case"Pattern":G.objs.resolve(p,U);break;default:throw new Error(`Got unknown object type ${B}`)}}),u.on("DocProgress",p=>{this.destroyed||N.onProgress?.({loaded:p.loaded,total:p.total})}),u.on("DocStats",p=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(p.streamTypes),fontTypes:Object.freeze(p.fontTypes)}))}),u.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),u.on("FetchBuiltInCMap",p=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(p):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),u.on("FetchStandardFontData",p=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(p):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:u}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(u)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(u){if(!Number.isInteger(u)||u<=0||u>this._numPages)return Promise.reject(new Error("Invalid page request."));const N=u-1,p=this.#n.get(N);if(p)return p;const w=this.messageHandler.sendWithPromise("GetPage",{pageIndex:N}).then(B=>{if(this.destroyed)throw new Error("Transport destroyed");const U=new PDFPageProxy(N,B,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(N,U),U});return this.#n.set(N,w),w}getPageIndex(u){return"object"!=typeof u||null===u||!Number.isInteger(u.num)||u.num<0||!Number.isInteger(u.gen)||u.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:u.num,gen:u.gen})}getAnnotations(u,N){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:u,intent:N})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(u){return"string"!=typeof u?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:u})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(u){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:u})}getStructTree(u){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:u})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(u=>new _optional_content_config.OptionalContentConfig(u))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#i||=this.messageHandler.sendWithPromise("GetMetadata",null).then(u=>({info:u[0],metadata:u[1]?new _metadata.Metadata(u[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(u=!1){var N=this;return _asyncToGenerator(function*(){if(yield N.messageHandler.sendWithPromise("Cleanup",null),!N.destroyed){for(const p of N.#t.values())if(!p.cleanup())throw new Error(`startCleanup: Page ${p.pageNumber} is currently rendering.`);N.commonObjs.clear(),u||N.fontLoader.clear(),N.#i=null,N._getFieldObjectsPromise=null,N._hasJSActionsPromise=null}})()}get loadingParams(){const u=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:u.disableAutoFetch,enableXfa:u.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(u){return this.#e[u]||(this.#e[u]={capability:(0,_util.createPromiseCapability)(),data:null})}get(u,N=null){if(N){const w=this.#t(u);return w.capability.promise.then(()=>N(w.data)),null}const p=this.#e[u];if(!p?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${u}.`);return p.data}has(u){return this.#e[u]?.capability.settled||!1}resolve(u,N=null){const p=this.#t(u);p.data=N,p.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(u){this.#e=u,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){this.#e.cancel()}get separateAnnots(){const{separateAnnots:u}=this.#e.operatorList;if(!u)return!1;const{annotationCanvasMap:N}=this.#e;return u.form||u.canvas&&N?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:u,params:N,objs:p,commonObjs:w,annotationCanvasMap:B,operatorList:U,pageIndex:G,canvasFactory:x,useRequestAnimationFrame:s=!1,pdfBug:f=!1,pageColors:a=null}){this.callback=u,this.params=N,this.objs=p,this.commonObjs=w,this.annotationCanvasMap=B,this.operatorListIdx=null,this.operatorList=U,this._pageIndex=G,this.canvasFactory=x,this._pdfBug=f,this.pageColors=a,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===s&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=N.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:u=!1,optionalContentConfig:N}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:p,viewport:w,transform:B,imageLayer:U,background:G}=this.params;this.gfx=new _canvas.CanvasGraphics(p,this.commonObjs,this.objs,this.canvasFactory,U,N,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:B,viewport:w,transparency:u,background:G}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(u=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(u||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var u=this;return _asyncToGenerator(function*(){u.cancelled||(u.operatorListIdx=u.gfx.executeOperatorList(u.operatorList,u.operatorListIdx,u._continueBound,u.stepper),u.operatorListIdx===u.operatorList.argsArray.length&&(u.running=!1,u.operatorList.lastChunk&&(u.gfx.endDrawing(),u._canvas&&InternalRenderTask.#e.delete(u._canvas),u.callback())))})()}}const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PrintAnnotationStorage=u.AnnotationStorage=void 0;var p=N(1),w=N(6),B=N(10);class U{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(s,f){const a=this._storage.get(s);return void 0===a?f:Object.assign(f,a)}getRawValue(s){return this._storage.get(s)}remove(s){if(this._storage.delete(s),0===this._storage.size&&this.resetModified(),"function"==typeof this.onAnnotationEditor){for(const f of this._storage.values())if(f instanceof w.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(s,f){const a=this._storage.get(s);let l=!1;if(void 0!==a)for(const[S,h]of Object.entries(f))a[S]!==h&&(l=!0,a[S]=h);else l=!0,this._storage.set(s,f);l&&this.#e(),f instanceof w.AnnotationEditor&&"function"==typeof this.onAnnotationEditor&&this.onAnnotationEditor(f.constructor._type)}has(s){return this._storage.has(s)}getAll(){return this._storage.size>0?(0,p.objectFromMap)(this._storage):null}get size(){return this._storage.size}#e(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get print(){return new G(this)}get serializable(){if(0===this._storage.size)return null;const s=new Map;for(const[f,a]of this._storage){const l=a instanceof w.AnnotationEditor?a.serialize():a;l&&s.set(f,l)}return s}static getHash(s){if(!s)return"";const f=new B.MurmurHash3_64;for(const[a,l]of s)f.update(`${a}:${JSON.stringify(l)}`);return f.hexdigest()}}u.AnnotationStorage=U;class G extends U{#e=null;constructor(s){super(),this.#e=structuredClone(s.serializable)}get print(){(0,p.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}u.PrintAnnotationStorage=G},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationEditor=void 0;var p=N(7),w=N(1);class B{#e=this.focusin.bind(this);#t=this.focusout.bind(this);#n=!1;#i=!1;#r=!1;#c=B._zIndex++;static _colorManager=new p.ColorManager;static _zIndex=1;constructor(G){this.constructor===B&&(0,w.unreachable)("Cannot initialize AnnotationEditor."),this.parent=G.parent,this.id=G.id,this.width=this.height=null,this.pageIndex=G.parent.pageIndex,this.name=G.name,this.div=null;const[x,s]=this.parent.viewportBaseDimensions;this.x=G.x/x,this.y=G.y/s,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,w.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#c}focusin(G){this.#n?this.#n=!1:this.parent.setSelected(this)}focusout(G){!this.isAttachedToDOM||G.relatedTarget?.closest(`#${this.id}`)||(G.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(G){const x=this.parent.div.getBoundingClientRect();this.startX=G.clientX-x.x,this.startY=G.clientY-x.y,G.dataTransfer.setData("text/plain",this.id),G.dataTransfer.effectAllowed="move"}setAt(G,x,s,f){const[a,l]=this.parent.viewportBaseDimensions;[s,f]=this.screenToPageTranslation(s,f),this.x=(G+s)/a,this.y=(x+f)/l,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}translate(G,x){const[s,f]=this.parent.viewportBaseDimensions;[G,x]=this.screenToPageTranslation(G,x),this.x+=G/s,this.y+=x/f,this.div.style.left=100*this.x+"%",this.div.style.top=100*this.y+"%"}screenToPageTranslation(G,x){const{rotation:s}=this.parent.viewport;switch(s){case 90:return[x,-G];case 180:return[-G,-x];case 270:return[-x,G];default:return[G,x]}}setDims(G,x){const[s,f]=this.parent.viewportBaseDimensions;this.div.style.width=100*G/s+"%",this.div.style.height=100*x/f+"%"}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#e),this.div.addEventListener("focusout",this.#t);const[G,x]=this.getInitialTranslation();return this.translate(G,x),(0,p.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(G){const x=p.KeyboardManager.platform.isMac;0!==G.button||G.ctrlKey&&x?G.preventDefault():(G.ctrlKey&&!x||G.shiftKey||G.metaKey&&x?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#n=!0)}getRect(G,x){const[s,f]=this.parent.viewportBaseDimensions,[a,l]=this.parent.pageDimensions,S=a*G/s,h=l*x/f,o=this.x*a,r=this.y*l,v=this.width*a,y=this.height*l;switch(this.rotation){case 0:return[o+S,l-r-h-y,o+S+v,l-r-h];case 90:return[o+h,l-r+S,o+h+y,l-r+S+v];case 180:return[o-S-v,l-r+h,o-S,l-r+h+y];case 270:return[o-h-y,l-r-S-v,o-h,l-r-S];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(G,x){const[s,f,a,l]=G,S=a-s,h=l-f;switch(this.rotation){case 0:return[s,x-l,S,h];case 90:return[s,x-f,h,S];case 180:return[a,x-f,S,h];case 270:return[a,x-l,h,S];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#r=!0}disableEditMode(){this.#r=!1}isInEditMode(){return this.#r}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#e)}serialize(){(0,w.unreachable)("An editor must be serializable")}static deserialize(G,x){const s=new this.prototype.constructor({parent:x,id:x.getNextId()});s.rotation=G.rotation;const[f,a]=x.pageDimensions,[l,S,h,o]=s.getRectInCurrentCoords(G.rect,a);return s.x=l/f,s.y=S/a,s.width=h/f,s.height=o/a,s}remove(){this.div.removeEventListener("focusin",this.#e),this.div.removeEventListener("focusout",this.#t),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(G,x){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#i}set isEditing(G){this.#i=G,G?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}u.AnnotationEditor=B},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.KeyboardManager=u.CommandManager=u.ColorManager=u.AnnotationEditorUIManager=void 0,u.bindEvents=function B(S,h,o){for(const r of o)h.addEventListener(r,S[r].bind(S))},u.opacityToHex=function U(S){return Math.round(Math.min(255,Math.max(1,255*S))).toString(16).padStart(2,"0")};var p=N(1),w=N(8);class G{#e=0;getId(){return`${p.AnnotationEditorPrefix}${this.#e++}`}}class x{#e=[];#t=!1;#n;#i=-1;constructor(h=128){this.#n=h}add({cmd:h,undo:o,mustExec:r,type:v=NaN,overwriteIfSameType:y=!1,keepUndo:b=!1}){if(r&&h(),this.#t)return;const d={cmd:h,undo:o,type:v};if(-1===this.#i)return this.#e.length>0&&(this.#e.length=0),this.#i=0,void this.#e.push(d);if(y&&this.#e[this.#i].type===v)return b&&(d.undo=this.#e[this.#i].undo),void(this.#e[this.#i]=d);const e=this.#i+1;e===this.#n?this.#e.splice(0,1):(this.#i=e,e<this.#e.length&&this.#e.splice(e)),this.#e.push(d)}undo(){-1!==this.#i&&(this.#t=!0,this.#e[this.#i].undo(),this.#t=!1,this.#i-=1)}redo(){this.#i<this.#e.length-1&&(this.#i+=1,this.#t=!0,this.#e[this.#i].cmd(),this.#t=!1)}hasSomethingToUndo(){return-1!==this.#i}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}}u.CommandManager=x;class s{constructor(h){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const o=s.platform.isMac;for(const[r,v]of h)for(const y of r){const b=y.startsWith("mac+");o&&b?(this.callbacks.set(y.slice(4),v),this.allKeys.add(y.split("+").at(-1))):!o&&!b&&(this.callbacks.set(y,v),this.allKeys.add(y.split("+").at(-1)))}}static get platform(){const h=typeof navigator<"u"?navigator.platform:"";return(0,p.shadow)(this,"platform",{isWin:h.includes("Win"),isMac:h.includes("Mac")})}#e(h){h.altKey&&this.buffer.push("alt"),h.ctrlKey&&this.buffer.push("ctrl"),h.metaKey&&this.buffer.push("meta"),h.shiftKey&&this.buffer.push("shift"),this.buffer.push(h.key);const o=this.buffer.join("+");return this.buffer.length=0,o}exec(h,o){if(!this.allKeys.has(o.key))return;const r=this.callbacks.get(this.#e(o));r&&(r.bind(h)(),o.stopPropagation(),o.preventDefault())}}u.KeyboardManager=s;class f{#e=null;copy(h){h&&(Array.isArray(h)?this.#e=h.map(o=>o.serialize()):this.#e=[h.serialize()],this.#e=this.#e.filter(o=>!!o),0===this.#e.length&&(this.#e=null))}paste(){return this.#e}isEmpty(){return null===this.#e}destroy(){this.#e=null}}class a{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const h=new Map([["CanvasText",null],["Canvas",null]]);return(0,w.getColorValues)(h),(0,p.shadow)(this,"_colors",h)}convert(h){const o=(0,w.getRGB)(h);if(!window.matchMedia("(forced-colors: active)").matches)return o;for(const[r,v]of this._colors)if(v.every((y,b)=>y===o[b]))return a._colorsMapping.get(r);return o}getHexCode(h){const o=this._colors.get(h);return o?p.Util.makeHexColor(...o):h}}u.ColorManager=a;class l{#e=null;#t=new Map;#n=new Map;#i=new f;#r=new x;#c=0;#o=null;#s=null;#u=new G;#h=!1;#l=p.AnnotationEditorType.NONE;#a=new Set;#p=this.keydown.bind(this);#f=this.onEditingAction.bind(this);#b=this.onPageChanging.bind(this);#m={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#_=null;static _keyboardManager=new s([[["ctrl+a","mac+meta+a"],l.prototype.selectAll],[["ctrl+c","mac+meta+c"],l.prototype.copy],[["ctrl+v","mac+meta+v"],l.prototype.paste],[["ctrl+x","mac+meta+x"],l.prototype.cut],[["ctrl+z","mac+meta+z"],l.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],l.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],l.prototype.delete],[["Escape","mac+Escape"],l.prototype.unselectAll]]);constructor(h,o){this.#_=h,this.#s=o,this.#s._on("editingaction",this.#f),this.#s._on("pagechanging",this.#b)}destroy(){this.#A(),this.#s._off("editingaction",this.#f),this.#s._off("pagechanging",this.#b);for(const h of this.#n.values())h.destroy();this.#n.clear(),this.#t.clear(),this.#e=null,this.#a.clear(),this.#i.destroy(),this.#r.destroy()}onPageChanging({pageNumber:h}){this.#c=h-1}focusMainContainer(){this.#_.focus()}#S(){this.#_.addEventListener("keydown",this.#p)}#A(){this.#_.removeEventListener("keydown",this.#p)}keydown(h){this.getActive()?.shouldGetKeyboardEvents()||l._keyboardManager.exec(this,h)}onEditingAction(h){["undo","redo","cut","copy","paste","delete","selectAll"].includes(h.name)&&this[h.name]()}#d(h){Object.entries(h).some(([r,v])=>this.#m[r]!==v)&&this.#s.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#m,h)})}#P(h){this.#s.dispatch("annotationeditorparamschanged",{source:this,details:h})}setEditingState(h){h?(this.#S(),this.#d({isEditing:this.#l!==p.AnnotationEditorType.NONE,isEmpty:this.#y(),hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:this.#r.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#i.isEmpty()})):(this.#A(),this.#d({isEditing:!1}))}registerEditorTypes(h){this.#o=h;for(const o of this.#o)this.#P(o.defaultPropertiesToUpdate)}getId(){return this.#u.getId()}addLayer(h){this.#n.set(h.pageIndex,h),this.#h?h.enable():h.disable()}removeLayer(h){this.#n.delete(h.pageIndex)}updateMode(h){if(this.#l=h,h===p.AnnotationEditorType.NONE)this.setEditingState(!1),this.#g();else{this.setEditingState(!0),this.#x();for(const o of this.#n.values())o.updateMode(h)}}updateToolbar(h){h!==this.#l&&this.#s.dispatch("switchannotationeditormode",{source:this,mode:h})}updateParams(h,o){for(const r of this.#a)r.updateParams(h,o);for(const r of this.#o)r.updateDefaultParams(h,o)}#x(){if(!this.#h){this.#h=!0;for(const h of this.#n.values())h.enable()}}#g(){if(this.unselectAll(),this.#h){this.#h=!1;for(const h of this.#n.values())h.disable()}}getEditors(h){const o=[];for(const r of this.#t.values())r.pageIndex===h&&o.push(r);return o}getEditor(h){return this.#t.get(h)}addEditor(h){this.#t.set(h.id,h)}removeEditor(h){this.#t.delete(h.id),this.unselect(h)}#E(h){const o=this.#n.get(h.pageIndex);o?o.addOrRebuild(h):this.addEditor(h)}setActiveEditor(h){this.#e!==h&&(this.#e=h,h&&this.#P(h.propertiesToUpdate))}toggleSelected(h){if(this.#a.has(h))return this.#a.delete(h),h.unselect(),void this.#d({hasSelectedEditor:this.hasSelection});this.#a.add(h),h.select(),this.#P(h.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}setSelected(h){for(const o of this.#a)o!==h&&o.unselect();this.#a.clear(),this.#a.add(h),h.select(),this.#P(h.propertiesToUpdate),this.#d({hasSelectedEditor:!0})}isSelected(h){return this.#a.has(h)}unselect(h){h.unselect(),this.#a.delete(h),this.#d({hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==this.#a.size}undo(){this.#r.undo(),this.#d({hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#y()})}redo(){this.#r.redo(),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:this.#r.hasSomethingToRedo(),isEmpty:this.#y()})}addCommands(h){this.#r.add(h),this.#d({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#y()})}#y(){if(0===this.#t.size)return!0;if(1===this.#t.size)for(const h of this.#t.values())return h.isEmpty();return!1}delete(){if(this.#e&&this.#e.commitOrRemove(),!this.hasSelection)return;const h=[...this.#a];this.addCommands({cmd:()=>{for(const v of h)v.remove()},undo:()=>{for(const v of h)this.#E(v)},mustExec:!0})}copy(){if(this.#e&&this.#e.commitOrRemove(),this.hasSelection){const h=[];for(const o of this.#a)o.isEmpty()||h.push(o);if(0===h.length)return;this.#i.copy(h),this.#d({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#i.isEmpty())return;this.unselectAll();const h=this.#n.get(this.#c),o=this.#i.paste().map(y=>h.deserialize(y));this.addCommands({cmd:()=>{for(const y of o)this.#E(y);this.#v(o)},undo:()=>{for(const y of o)y.remove()},mustExec:!0})}#v(h){this.#a.clear();for(const o of h)o.isEmpty()||(this.#a.add(o),o.select());this.#d({hasSelectedEditor:!0})}selectAll(){for(const h of this.#a)h.commit();this.#v(this.#t.values())}unselectAll(){if(this.#e)this.#e.commitOrRemove();else if(0!==this.#v.size){for(const h of this.#a)h.unselect();this.#a.clear(),this.#d({hasSelectedEditor:!1})}}isActive(h){return this.#e===h}getActive(){return this.#e}getMode(){return this.#l}}u.AnnotationEditorUIManager=l},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.StatTimer=u.RenderingCancelledException=u.PixelsPerInch=u.PageViewport=u.PDFDateString=u.DOMStandardFontDataFactory=u.DOMSVGFactory=u.DOMCanvasFactory=u.DOMCMapReaderFactory=u.AnnotationPrefix=void 0,u.deprecated=function _(R){console.log("Deprecated API usage: "+R)},u.getColorValues=function ie(R){const D=document.createElement("span");D.style.visibility="hidden",document.body.append(D);for(const M of R.keys()){D.style.color=M;const T=window.getComputedStyle(D).color;R.set(M,V(T))}D.remove()},u.getCurrentTransform=function Q(R){const{a:D,b:M,c:T,d:m,e:i,f:c}=R.getTransform();return[D,M,T,m,i,c]},u.getCurrentTransformInverse=function P(R){const{a:D,b:M,c:T,d:m,e:i,f:c}=R.getTransform().invertSelf();return[D,M,T,m,i,c]},u.getFilenameFromUrl=function y(R){const D=R.indexOf("#"),M=R.indexOf("?"),T=Math.min(D>0?D:R.length,M>0?M:R.length);return R.substring(R.lastIndexOf("/",T)+1,T)},u.getPdfFilenameFromUrl=function b(R,D="document.pdf"){if("string"!=typeof R)return D;if(r(R))return(0,w.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),D;const T=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,m=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(R);let i=T.exec(m[1])||T.exec(m[2])||T.exec(m[3]);if(i&&(i=i[0],i.includes("%")))try{i=T.exec(decodeURIComponent(i))[0]}catch{}return i||D},u.getRGB=V,u.getXfaPageViewport=function W(R,{scale:D=1,rotation:M=0}){const{width:T,height:m}=R.attributes.style,i=[0,0,parseInt(T),parseInt(m)];return new h({viewBox:i,scale:D,rotation:M})},u.isDataScheme=r,u.isPdfFile=function v(R){return"string"==typeof R&&/\.pdf$/i.test(R)},u.isValidFetchUrl=e,u.loadScript=function n(R,D=!1){return new Promise((M,T)=>{const m=document.createElement("script");m.src=R,m.onload=function(i){D&&m.remove(),M(i)},m.onerror=function(){T(new Error(`Cannot load script at: ${m.src}`))},(document.head||document.documentElement).append(m)})};var p=N(9),w=N(1);function s(R){return f.apply(this,arguments)}function f(){return(f=_asyncToGenerator(function*(R,D=!1){if(e(R,document.baseURI)){const M=yield fetch(R);if(!M.ok)throw new Error(M.statusText);return D?new Uint8Array(yield M.arrayBuffer()):(0,w.stringToBytes)(yield M.text())}return new Promise((M,T)=>{const m=new XMLHttpRequest;m.open("GET",R,!0),D&&(m.responseType="arraybuffer"),m.onreadystatechange=()=>{if(m.readyState===XMLHttpRequest.DONE){if(200===m.status||0===m.status){let i;if(D&&m.response?i=new Uint8Array(m.response):!D&&m.responseText&&(i=(0,w.stringToBytes)(m.responseText)),i)return void M(i)}T(new Error(m.statusText))}},m.send(null)})})).apply(this,arguments)}u.AnnotationPrefix="pdfjs_internal_id_",u.PixelsPerInch=class G{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},u.DOMCanvasFactory=class x extends p.BaseCanvasFactory{constructor({ownerDocument:D=globalThis.document}={}){super(),this._document=D}_createCanvas(D,M){const T=this._document.createElement("canvas");return T.width=D,T.height=M,T}},u.DOMCMapReaderFactory=class a extends p.BaseCMapReaderFactory{_fetchData(D,M){return s(D,this.isCompressed).then(T=>({cMapData:T,compressionType:M}))}},u.DOMStandardFontDataFactory=class l extends p.BaseStandardFontDataFactory{_fetchData(D){return s(D,!0)}},u.DOMSVGFactory=class S extends p.BaseSVGFactory{_createSVG(D){return document.createElementNS("http://www.w3.org/2000/svg",D)}};class h{constructor({viewBox:D,scale:M,rotation:T,offsetX:m=0,offsetY:i=0,dontFlip:c=!1}){this.viewBox=D,this.scale=M,this.rotation=T,this.offsetX=m,this.offsetY=i;const C=(D[2]+D[0])/2,A=(D[3]+D[1])/2;let t,g,E,O,I,j,H,q;switch((T%=360)<0&&(T+=360),T){case 180:t=-1,g=0,E=0,O=1;break;case 90:t=0,g=1,E=1,O=0;break;case 270:t=0,g=-1,E=-1,O=0;break;case 0:t=1,g=0,E=0,O=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(E=-E,O=-O),0===t?(I=Math.abs(A-D[1])*M+m,j=Math.abs(C-D[0])*M+i,H=Math.abs(D[3]-D[1])*M,q=Math.abs(D[2]-D[0])*M):(I=Math.abs(C-D[0])*M+m,j=Math.abs(A-D[1])*M+i,H=Math.abs(D[2]-D[0])*M,q=Math.abs(D[3]-D[1])*M),this.transform=[t*M,g*M,E*M,O*M,I-t*M*C-E*M*A,j-g*M*C-O*M*A],this.width=H,this.height=q}clone({scale:D=this.scale,rotation:M=this.rotation,offsetX:T=this.offsetX,offsetY:m=this.offsetY,dontFlip:i=!1}={}){return new h({viewBox:this.viewBox.slice(),scale:D,rotation:M,offsetX:T,offsetY:m,dontFlip:i})}convertToViewportPoint(D,M){return w.Util.applyTransform([D,M],this.transform)}convertToViewportRectangle(D){const M=w.Util.applyTransform([D[0],D[1]],this.transform),T=w.Util.applyTransform([D[2],D[3]],this.transform);return[M[0],M[1],T[0],T[1]]}convertToPdfPoint(D,M){return w.Util.applyInverseTransform([D,M],this.transform)}}function r(R){const D=R.length;let M=0;for(;M<D&&""===R[M].trim();)M++;return"data:"===R.substring(M,M+5).toLowerCase()}function e(R,D){try{const{protocol:M}=D?new URL(R,D):new URL(R);return"http:"===M||"https:"===M}catch{return!1}}let L;function V(R){if(R.startsWith("#")){const D=parseInt(R.slice(1),16);return[(16711680&D)>>16,(65280&D)>>8,255&D]}return R.startsWith("rgb(")?R.slice(4,-1).split(",").map(D=>parseInt(D)):R.startsWith("rgba(")?R.slice(5,-1).split(",").map(D=>parseInt(D)).slice(0,3):((0,w.warn)(`Not a valid color format: "${R}"`),[0,0,0])}u.PageViewport=h,u.RenderingCancelledException=class o extends w.BaseException{constructor(D,M){super(D,"RenderingCancelledException"),this.type=M}},u.StatTimer=class d{constructor(){this.started=Object.create(null),this.times=[]}time(D){D in this.started&&(0,w.warn)(`Timer is already running for ${D}`),this.started[D]=Date.now()}timeEnd(D){D in this.started||(0,w.warn)(`Timer has not been started for ${D}`),this.times.push({name:D,start:this.started[D],end:Date.now()}),delete this.started[D]}toString(){const D=[];let M=0;for(const T of this.times){const m=T.name;m.length>M&&(M=m.length)}for(const T of this.times){const m=T.end-T.start;D.push(`${T.name.padEnd(M)} ${m}ms\n`)}return D.join("")}},u.PDFDateString=class F{static toDateObject(D){if(!D||"string"!=typeof D)return null;L||(L=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const M=L.exec(D);if(!M)return null;const T=parseInt(M[1],10);let m=parseInt(M[2],10);m=m>=1&&m<=12?m-1:0;let i=parseInt(M[3],10);i=i>=1&&i<=31?i:1;let c=parseInt(M[4],10);c=c>=0&&c<=23?c:0;let C=parseInt(M[5],10);C=C>=0&&C<=59?C:0;let A=parseInt(M[6],10);A=A>=0&&A<=59?A:0;const t=M[7]||"Z";let g=parseInt(M[8],10);g=g>=0&&g<=23?g:0;let E=parseInt(M[9],10)||0;return E=E>=0&&E<=59?E:0,"-"===t?(c+=g,C+=E):"+"===t&&(c-=g,C-=E),new Date(Date.UTC(T,m,i,c,C,A))}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.BaseStandardFontDataFactory=u.BaseSVGFactory=u.BaseCanvasFactory=u.BaseCMapReaderFactory=void 0;var p=N(1);class w{constructor(){this.constructor===w&&(0,p.unreachable)("Cannot initialize BaseCanvasFactory.")}create(s,f){if(s<=0||f<=0)throw new Error("Invalid canvas size");const a=this._createCanvas(s,f);return{canvas:a,context:a.getContext("2d")}}reset(s,f,a){if(!s.canvas)throw new Error("Canvas is not specified");if(f<=0||a<=0)throw new Error("Invalid canvas size");s.canvas.width=f,s.canvas.height=a}destroy(s){if(!s.canvas)throw new Error("Canvas is not specified");s.canvas.width=0,s.canvas.height=0,s.canvas=null,s.context=null}_createCanvas(s,f){(0,p.unreachable)("Abstract method `_createCanvas` called.")}}u.BaseCanvasFactory=w;class B{constructor({baseUrl:s=null,isCompressed:f=!1}){this.constructor===B&&(0,p.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=s,this.isCompressed=f}fetch({name:s}){var f=this;return _asyncToGenerator(function*(){if(!f.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!s)throw new Error("CMap name must be specified.");const a=f.baseUrl+s+(f.isCompressed?".bcmap":"");return f._fetchData(a,f.isCompressed?p.CMapCompressionType.BINARY:p.CMapCompressionType.NONE).catch(S=>{throw new Error(`Unable to load ${f.isCompressed?"binary ":""}CMap at: ${a}`)})})()}_fetchData(s,f){(0,p.unreachable)("Abstract method `_fetchData` called.")}}u.BaseCMapReaderFactory=B;class U{constructor({baseUrl:s=null}){this.constructor===U&&(0,p.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=s}fetch({filename:s}){var f=this;return _asyncToGenerator(function*(){if(!f.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!s)throw new Error("Font filename must be specified.");const a=`${f.baseUrl}${s}`;return f._fetchData(a).catch(l=>{throw new Error(`Unable to load font data at: ${a}`)})})()}_fetchData(s){(0,p.unreachable)("Abstract method `_fetchData` called.")}}u.BaseStandardFontDataFactory=U;class G{constructor(){this.constructor===G&&(0,p.unreachable)("Cannot initialize BaseSVGFactory.")}create(s,f,a=!1){if(s<=0||f<=0)throw new Error("Invalid SVG dimensions");const l=this._createSVG("svg:svg");return l.setAttribute("version","1.1"),a||(l.setAttribute("width",`${s}px`),l.setAttribute("height",`${f}px`)),l.setAttribute("preserveAspectRatio","none"),l.setAttribute("viewBox",`0 0 ${s} ${f}`),l}createElement(s){if("string"!=typeof s)throw new Error("Invalid SVG element type");return this._createSVG(s)}_createSVG(s){(0,p.unreachable)("Abstract method `_createSVG` called.")}}u.BaseSVGFactory=G},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.MurmurHash3_64=void 0;var p=N(1);const w=3285377520,B=4294901760,U=65535;u.MurmurHash3_64=class G{constructor(s){this.h1=s?4294967295&s:w,this.h2=s?4294967295&s:w}update(s){let f,a;if("string"==typeof s){f=new Uint8Array(2*s.length),a=0;for(let _=0,L=s.length;_<L;_++){const F=s.charCodeAt(_);F<=255?f[a++]=F:(f[a++]=F>>>8,f[a++]=255&F)}}else{if(!(0,p.isArrayBuffer)(s))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");f=s.slice(),a=f.byteLength}const l=a>>2,S=a-4*l,h=new Uint32Array(f.buffer,0,l);let o=0,r=0,v=this.h1,y=this.h2;const b=3432918353,d=461845907,e=b&U,n=d&U;for(let _=0;_<l;_++)1&_?(o=h[_],o=o*b&B|o*e&U,o=o<<15|o>>>17,o=o*d&B|o*n&U,v^=o,v=v<<13|v>>>19,v=5*v+3864292196):(r=h[_],r=r*b&B|r*e&U,r=r<<15|r>>>17,r=r*d&B|r*n&U,y^=r,y=y<<13|y>>>19,y=5*y+3864292196);switch(o=0,S){case 3:o^=f[4*l+2]<<16;case 2:o^=f[4*l+1]<<8;case 1:o^=f[4*l],o=o*b&B|o*e&U,o=o<<15|o>>>17,o=o*d&B|o*n&U,1&l?v^=o:y^=o}this.h1=v,this.h2=y}hexdigest(){let s=this.h1,f=this.h2;s^=f>>>1,s=3981806797*s&B|36045*s&U,f=4283543511*f&B|(2950163797*(f<<16|s>>>16)&B)>>>16,s^=f>>>1,s=444984403*s&B|60499*s&U,f=3301882366*f&B|(3120437893*(f<<16|s>>>16)&B)>>>16,s^=f>>>1;const a=(s>>>0).toString(16),l=(f>>>0).toString(16);return a.padStart(8,"0")+l.padStart(8,"0")}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.FontLoader=u.FontFaceObject=void 0;var p=N(1);class w{constructor({docId:x,onUnsupportedFeature:s,ownerDocument:f=globalThis.document,styleElement:a=null}){this.constructor===w&&(0,p.unreachable)("Cannot initialize BaseFontLoader."),this.docId=x,this._onUnsupportedFeature=s,this._document=f,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(x){this.nativeFontFaces.push(x),this._document.fonts.add(x)}insertRule(x){let s=this.styleElement;s||(s=this.styleElement=this._document.createElement("style"),s.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(s));const f=s.sheet;f.insertRule(x,f.cssRules.length)}clear(){for(const x of this.nativeFontFaces)this._document.fonts.delete(x);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(x){var s=this;return _asyncToGenerator(function*(){if(x.attached||x.missingFile)return;if(x.attached=!0,s.isFontLoadingAPISupported){const a=x.createNativeFontFace();if(a){s.addNativeFontFace(a);try{yield a.loaded}catch(l){throw s._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,p.warn)(`Failed to load font '${a.family}': '${l}'.`),x.disableFontFace=!0,l}}return}const f=x.createFontFaceRule();if(f){if(s.insertRule(f),s.isSyncFontLoadingSupported)return;yield new Promise(a=>{const l=s._queueLoadingCallback(a);s._prepareFontLoadEvent([f],[x],l)})}})()}_queueLoadingCallback(x){(0,p.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,p.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,p.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,p.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(x,s,f){(0,p.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let B;u.FontLoader=B,u.FontLoader=B=class extends w{constructor(x){super(x),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let x=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(x=!0),(0,p.shadow)(this,"isSyncFontLoadingSupported",x)}_queueLoadingCallback(x){const f=this.loadingContext,a={id:"pdfjs-font-loading-"+f.nextRequestId++,done:!1,complete:function s(){for((0,p.assert)(!a.done,"completeRequest() cannot be called twice."),a.done=!0;f.requests.length>0&&f.requests[0].done;){const l=f.requests.shift();setTimeout(l.callback,0)}},callback:x};return f.requests.push(a),a}get _loadTestFont(){return(0,p.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(x,s,f){function a(Q,P){return Q.charCodeAt(P)<<24|Q.charCodeAt(P+1)<<16|Q.charCodeAt(P+2)<<8|255&Q.charCodeAt(P+3)}function l(Q,P,R,D){return Q.substring(0,P)+D+Q.substring(P+R)}let S,h;const o=this._document.createElement("canvas");o.width=1,o.height=1;const r=o.getContext("2d");let v=0;const b=`lt${Date.now()}${this.loadTestFontId++}`;let d=this._loadTestFont;d=l(d,976,b.length,b);const _=1482184792;let L=a(d,16);for(S=0,h=b.length-3;S<h;S+=4)L=L-_+a(b,S)|0;S<b.length&&(L=L-_+a(b+"XXX",S)|0),d=l(d,16,4,(0,p.string32)(L));const F=`url(data:font/opentype;base64,${btoa(d)});`;this.insertRule(`@font-face {font-family:"${b}";src:${F}}`);const V=[];for(const Q of s)V.push(Q.loadedName);V.push(b);const ie=this._document.createElement("div");ie.style.visibility="hidden",ie.style.width=ie.style.height="10px",ie.style.position="absolute",ie.style.top=ie.style.left="0px";for(const Q of V){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=Q,ie.append(P)}this._document.body.append(ie),function y(Q,P){if(v++,v>30)return(0,p.warn)("Load test font never loaded."),void P();r.font="30px "+Q,r.fillText(".",0,20),r.getImageData(0,0,1,1).data[3]>0?P():setTimeout(y.bind(null,Q,P))}(b,()=>{ie.remove(),f.complete()})}},u.FontFaceObject=class U{constructor(x,{isEvalSupported:s=!0,disableFontFace:f=!1,ignoreErrors:a=!1,onUnsupportedFeature:l,fontRegistry:S=null}){this.compiledGlyphs=Object.create(null);for(const h in x)this[h]=x[h];this.isEvalSupported=!1!==s,this.disableFontFace=!0===f,this.ignoreErrors=!0===a,this._onUnsupportedFeature=l,this.fontRegistry=S}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let x;if(this.cssFontInfo){const s={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(s.style=`oblique ${this.cssFontInfo.italicAngle}deg`),x=new FontFace(this.cssFontInfo.fontFamily,this.data,s)}else x=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),x}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const x=(0,p.bytesToString)(this.data),s=`url(data:${this.mimetype};base64,${btoa(x)});`;let f;if(this.cssFontInfo){let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),f=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${s}}`}else f=`@font-face {font-family:"${this.loadedName}";src:${s}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,s),f}getPathGenerator(x,s){if(void 0!==this.compiledGlyphs[s])return this.compiledGlyphs[s];let f;try{f=x.get(this.loadedName+"_path_"+s)}catch(a){if(!this.ignoreErrors)throw a;return this._onUnsupportedFeature({featureId:p.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,p.warn)(`getPathGenerator - ignoring character: "${a}".`),this.compiledGlyphs[s]=function(l,S){}}if(this.isEvalSupported&&p.FeatureTest.isEvalSupported){const a=[];for(const l of f){const S=void 0!==l.args?l.args.join(","):"";a.push("c.",l.cmd,"(",S,");\n")}return this.compiledGlyphs[s]=new Function("c","size",a.join(""))}return this.compiledGlyphs[s]=function(a,l){for(const S of f)"scale"===S.cmd&&(S.args=[l,-l]),a[S.cmd].apply(a,S.args)}}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.CanvasGraphics=void 0;var p=N(8),w=N(1),B=N(13),U=N(14),G=N(3);const f=4096,S=G.isNodeJS&&typeof Path2D>"u"?-1:1e3,h=16;class r{constructor(i){this.canvasFactory=i,this.cache=Object.create(null)}getCanvas(i,c,C){let A;return void 0!==this.cache[i]?(A=this.cache[i],this.canvasFactory.reset(A,c,C)):(A=this.canvasFactory.create(c,C),this.cache[i]=A),A}delete(i){delete this.cache[i]}clear(){for(const i in this.cache)this.canvasFactory.destroy(this.cache[i]),delete this.cache[i]}}function v(m,i,c,C,A,t,g,E,O,I){const[j,H,q,$,Y,ne]=(0,p.getCurrentTransform)(m);if(0===H&&0===q){const k=Math.round(g*j+Y),ee=Math.round(E*$+ne),oe=Math.abs(Math.round((g+O)*j+Y)-k)||1,le=Math.abs(Math.round((E+I)*$+ne)-ee)||1;return m.setTransform(Math.sign(j),0,0,Math.sign($),k,ee),m.drawImage(i,c,C,A,t,0,0,oe,le),m.setTransform(j,H,q,$,Y,ne),[oe,le]}if(0===j&&0===$){const k=Math.round(E*q+Y),ee=Math.round(g*H+ne),oe=Math.abs(Math.round((E+I)*q+Y)-k)||1,le=Math.abs(Math.round((g+O)*H+ne)-ee)||1;return m.setTransform(0,Math.sign(H),Math.sign(q),0,k,ee),m.drawImage(i,c,C,A,t,0,0,le,oe),m.setTransform(j,H,q,$,Y,ne),[le,oe]}return m.drawImage(i,c,C,A,t,g,E,O,I),[Math.hypot(j,H)*O,Math.hypot(q,$)*I]}class b{constructor(i,c){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=w.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=w.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=w.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,i,c])}clone(){const i=Object.create(this);return i.clipBox=this.clipBox.slice(),i}setCurrentPoint(i,c){this.x=i,this.y=c}updatePathMinMax(i,c,C){[c,C]=w.Util.applyTransform([c,C],i),this.minX=Math.min(this.minX,c),this.minY=Math.min(this.minY,C),this.maxX=Math.max(this.maxX,c),this.maxY=Math.max(this.maxY,C)}updateRectMinMax(i,c){const C=w.Util.applyTransform(c,i),A=w.Util.applyTransform(c.slice(2),i);this.minX=Math.min(this.minX,C[0],A[0]),this.minY=Math.min(this.minY,C[1],A[1]),this.maxX=Math.max(this.maxX,C[0],A[0]),this.maxY=Math.max(this.maxY,C[1],A[1])}updateScalingPathMinMax(i,c){w.Util.scaleMinMax(i,c),this.minX=Math.min(this.minX,c[0]),this.maxX=Math.max(this.maxX,c[1]),this.minY=Math.min(this.minY,c[2]),this.maxY=Math.max(this.maxY,c[3])}updateCurvePathMinMax(i,c,C,A,t,g,E,O,I,j){const H=w.Util.bezierBoundingBox(c,C,A,t,g,E,O,I);if(j)return j[0]=Math.min(j[0],H[0],H[2]),j[1]=Math.max(j[1],H[0],H[2]),j[2]=Math.min(j[2],H[1],H[3]),void(j[3]=Math.max(j[3],H[1],H[3]));this.updateRectMinMax(i,H)}getPathBoundingBox(i=B.PathType.FILL,c=null){const C=[this.minX,this.minY,this.maxX,this.maxY];if(i===B.PathType.STROKE){c||(0,w.unreachable)("Stroke bounding box must include transform.");const A=w.Util.singularValueDecompose2dScale(c),t=A[0]*this.lineWidth/2,g=A[1]*this.lineWidth/2;C[0]-=t,C[1]-=g,C[2]+=t,C[3]+=g}return C}updateClipFromPath(){const i=w.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(i||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(i){this.clipBox=i,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(i=B.PathType.FILL,c=null){return w.Util.intersect(this.clipBox,this.getPathBoundingBox(i,c))}}function d(m,i,c=null){if(typeof ImageData<"u"&&i instanceof ImageData)return void m.putImageData(i,0,0);const C=i.height,A=i.width,t=C%h,g=(C-t)/h,E=0===t?g:g+1,O=m.createImageData(A,h);let j,I=0;const H=i.data,q=O.data;let $,Y,ne,ae,X,te,k,z;if(c)switch(c.length){case 1:X=c[0],te=c[0],k=c[0],z=c[0];break;case 4:X=c[0],te=c[1],k=c[2],z=c[3]}if(i.kind===w.ImageKind.GRAYSCALE_1BPP){const ee=H.byteLength,K=new Uint32Array(q.buffer,0,q.byteLength>>2),oe=K.length,ce=A+7>>3;let le=4294967295,de=w.FeatureTest.isLittleEndian?4278190080:255;for(z&&255===z[0]&&0===z[255]&&([le,de]=[de,le]),$=0;$<E;$++){for(ne=$<g?h:t,j=0,Y=0;Y<ne;Y++){const fe=ee-I;let me=0;const _e=fe>ce?A:8*fe-7,Pe=-8&_e;let ye=0,be=0;for(;me<Pe;me+=8)be=H[I++],K[j++]=128&be?le:de,K[j++]=64&be?le:de,K[j++]=32&be?le:de,K[j++]=16&be?le:de,K[j++]=8&be?le:de,K[j++]=4&be?le:de,K[j++]=2&be?le:de,K[j++]=1&be?le:de;for(;me<_e;me++)0===ye&&(be=H[I++],ye=128),K[j++]=be&ye?le:de,ye>>=1}for(;j<oe;)K[j++]=0;m.putImageData(O,0,$*h)}}else if(i.kind===w.ImageKind.RGBA_32BPP){const ee=!!(X||te||k);for(Y=0,ae=A*h*4,$=0;$<g;$++){if(q.set(H.subarray(I,I+ae)),I+=ae,ee)for(let K=0;K<ae;K+=4)X&&(q[K+0]=X[q[K+0]]),te&&(q[K+1]=te[q[K+1]]),k&&(q[K+2]=k[q[K+2]]);m.putImageData(O,0,Y),Y+=h}if($<E){if(ae=A*t*4,q.set(H.subarray(I,I+ae)),ee)for(let K=0;K<ae;K+=4)X&&(q[K+0]=X[q[K+0]]),te&&(q[K+1]=te[q[K+1]]),k&&(q[K+2]=k[q[K+2]]);m.putImageData(O,0,Y)}}else{if(i.kind!==w.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${i.kind}`);{const ee=!!(X||te||k);for(ne=h,ae=A*ne,$=0;$<E;$++){for($>=g&&(ne=t,ae=A*ne),j=0,Y=ae;Y--;)q[j++]=H[I++],q[j++]=H[I++],q[j++]=H[I++],q[j++]=255;if(ee)for(let K=0;K<j;K+=4)X&&(q[K+0]=X[q[K+0]]),te&&(q[K+1]=te[q[K+1]]),k&&(q[K+2]=k[q[K+2]]);m.putImageData(O,0,$*h)}}}}function e(m,i){if(i.bitmap)return void m.drawImage(i.bitmap,0,0);const c=i.height,C=i.width,A=c%h,t=(c-A)/h,g=0===A?t:t+1,E=m.createImageData(C,h);let O=0;const I=i.data,j=E.data;for(let H=0;H<g;H++){const q=H<t?h:A;({srcPos:O}=(0,U.applyMaskImageData)({src:I,srcPos:O,dest:j,width:C,height:q})),m.putImageData(E,0,H*h)}}function n(m,i){const c=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let C=0,A=c.length;C<A;C++){const t=c[C];void 0!==m[t]&&(i[t]=m[t])}void 0!==m.setLineDash&&(i.setLineDash(m.getLineDash()),i.lineDashOffset=m.lineDashOffset)}function _(m,i){m.strokeStyle=m.fillStyle=i||"#000000",m.fillRule="nonzero",m.globalAlpha=1,m.lineWidth=1,m.lineCap="butt",m.lineJoin="miter",m.miterLimit=10,m.globalCompositeOperation="source-over",m.font="10px sans-serif",void 0!==m.setLineDash&&(m.setLineDash([]),m.lineDashOffset=0)}function L(m,i,c,C){const A=m.length;for(let t=3;t<A;t+=4){const g=m[t];if(0===g)m[t-3]=i,m[t-2]=c,m[t-1]=C;else if(g<255){const E=255-g;m[t-3]=m[t-3]*g+i*E>>8,m[t-2]=m[t-2]*g+c*E>>8,m[t-1]=m[t-1]*g+C*E>>8}}}function F(m,i,c){const C=m.length;for(let t=3;t<C;t+=4)i[t]=i[t]*(c?c[m[t]]:m[t])*.00392156862745098|0}function W(m,i,c){const C=m.length;for(let A=3;A<C;A+=4){const t=77*m[A-3]+152*m[A-2]+28*m[A-1];i[A]=c?i[A]*c[t>>8]>>8:i[A]*t>>16}}function Q(m,i){const c=w.Util.singularValueDecompose2dScale(m);c[0]=Math.fround(c[0]),c[1]=Math.fround(c[1]);const C=Math.fround((globalThis.devicePixelRatio||1)*p.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==i?i:c[0]<=C||c[1]<=C}const P=["butt","round","square"],R=["miter","round","bevel"],D={},M={};class T{constructor(i,c,C,A,t,g,E,O){this.ctx=i,this.current=new b(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=c,this.objs=C,this.canvasFactory=A,this.imageLayer=t,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=g,this.cachedCanvases=new r(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=E,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=O?.background||null,this.foregroundColor=O?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(i,c=null){return"string"==typeof i?i.startsWith("g_")?this.commonObjs.get(i):this.objs.get(i):c}beginDrawing({transform:i,viewport:c,transparency:C=!1,background:A=null}){const t=this.ctx.canvas.width,g=this.ctx.canvas.height,E=A||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const O=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const I=this.backgroundColor=this.ctx.fillStyle;let j=!0,H=E;if(this.ctx.fillStyle=E,H=this.ctx.fillStyle,j="string"==typeof H&&/^#[0-9A-Fa-f]{6}$/.test(H),"#000000"===O&&"#ffffff"===I||O===I||!j)this.foregroundColor=this.backgroundColor=null;else{const[q,$,Y]=(0,p.getRGB)(H),ne=X=>(X/=255)<=.03928?X/12.92:((X+.055)/1.055)**2.4,ae=Math.round(.2126*ne(q)+.7152*ne($)+.0722*ne(Y));this.selectColor=(X,te,k)=>{const z=.2126*ne(X)+.7152*ne(te)+.0722*ne(k);return Math.round(z)===ae?I:O}}}if(this.ctx.fillStyle=this.backgroundColor||E,this.ctx.fillRect(0,0,t,g),this.ctx.restore(),C){const O=this.cachedCanvases.getCanvas("transparent",t,g);this.compositeCtx=this.ctx,this.transparentCanvas=O.canvas,this.ctx=O.context,this.ctx.save(),this.ctx.transform(...(0,p.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),_(this.ctx,this.foregroundColor),i&&(this.ctx.transform(...i),this.outputScaleX=i[0],this.outputScaleY=i[0]),this.ctx.transform(...c.transform),this.viewportScale=c.scale,this.baseTransform=(0,p.getCurrentTransform)(this.ctx),this.imageLayer&&((0,p.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(i,c,C,A){const t=i.argsArray,g=i.fnArray;let E=c||0;const O=t.length;if(O===E)return E;const I=O-E>10&&"function"==typeof C,j=I?Date.now()+15:0;let H=0;const q=this.commonObjs,$=this.objs;let Y;for(;;){if(void 0!==A&&E===A.nextBreakPoint)return A.breakIt(E,C),E;if(Y=g[E],Y!==w.OPS.dependency)this[Y].apply(this,t[E]);else for(const ne of t[E]){const ae=ne.startsWith("g_")?q:$;if(!ae.has(ne))return ae.get(ne,C),E}if(E++,E===O)return E;if(I&&++H>10){if(Date.now()>j)return C(),E;H=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const i of this._cachedBitmapsMap.values()){for(const c of i.values())typeof HTMLCanvasElement<"u"&&c instanceof HTMLCanvasElement&&(c.width=c.height=0);i.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(i,c){const C=i.width,A=i.height;let j,H,t=Math.max(Math.hypot(c[0],c[1]),1),g=Math.max(Math.hypot(c[2],c[3]),1),E=C,O=A,I="prescale1";for(;t>2&&E>1||g>2&&O>1;){let q=E,$=O;t>2&&E>1&&(q=Math.ceil(E/2),t/=E/q),g>2&&O>1&&($=Math.ceil(O/2),g/=O/$),j=this.cachedCanvases.getCanvas(I,q,$),H=j.context,H.clearRect(0,0,q,$),H.drawImage(i,0,0,E,O,0,0,q,$),i=j.canvas,E=q,O=$,I="prescale1"===I?"prescale2":"prescale1"}return{img:i,paintWidth:E,paintHeight:O}}_createMaskCanvas(i){const c=this.ctx,{width:C,height:A}=i,t=this.current.fillColor,g=this.current.patternFill,E=(0,p.getCurrentTransform)(c);let O,I,j,H;if((i.bitmap||i.data)&&i.count>1){const oe=i.bitmap||i.data.buffer,ce=E.slice(0,4);I=JSON.stringify(g?ce:[ce,t]),O=this._cachedBitmapsMap.get(oe),O||(O=new Map,this._cachedBitmapsMap.set(oe,O));const le=O.get(I);if(le&&!g)return{canvas:le,offsetX:Math.round(Math.min(E[0],E[2])+E[4]),offsetY:Math.round(Math.min(E[1],E[3])+E[5])};j=le}j||(H=this.cachedCanvases.getCanvas("maskCanvas",C,A),e(H.context,i));let q=w.Util.transform(E,[1/C,0,0,-1/A,0,0]);q=w.Util.transform(q,[1,0,0,1,0,-A]);const $=w.Util.applyTransform([0,0],q),Y=w.Util.applyTransform([C,A],q),ne=w.Util.normalizeRect([$[0],$[1],Y[0],Y[1]]),ae=Math.round(ne[2]-ne[0])||1,X=Math.round(ne[3]-ne[1])||1,te=this.cachedCanvases.getCanvas("fillCanvas",ae,X),k=te.context,z=Math.min($[0],Y[0]),ee=Math.min($[1],Y[1]);k.translate(-z,-ee),k.transform(...q),j||(j=this._scaleImage(H.canvas,(0,p.getCurrentTransformInverse)(k)),j=j.img,O&&g&&O.set(I,j)),k.imageSmoothingEnabled=Q((0,p.getCurrentTransform)(k),i.interpolate),v(k,j,0,0,j.width,j.height,0,0,C,A),k.globalCompositeOperation="source-in";const K=w.Util.transform((0,p.getCurrentTransformInverse)(k),[1,0,0,1,-z,-ee]);return k.fillStyle=g?t.getPattern(c,this,K,B.PathType.FILL):t,k.fillRect(0,0,C,A),O&&!g&&(this.cachedCanvases.delete("fillCanvas"),O.set(I,te.canvas)),{canvas:te.canvas,offsetX:Math.round(z),offsetY:Math.round(ee)}}setLineWidth(i){i!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=i,this.ctx.lineWidth=i}setLineCap(i){this.ctx.lineCap=P[i]}setLineJoin(i){this.ctx.lineJoin=R[i]}setMiterLimit(i){this.ctx.miterLimit=i}setDash(i,c){const C=this.ctx;void 0!==C.setLineDash&&(C.setLineDash(i),C.lineDashOffset=c)}setRenderingIntent(i){}setFlatness(i){}setGState(i){for(let c=0,C=i.length;c<C;c++){const A=i[c],g=A[1];switch(A[0]){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"RI":this.setRenderingIntent(g);break;case"FL":this.setFlatness(g);break;case"Font":this.setFont(g[0],g[1]);break;case"CA":this.current.strokeAlpha=A[1];break;case"ca":this.current.fillAlpha=A[1],this.ctx.globalAlpha=A[1];break;case"BM":this.ctx.globalCompositeOperation=g;break;case"SMask":this.current.activeSMask=g?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=g}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const i=this.inSMaskMode;this.current.activeSMask&&!i?this.beginSMaskMode():!this.current.activeSMask&&i&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const A=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height);this.suspendedCtx=this.ctx,this.ctx=A.context;const t=this.ctx;t.setTransform(...(0,p.getCurrentTransform)(this.suspendedCtx)),n(this.suspendedCtx,t),function o(m,i){if(m._removeMirroring)throw new Error("Context is already forwarding operations.");m.__originalSave=m.save,m.__originalRestore=m.restore,m.__originalRotate=m.rotate,m.__originalScale=m.scale,m.__originalTranslate=m.translate,m.__originalTransform=m.transform,m.__originalSetTransform=m.setTransform,m.__originalResetTransform=m.resetTransform,m.__originalClip=m.clip,m.__originalMoveTo=m.moveTo,m.__originalLineTo=m.lineTo,m.__originalBezierCurveTo=m.bezierCurveTo,m.__originalRect=m.rect,m.__originalClosePath=m.closePath,m.__originalBeginPath=m.beginPath,m._removeMirroring=()=>{m.save=m.__originalSave,m.restore=m.__originalRestore,m.rotate=m.__originalRotate,m.scale=m.__originalScale,m.translate=m.__originalTranslate,m.transform=m.__originalTransform,m.setTransform=m.__originalSetTransform,m.resetTransform=m.__originalResetTransform,m.clip=m.__originalClip,m.moveTo=m.__originalMoveTo,m.lineTo=m.__originalLineTo,m.bezierCurveTo=m.__originalBezierCurveTo,m.rect=m.__originalRect,m.closePath=m.__originalClosePath,m.beginPath=m.__originalBeginPath,delete m._removeMirroring},m.save=function(){i.save(),this.__originalSave()},m.restore=function(){i.restore(),this.__originalRestore()},m.translate=function(C,A){i.translate(C,A),this.__originalTranslate(C,A)},m.scale=function(C,A){i.scale(C,A),this.__originalScale(C,A)},m.transform=function(C,A,t,g,E,O){i.transform(C,A,t,g,E,O),this.__originalTransform(C,A,t,g,E,O)},m.setTransform=function(C,A,t,g,E,O){i.setTransform(C,A,t,g,E,O),this.__originalSetTransform(C,A,t,g,E,O)},m.resetTransform=function(){i.resetTransform(),this.__originalResetTransform()},m.rotate=function(C){i.rotate(C),this.__originalRotate(C)},m.clip=function(C){i.clip(C),this.__originalClip(C)},m.moveTo=function(c,C){i.moveTo(c,C),this.__originalMoveTo(c,C)},m.lineTo=function(c,C){i.lineTo(c,C),this.__originalLineTo(c,C)},m.bezierCurveTo=function(c,C,A,t,g,E){i.bezierCurveTo(c,C,A,t,g,E),this.__originalBezierCurveTo(c,C,A,t,g,E)},m.rect=function(c,C,A,t){i.rect(c,C,A,t),this.__originalRect(c,C,A,t)},m.closePath=function(){i.closePath(),this.__originalClosePath()},m.beginPath=function(){i.beginPath(),this.__originalBeginPath()}}(t,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),n(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(i){this.current.activeSMask&&(i?(i[0]=Math.floor(i[0]),i[1]=Math.floor(i[1]),i[2]=Math.ceil(i[2]),i[3]=Math.ceil(i[3])):i=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function ie(m,i,c,C){const A=C[0],t=C[1],g=C[2]-A,E=C[3]-t;0===g||0===E||(function V(m,i,c,C,A,t,g,E,O,I,j){const H=!!t,q=H?t[0]:0,$=H?t[1]:0,Y=H?t[2]:0;let ne;ne="Luminosity"===A?W:F;const X=Math.min(C,Math.ceil(1048576/c));for(let te=0;te<C;te+=X){const k=Math.min(X,C-te),z=m.getImageData(E-I,te+(O-j),c,k),ee=i.getImageData(E,te+O,c,k);H&&L(z.data,q,$,Y),ne(z.data,ee.data,g),i.putImageData(ee,E,te+O)}}(i.context,c,g,E,i.subtype,i.backdrop,i.transferMap,A,t,i.offsetX,i.offsetY),m.save(),m.globalAlpha=1,m.globalCompositeOperation="source-over",m.setTransform(1,0,0,1,0,0),m.drawImage(c.canvas,0,0),m.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,i),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(n(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const i=this.current;this.stateStack.push(i),this.current=i.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),n(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(i,c,C,A,t,g){this.ctx.transform(i,c,C,A,t,g),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(i,c,C){const A=this.ctx,t=this.current;let O,I,g=t.x,E=t.y;const j=(0,p.getCurrentTransform)(A),H=0===j[0]&&0===j[3]||0===j[1]&&0===j[2],q=H?C.slice(0):null;for(let $=0,Y=0,ne=i.length;$<ne;$++)switch(0|i[$]){case w.OPS.rectangle:g=c[Y++],E=c[Y++];const ae=c[Y++],X=c[Y++],te=g+ae,k=E+X;A.moveTo(g,E),0===ae||0===X?A.lineTo(te,k):(A.lineTo(te,E),A.lineTo(te,k),A.lineTo(g,k)),H||t.updateRectMinMax(j,[g,E,te,k]),A.closePath();break;case w.OPS.moveTo:g=c[Y++],E=c[Y++],A.moveTo(g,E),H||t.updatePathMinMax(j,g,E);break;case w.OPS.lineTo:g=c[Y++],E=c[Y++],A.lineTo(g,E),H||t.updatePathMinMax(j,g,E);break;case w.OPS.curveTo:O=g,I=E,g=c[Y+4],E=c[Y+5],A.bezierCurveTo(c[Y],c[Y+1],c[Y+2],c[Y+3],g,E),t.updateCurvePathMinMax(j,O,I,c[Y],c[Y+1],c[Y+2],c[Y+3],g,E,q),Y+=6;break;case w.OPS.curveTo2:O=g,I=E,A.bezierCurveTo(g,E,c[Y],c[Y+1],c[Y+2],c[Y+3]),t.updateCurvePathMinMax(j,O,I,g,E,c[Y],c[Y+1],c[Y+2],c[Y+3],q),g=c[Y+2],E=c[Y+3],Y+=4;break;case w.OPS.curveTo3:O=g,I=E,g=c[Y+2],E=c[Y+3],A.bezierCurveTo(c[Y],c[Y+1],g,E,g,E),t.updateCurvePathMinMax(j,O,I,c[Y],c[Y+1],g,E,g,E,q),Y+=4;break;case w.OPS.closePath:A.closePath()}H&&t.updateScalingPathMinMax(j,q),t.setCurrentPoint(g,E)}closePath(){this.ctx.closePath()}stroke(i){i=!(typeof i<"u")||i;const c=this.ctx,C=this.current.strokeColor;c.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof C&&C?.getPattern?(c.save(),c.strokeStyle=C.getPattern(c,this,(0,p.getCurrentTransformInverse)(c),B.PathType.STROKE),this.rescaleAndStroke(!1),c.restore()):this.rescaleAndStroke(!0)),i&&this.consumePath(this.current.getClippedPathBoundingBox()),c.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(i){i=!(typeof i<"u")||i;const c=this.ctx,C=this.current.fillColor;let t=!1;this.current.patternFill&&(c.save(),c.fillStyle=C.getPattern(c,this,(0,p.getCurrentTransformInverse)(c),B.PathType.FILL),t=!0);const g=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==g&&(this.pendingEOFill?(c.fill("evenodd"),this.pendingEOFill=!1):c.fill()),t&&c.restore(),i&&this.consumePath(g)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=D}eoClip(){this.pendingClip=M}beginText(){this.current.textMatrix=w.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const i=this.pendingTextPaths,c=this.ctx;if(void 0!==i){c.save(),c.beginPath();for(const C of i)c.setTransform(...C.transform),c.translate(C.x,C.y),C.addToPath(c,C.fontSize);c.restore(),c.clip(),c.beginPath(),delete this.pendingTextPaths}else c.beginPath()}setCharSpacing(i){this.current.charSpacing=i}setWordSpacing(i){this.current.wordSpacing=i}setHScale(i){this.current.textHScale=i/100}setLeading(i){this.current.leading=-i}setFont(i,c){const C=this.commonObjs.get(i),A=this.current;if(!C)throw new Error(`Can't find font for ${i}`);if(A.fontMatrix=C.fontMatrix||w.FONT_IDENTITY_MATRIX,(0===A.fontMatrix[0]||0===A.fontMatrix[3])&&(0,w.warn)("Invalid font matrix for font "+i),c<0?(c=-c,A.fontDirection=-1):A.fontDirection=1,this.current.font=C,this.current.fontSize=c,C.isType3Font)return;let g="normal";C.black?g="900":C.bold&&(g="bold");const E=C.italic?"italic":"normal",O=`"${C.loadedName||"sans-serif"}", ${C.fallbackName}`;let I=c;c<16?I=16:c>100&&(I=100),this.current.fontSizeScale=c/I,this.ctx.font=`${E} ${g} ${I}px ${O}`}setTextRenderingMode(i){this.current.textRenderingMode=i}setTextRise(i){this.current.textRise=i}moveText(i,c){this.current.x=this.current.lineX+=i,this.current.y=this.current.lineY+=c}setLeadingMoveText(i,c){this.setLeading(-c),this.moveText(i,c)}setTextMatrix(i,c,C,A,t,g){this.current.textMatrix=[i,c,C,A,t,g],this.current.textMatrixScale=Math.hypot(i,c),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(i,c,C,A){const t=this.ctx,g=this.current,E=g.font,O=g.textRenderingMode,I=g.fontSize/g.fontSizeScale,j=O&w.TextRenderingMode.FILL_STROKE_MASK,H=!!(O&w.TextRenderingMode.ADD_TO_PATH_FLAG),q=g.patternFill&&!E.missingFile;let $;(E.disableFontFace||H||q)&&($=E.getPathGenerator(this.commonObjs,i)),E.disableFontFace||q?(t.save(),t.translate(c,C),t.beginPath(),$(t,I),A&&t.setTransform(...A),(j===w.TextRenderingMode.FILL||j===w.TextRenderingMode.FILL_STROKE)&&t.fill(),(j===w.TextRenderingMode.STROKE||j===w.TextRenderingMode.FILL_STROKE)&&t.stroke(),t.restore()):((j===w.TextRenderingMode.FILL||j===w.TextRenderingMode.FILL_STROKE)&&t.fillText(i,c,C),(j===w.TextRenderingMode.STROKE||j===w.TextRenderingMode.FILL_STROKE)&&t.strokeText(i,c,C)),H&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,p.getCurrentTransform)(t),x:c,y:C,fontSize:I,addToPath:$})}get isFontSubpixelAAEnabled(){const{context:i}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);i.scale(1.5,1),i.fillText("I",0,10);const c=i.getImageData(0,0,10,10).data;let C=!1;for(let A=3;A<c.length;A+=4)if(c[A]>0&&c[A]<255){C=!0;break}return(0,w.shadow)(this,"isFontSubpixelAAEnabled",C)}showText(i){const c=this.current,C=c.font;if(C.isType3Font)return this.showType3Text(i);const A=c.fontSize;if(0===A)return;const t=this.ctx,g=c.fontSizeScale,E=c.charSpacing,O=c.wordSpacing,I=c.fontDirection,j=c.textHScale*I,H=i.length,q=C.vertical,$=q?1:-1,Y=C.defaultVMetrics,ne=A*c.fontMatrix[0],ae=c.textRenderingMode===w.TextRenderingMode.FILL&&!C.disableFontFace&&!c.patternFill;let X;if(t.save(),t.transform(...c.textMatrix),t.translate(c.x,c.y+c.textRise),t.scale(j,I>0?-1:1),c.patternFill){t.save();const K=c.fillColor.getPattern(t,this,(0,p.getCurrentTransformInverse)(t),B.PathType.FILL);X=(0,p.getCurrentTransform)(t),t.restore(),t.fillStyle=K}let te=c.lineWidth;const k=c.textMatrixScale;if(0===k||0===te){const K=c.textRenderingMode&w.TextRenderingMode.FILL_STROKE_MASK;(K===w.TextRenderingMode.STROKE||K===w.TextRenderingMode.FILL_STROKE)&&(te=this.getSinglePixelWidth())}else te/=k;1!==g&&(t.scale(g,g),te/=g),t.lineWidth=te;let ee,z=0;for(ee=0;ee<H;++ee){const K=i[ee];if("number"==typeof K){z+=$*K*A/1e3;continue}let oe=!1;const ce=(K.isSpace?O:0)+E,le=K.fontChar,de=K.accent;let fe,me,Pe,_e=K.width;if(q){const ye=K.vmetric||Y,be=-(K.vmetric?ye[1]:.5*_e)*ne;_e=ye?-ye[0]:_e,fe=be/g,me=(z+ye[2]*ne)/g}else fe=z/g,me=0;if(C.remeasure&&_e>0){const ye=1e3*t.measureText(le).width/A*g;if(_e<ye&&this.isFontSubpixelAAEnabled){const be=_e/ye;oe=!0,t.save(),t.scale(be,1),fe/=be}else _e!==ye&&(fe+=(_e-ye)/2e3*A/g)}this.contentVisible&&(K.isInFont||C.missingFile)&&(ae&&!de?t.fillText(le,fe,me):(this.paintChar(le,fe,me,X),de&&this.paintChar(de.fontChar,fe+A*de.offset.x/g,me-A*de.offset.y/g,X))),Pe=q?_e*ne-ce*I:_e*ne+ce*I,z+=Pe,oe&&t.restore()}q?c.y-=z:c.x+=z*j,t.restore(),this.compose()}showType3Text(i){const c=this.ctx,C=this.current,A=C.font,t=C.fontSize,g=C.fontDirection,E=A.vertical?1:-1,O=C.charSpacing,I=C.wordSpacing,j=C.textHScale*g,H=C.fontMatrix||w.FONT_IDENTITY_MATRIX,q=i.length;let Y,ne,ae,X;if(C.textRenderingMode!==w.TextRenderingMode.INVISIBLE&&0!==t){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,c.save(),c.transform(...C.textMatrix),c.translate(C.x,C.y),c.scale(j,g),Y=0;Y<q;++Y){if(ne=i[Y],"number"==typeof ne){X=E*ne*t/1e3,this.ctx.translate(X,0),C.x+=X*j;continue}const te=(ne.isSpace?I:0)+O,k=A.charProcOperatorList[ne.operatorListId];k?(this.contentVisible&&(this.processingType3=ne,this.save(),c.scale(t,t),c.transform(...H),this.executeOperatorList(k),this.restore()),ae=w.Util.applyTransform([ne.width,0],H)[0]*t+te,c.translate(ae,0),C.x+=ae*j):(0,w.warn)(`Type3 character "${ne.operatorListId}" is not available.`)}c.restore(),this.processingType3=null}}setCharWidth(i,c){}setCharWidthAndBounds(i,c,C,A,t,g){this.ctx.rect(C,A,t-C,g-A),this.ctx.clip(),this.endPath()}getColorN_Pattern(i){let c;if("TilingPattern"===i[0]){const C=i[1],A=this.baseTransform||(0,p.getCurrentTransform)(this.ctx);c=new B.TilingPattern(i,C,this.ctx,{createCanvasGraphics:g=>new T(g,this.commonObjs,this.objs,this.canvasFactory)},A)}else c=this._getPattern(i[1],i[2]);return c}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(i,c,C){const A=this.selectColor?.(i,c,C)||w.Util.makeHexColor(i,c,C);this.ctx.strokeStyle=A,this.current.strokeColor=A}setFillRGBColor(i,c,C){const A=this.selectColor?.(i,c,C)||w.Util.makeHexColor(i,c,C);this.ctx.fillStyle=A,this.current.fillColor=A,this.current.patternFill=!1}_getPattern(i,c=null){let C;return this.cachedPatterns.has(i)?C=this.cachedPatterns.get(i):(C=(0,B.getShadingPattern)(this.objs.get(i)),this.cachedPatterns.set(i,C)),c&&(C.matrix=c),C}shadingFill(i){if(!this.contentVisible)return;const c=this.ctx;this.save();const C=this._getPattern(i);c.fillStyle=C.getPattern(c,this,(0,p.getCurrentTransformInverse)(c),B.PathType.SHADING);const A=(0,p.getCurrentTransformInverse)(c);if(A){const t=c.canvas,g=t.width,E=t.height,O=w.Util.applyTransform([0,0],A),I=w.Util.applyTransform([0,E],A),j=w.Util.applyTransform([g,0],A),H=w.Util.applyTransform([g,E],A),q=Math.min(O[0],I[0],j[0],H[0]),$=Math.min(O[1],I[1],j[1],H[1]),Y=Math.max(O[0],I[0],j[0],H[0]),ne=Math.max(O[1],I[1],j[1],H[1]);this.ctx.fillRect(q,$,Y-q,ne-$)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,w.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,w.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(i,c){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(i)&&6===i.length&&this.transform(...i),this.baseTransform=(0,p.getCurrentTransform)(this.ctx),c)&&(this.ctx.rect(c[0],c[1],c[2]-c[0],c[3]-c[1]),this.current.updateRectMinMax((0,p.getCurrentTransform)(this.ctx),c),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(i){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const c=this.ctx;i.isolated||(0,w.info)("TODO: Support non-isolated groups."),i.knockout&&(0,w.warn)("Knockout groups not supported.");const C=(0,p.getCurrentTransform)(c);if(i.matrix&&c.transform(...i.matrix),!i.bbox)throw new Error("Bounding box is required.");let A=w.Util.getAxialAlignedBoundingBox(i.bbox,(0,p.getCurrentTransform)(c));A=w.Util.intersect(A,[0,0,c.canvas.width,c.canvas.height])||[0,0,0,0];const g=Math.floor(A[0]),E=Math.floor(A[1]);let O=Math.max(Math.ceil(A[2])-g,1),I=Math.max(Math.ceil(A[3])-E,1),j=1,H=1;O>f&&(j=O/f,O=f),I>f&&(H=I/f,I=f),this.current.startNewPathAndClipBox([0,0,O,I]);let q="groupAt"+this.groupLevel;i.smask&&(q+="_smask_"+this.smaskCounter++%2);const $=this.cachedCanvases.getCanvas(q,O,I),Y=$.context;Y.scale(1/j,1/H),Y.translate(-g,-E),Y.transform(...C),i.smask?this.smaskStack.push({canvas:$.canvas,context:Y,offsetX:g,offsetY:E,scaleX:j,scaleY:H,subtype:i.smask.subtype,backdrop:i.smask.backdrop,transferMap:i.smask.transferMap||null,startTransformInverse:null}):(c.setTransform(1,0,0,1,0,0),c.translate(g,E),c.scale(j,H),c.save()),n(c,Y),this.ctx=Y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(c),this.groupLevel++}endGroup(i){if(!this.contentVisible)return;this.groupLevel--;const c=this.ctx,C=this.groupStack.pop();if(this.ctx=C,this.ctx.imageSmoothingEnabled=!1,i.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const A=(0,p.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...A);const t=w.Util.getAxialAlignedBoundingBox([0,0,c.canvas.width,c.canvas.height],A);this.ctx.drawImage(c.canvas,0,0),this.ctx.restore(),this.compose(t)}}beginAnnotation(i,c,C,A,t){if(this.#e(),_(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(c)&&4===c.length){const g=c[2]-c[0],E=c[3]-c[1];if(t&&this.annotationCanvasMap){(C=C.slice())[4]-=c[0],C[5]-=c[1],(c=c.slice())[0]=c[1]=0,c[2]=g,c[3]=E;const[O,I]=w.Util.singularValueDecompose2dScale((0,p.getCurrentTransform)(this.ctx)),{viewportScale:j}=this,H=Math.ceil(g*this.outputScaleX*j),q=Math.ceil(E*this.outputScaleY*j);this.annotationCanvas=this.canvasFactory.create(H,q);const{canvas:$,context:Y}=this.annotationCanvas;this.annotationCanvasMap.set(i,$),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Y,this.ctx.setTransform(O,0,0,-I,0,E*I),_(this.ctx,this.foregroundColor)}else _(this.ctx,this.foregroundColor),this.ctx.rect(c[0],c[1],g,E),this.ctx.clip(),this.endPath()}this.current=new b(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...C),this.transform(...A)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(i){if(!this.contentVisible)return;const c=i.count;(i=this.getObject(i.data,i)).count=c;const C=this.ctx,A=this.processingType3;if(A&&(void 0===A.compiled&&(A.compiled=function y(m){const{width:i,height:c}=m;if(i>S||c>S)return null;const A=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),t=i+1;let E,O,I,g=new Uint8Array(t*(c+1));const j=i+7&-8;let H=new Uint8Array(j*c),q=0;for(const X of m.data){let te=128;for(;te>0;)H[q++]=X&te?0:255,te>>=1}let $=0;for(q=0,0!==H[q]&&(g[0]=1,++$),O=1;O<i;O++)H[q]!==H[q+1]&&(g[O]=H[q]?2:1,++$),q++;for(0!==H[q]&&(g[O]=2,++$),E=1;E<c;E++){q=E*j,I=E*t,H[q-j]!==H[q]&&(g[I]=H[q]?1:8,++$);let X=(H[q]?4:0)+(H[q-j]?8:0);for(O=1;O<i;O++)X=(X>>2)+(H[q+1]?4:0)+(H[q-j+1]?8:0),A[X]&&(g[I+O]=A[X],++$),q++;if(H[q-j]!==H[q]&&(g[I+O]=H[q]?2:4,++$),$>1e3)return null}for(q=j*(c-1),I=E*t,0!==H[q]&&(g[I]=8,++$),O=1;O<i;O++)H[q]!==H[q+1]&&(g[I+O]=H[q]?4:8,++$),q++;if(0!==H[q]&&(g[I+O]=4,++$),$>1e3)return null;const Y=new Int32Array([0,t,-1,0,-t,0,0,0,1]),ne=new Path2D;for(E=0;$&&E<=c;E++){let X=E*t;const te=X+i;for(;X<te&&!g[X];)X++;if(X===te)continue;ne.moveTo(X%t,E);const k=X;let z=g[X];do{const ee=Y[z];do{X+=ee}while(!g[X]);const K=g[X];5!==K&&10!==K?(z=K,g[X]=0):(z=K&51*z>>4,g[X]&=z>>2|z<<2),ne.lineTo(X%t,X/t|0),g[X]||--$}while(k!==X);--E}return H=null,g=null,function(X){X.save(),X.scale(1/i,-1/c),X.translate(0,-c),X.fill(ne),X.beginPath(),X.restore()}}(i)),A.compiled))return void A.compiled(C);const t=this._createMaskCanvas(i),g=t.canvas;C.save(),C.setTransform(1,0,0,1,0,0),C.drawImage(g,t.offsetX,t.offsetY),C.restore(),this.compose()}paintImageMaskXObjectRepeat(i,c,C=0,A=0,t,g){if(!this.contentVisible)return;i=this.getObject(i.data,i);const E=this.ctx;E.save();const O=(0,p.getCurrentTransform)(E);E.transform(c,C,A,t,0,0);const I=this._createMaskCanvas(i);E.setTransform(1,0,0,1,0,0);for(let j=0,H=g.length;j<H;j+=2){const q=w.Util.transform(O,[c,C,A,t,g[j],g[j+1]]),[$,Y]=w.Util.applyTransform([0,0],q);E.drawImage(I.canvas,$,Y)}E.restore(),this.compose()}paintImageMaskXObjectGroup(i){if(!this.contentVisible)return;const c=this.ctx,C=this.current.fillColor,A=this.current.patternFill;for(const t of i){const{data:g,width:E,height:O,transform:I}=t,j=this.cachedCanvases.getCanvas("maskCanvas",E,O),H=j.context;H.save(),e(H,this.getObject(g,t)),H.globalCompositeOperation="source-in",H.fillStyle=A?C.getPattern(H,this,(0,p.getCurrentTransformInverse)(c),B.PathType.FILL):C,H.fillRect(0,0,E,O),H.restore(),c.save(),c.transform(...I),c.scale(1,-1),v(c,j.canvas,0,0,E,O,0,-1,1,1),c.restore()}this.compose()}paintImageXObject(i){if(!this.contentVisible)return;const c=this.getObject(i);c?this.paintInlineImageXObject(c):(0,w.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(i,c,C,A){if(!this.contentVisible)return;const t=this.getObject(i);if(!t)return void(0,w.warn)("Dependent image isn't ready yet");const g=t.width,E=t.height,O=[];for(let I=0,j=A.length;I<j;I+=2)O.push({transform:[c,0,0,C,A[I],A[I+1]],x:0,y:0,w:g,h:E});this.paintInlineImageXObjectGroup(t,O)}paintInlineImageXObject(i){if(!this.contentVisible)return;const c=i.width,C=i.height,A=this.ctx;let t;if(this.save(),A.scale(1/c,-1/C),"function"==typeof HTMLElement&&i instanceof HTMLElement||!i.data)t=i;else{const I=this.cachedCanvases.getCanvas("inlineImage",c,C);d(I.context,i,this.current.transferMaps),t=I.canvas}const g=this._scaleImage(t,(0,p.getCurrentTransformInverse)(A));A.imageSmoothingEnabled=Q((0,p.getCurrentTransform)(A),i.interpolate);const[E,O]=v(A,g.img,0,0,g.paintWidth,g.paintHeight,0,-C,c,C);if(this.imageLayer){const[I,j]=w.Util.applyTransform([0,-C],(0,p.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:i,left:I,top:j,width:E,height:O})}this.compose(),this.restore()}paintInlineImageXObjectGroup(i,c){if(!this.contentVisible)return;const C=this.ctx,A=i.width,t=i.height,g=this.cachedCanvases.getCanvas("inlineImage",A,t);d(g.context,i,this.current.transferMaps);for(const O of c){if(C.save(),C.transform(...O.transform),C.scale(1,-1),v(C,g.canvas,O.x,O.y,O.w,O.h,0,-1,1,1),this.imageLayer){const[I,j]=w.Util.applyTransform([O.x,O.y],(0,p.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:i,left:I,top:j,width:A,height:t})}C.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(i){}markPointProps(i,c){}beginMarkedContent(i){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(i,c){this.markedContentStack.push("OC"===i?{visible:this.optionalContentConfig.isVisible(c)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(i){const c=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const C=this.ctx;this.pendingClip&&(c||(this.pendingClip===M?C.clip("evenodd"):C.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),C.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const i=(0,p.getCurrentTransform)(this.ctx);if(0===i[1]&&0===i[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(i[0]),Math.abs(i[3]));else{const c=Math.abs(i[0]*i[3]-i[2]*i[1]),C=Math.hypot(i[0],i[2]),A=Math.hypot(i[1],i[3]);this._cachedGetSinglePixelWidth=Math.max(C,A)/c}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:i}=this.current,c=(0,p.getCurrentTransform)(this.ctx);let C,A;if(0===c[1]&&0===c[2]){const t=Math.abs(c[0]),g=Math.abs(c[3]);if(0===i)C=1/t,A=1/g;else{const E=t*i,O=g*i;C=E<1?1/E:1,A=O<1?1/O:1}}else{const t=Math.abs(c[0]*c[3]-c[2]*c[1]),g=Math.hypot(c[0],c[1]),E=Math.hypot(c[2],c[3]);if(0===i)C=E/t,A=g/t;else{const O=i*t;C=E>O?E/O:1,A=g>O?g/O:1}}this._cachedScaleForStroking=[C,A]}return this._cachedScaleForStroking}rescaleAndStroke(i){const{ctx:c}=this,{lineWidth:C}=this.current,[A,t]=this.getScaleForStroking();if(c.lineWidth=C||1,1===A&&1===t)return void c.stroke();let g,E,O;i&&(g=(0,p.getCurrentTransform)(c),E=c.getLineDash().slice(),O=c.lineDashOffset),c.scale(A,t);const I=Math.max(A,t);c.setLineDash(c.getLineDash().map(j=>j/I)),c.lineDashOffset/=I,c.stroke(),i&&(c.setTransform(...g),c.setLineDash(E),c.lineDashOffset=O)}isContentVisible(){for(let i=this.markedContentStack.length-1;i>=0;i--)if(!this.markedContentStack[i].visible)return!1;return!0}}u.CanvasGraphics=T;for(const m in w.OPS)void 0!==T.prototype[m]&&(T.prototype[w.OPS[m]]=T.prototype[m])},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TilingPattern=u.PathType=void 0,u.getShadingPattern=function h(v){switch(v[0]){case"RadialAxial":return new s(v);case"Mesh":return new l(v);case"Dummy":return new S}throw new Error(`Unknown IR type: ${v[0]}`)};var p=N(1),w=N(8),B=N(3);const U={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function G(v,y){if(!y||B.isNodeJS)return;const b=y[2]-y[0],d=y[3]-y[1],e=new Path2D;e.rect(y[0],y[1],b,d),v.clip(e)}u.PathType=U;class x{constructor(){this.constructor===x&&(0,p.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,p.unreachable)("Abstract method `getPattern` called.")}}class s extends x{constructor(y){super(),this._type=y[1],this._bbox=y[2],this._colorStops=y[3],this._p0=y[4],this._p1=y[5],this._r0=y[6],this._r1=y[7],this.matrix=null}_createGradient(y){let b;"axial"===this._type?b=y.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(b=y.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const d of this._colorStops)b.addColorStop(d[0],d[1]);return b}getPattern(y,b,d,e){let n;if(e===U.STROKE||e===U.FILL){const _=b.current.getClippedPathBoundingBox(e,(0,w.getCurrentTransform)(y))||[0,0,0,0],L=Math.ceil(_[2]-_[0])||1,F=Math.ceil(_[3]-_[1])||1,W=b.cachedCanvases.getCanvas("pattern",L,F,!0),V=W.context;V.clearRect(0,0,V.canvas.width,V.canvas.height),V.beginPath(),V.rect(0,0,V.canvas.width,V.canvas.height),V.translate(-_[0],-_[1]),d=p.Util.transform(d,[1,0,0,1,_[0],_[1]]),V.transform(...b.baseTransform),this.matrix&&V.transform(...this.matrix),G(V,this._bbox),V.fillStyle=this._createGradient(V),V.fill(),n=y.createPattern(W.canvas,"no-repeat");const ie=new DOMMatrix(d);try{n.setTransform(ie)}catch(Q){(0,p.warn)(`RadialAxialShadingPattern.getPattern: "${Q?.message}".`)}}else G(y,this._bbox),n=this._createGradient(y);return n}}function f(v,y,b,d,e,n,_,L){const F=y.coords,W=y.colors,V=v.data,ie=4*v.width;let Q;F[b+1]>F[d+1]&&(Q=b,b=d,d=Q,Q=n,n=_,_=Q),F[d+1]>F[e+1]&&(Q=d,d=e,e=Q,Q=_,_=L,L=Q),F[b+1]>F[d+1]&&(Q=b,b=d,d=Q,Q=n,n=_,_=Q);const P=(F[b]+y.offsetX)*y.scaleX,R=(F[b+1]+y.offsetY)*y.scaleY,D=(F[d]+y.offsetX)*y.scaleX,M=(F[d+1]+y.offsetY)*y.scaleY,T=(F[e]+y.offsetX)*y.scaleX,m=(F[e+1]+y.offsetY)*y.scaleY;if(R>=m)return;const i=W[n],c=W[n+1],C=W[n+2],A=W[_],t=W[_+1],g=W[_+2],E=W[L],O=W[L+1],I=W[L+2],j=Math.round(R),H=Math.round(m);let q,$,Y,ne,ae,X,te,k;for(let z=j;z<=H;z++){if(z<M){let le;le=z<R?0:(R-z)/(R-M),q=P-(P-D)*le,$=i-(i-A)*le,Y=c-(c-t)*le,ne=C-(C-g)*le}else{let le;le=z>m?1:M===m?0:(M-z)/(M-m),q=D-(D-T)*le,$=A-(A-E)*le,Y=t-(t-O)*le,ne=g-(g-I)*le}let ee;ee=z<R?0:z>m?1:(R-z)/(R-m),ae=P-(P-T)*ee,X=i-(i-E)*ee,te=c-(c-O)*ee,k=C-(C-I)*ee;const K=Math.round(Math.min(q,ae)),oe=Math.round(Math.max(q,ae));let ce=ie*z+4*K;for(let le=K;le<=oe;le++)ee=(q-le)/(q-ae),ee<0?ee=0:ee>1&&(ee=1),V[ce++]=$-($-X)*ee|0,V[ce++]=Y-(Y-te)*ee|0,V[ce++]=ne-(ne-k)*ee|0,V[ce++]=255}}function a(v,y,b){const d=y.coords,e=y.colors;let n,_;switch(y.type){case"lattice":const L=y.verticesPerRow,F=Math.floor(d.length/L)-1,W=L-1;for(n=0;n<F;n++){let V=n*L;for(let ie=0;ie<W;ie++,V++)f(v,b,d[V],d[V+1],d[V+L],e[V],e[V+1],e[V+L]),f(v,b,d[V+L+1],d[V+1],d[V+L],e[V+L+1],e[V+1],e[V+L])}break;case"triangles":for(n=0,_=d.length;n<_;n+=3)f(v,b,d[n],d[n+1],d[n+2],e[n],e[n+1],e[n+2]);break;default:throw new Error("illegal figure")}}class l extends x{constructor(y){super(),this._coords=y[2],this._colors=y[3],this._figures=y[4],this._bounds=y[5],this._bbox=y[7],this._background=y[8],this.matrix=null}_createMeshCanvas(y,b,d){const L=Math.floor(this._bounds[0]),F=Math.floor(this._bounds[1]),W=Math.ceil(this._bounds[2])-L,V=Math.ceil(this._bounds[3])-F,ie=Math.min(Math.ceil(Math.abs(W*y[0]*1.1)),3e3),Q=Math.min(Math.ceil(Math.abs(V*y[1]*1.1)),3e3),P=W/ie,R=V/Q,D={coords:this._coords,colors:this._colors,offsetX:-L,offsetY:-F,scaleX:1/P,scaleY:1/R},m=d.getCanvas("mesh",ie+4,Q+4,!1),i=m.context,c=i.createImageData(ie,Q);if(b){const A=c.data;for(let t=0,g=A.length;t<g;t+=4)A[t]=b[0],A[t+1]=b[1],A[t+2]=b[2],A[t+3]=255}for(const A of this._figures)a(c,A,D);return i.putImageData(c,2,2),{canvas:m.canvas,offsetX:L-2*P,offsetY:F-2*R,scaleX:P,scaleY:R}}getPattern(y,b,d,e){let n;if(G(y,this._bbox),e===U.SHADING)n=p.Util.singularValueDecompose2dScale((0,w.getCurrentTransform)(y));else if(n=p.Util.singularValueDecompose2dScale(b.baseTransform),this.matrix){const L=p.Util.singularValueDecompose2dScale(this.matrix);n=[n[0]*L[0],n[1]*L[1]]}const _=this._createMeshCanvas(n,e===U.SHADING?null:this._background,b.cachedCanvases);return e!==U.SHADING&&(y.setTransform(...b.baseTransform),this.matrix&&y.transform(...this.matrix)),y.translate(_.offsetX,_.offsetY),y.scale(_.scaleX,_.scaleY),y.createPattern(_.canvas,"no-repeat")}}class S extends x{getPattern(){return"hotpink"}}class r{static get MAX_PATTERN_SIZE(){return(0,p.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(y,b,d,e,n){this.operatorList=y[2],this.matrix=y[3]||[1,0,0,1,0,0],this.bbox=y[4],this.xstep=y[5],this.ystep=y[6],this.paintType=y[7],this.tilingType=y[8],this.color=b,this.ctx=d,this.canvasGraphicsFactory=e,this.baseTransform=n}createPatternCanvas(y){const b=this.operatorList,d=this.bbox,e=this.xstep,n=this.ystep,_=this.paintType,F=this.color,W=this.canvasGraphicsFactory;(0,p.info)("TilingType: "+this.tilingType);const V=d[0],ie=d[1],Q=d[2],P=d[3],R=p.Util.singularValueDecompose2dScale(this.matrix),D=p.Util.singularValueDecompose2dScale(this.baseTransform),M=[R[0]*D[0],R[1]*D[1]],T=this.getSizeAndScale(e,this.ctx.canvas.width,M[0]),m=this.getSizeAndScale(n,this.ctx.canvas.height,M[1]),i=y.cachedCanvases.getCanvas("pattern",T.size,m.size,!0),c=i.context,C=W.createCanvasGraphics(c);C.groupLevel=y.groupLevel,this.setFillAndStrokeStyleToContext(C,_,F);let A=V,t=ie,g=Q,E=P;return V<0&&(A=0,g+=Math.abs(V)),ie<0&&(t=0,E+=Math.abs(ie)),c.translate(-T.scale*A,-m.scale*t),C.transform(T.scale,0,0,m.scale,0,0),c.save(),this.clipBbox(C,A,t,g,E),C.baseTransform=(0,w.getCurrentTransform)(C.ctx),C.executeOperatorList(b),C.endDrawing(),{canvas:i.canvas,scaleX:T.scale,scaleY:m.scale,offsetX:A,offsetY:t}}getSizeAndScale(y,b,d){y=Math.abs(y);const e=Math.max(r.MAX_PATTERN_SIZE,b);let n=Math.ceil(y*d);return n>=e?n=e:d=n/y,{scale:d,size:n}}clipBbox(y,b,d,e,n){y.ctx.rect(b,d,e-b,n-d),y.current.updateRectMinMax((0,w.getCurrentTransform)(y.ctx),[b,d,e,n]),y.clip(),y.endPath()}setFillAndStrokeStyleToContext(y,b,d){const e=y.ctx,n=y.current;switch(b){case 1:const _=this.ctx;e.fillStyle=_.fillStyle,e.strokeStyle=_.strokeStyle,n.fillColor=_.fillStyle,n.strokeColor=_.strokeStyle;break;case 2:const L=p.Util.makeHexColor(d[0],d[1],d[2]);e.fillStyle=L,e.strokeStyle=L,n.fillColor=L,n.strokeColor=L;break;default:throw new p.FormatError(`Unsupported paint type: ${b}`)}}getPattern(y,b,d,e){let n=d;e!==U.SHADING&&(n=p.Util.transform(n,b.baseTransform),this.matrix&&(n=p.Util.transform(n,this.matrix)));const _=this.createPatternCanvas(b);let L=new DOMMatrix(n);L=L.translate(_.offsetX,_.offsetY),L=L.scale(1/_.scaleX,1/_.scaleY);const F=y.createPattern(_.canvas,"repeat");try{F.setTransform(L)}catch(W){(0,p.warn)(`TilingPattern.getPattern: "${W?.message}".`)}return F}}u.TilingPattern=r},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.applyMaskImageData=function w({src:B,srcPos:U=0,dest:G,destPos:x=0,width:s,height:f,inverseDecode:a=!1}){const l=p.FeatureTest.isLittleEndian?4278190080:255,[S,h]=a?[0,l]:[l,0],o=s>>3,r=7&s,v=B.length;G=new Uint32Array(G.buffer);for(let y=0;y<f;y++){for(const d=U+o;U<d;U++){const e=U<v?B[U]:255;G[x++]=128&e?h:S,G[x++]=64&e?h:S,G[x++]=32&e?h:S,G[x++]=16&e?h:S,G[x++]=8&e?h:S,G[x++]=4&e?h:S,G[x++]=2&e?h:S,G[x++]=1&e?h:S}if(0===r)continue;const b=U<v?B[U++]:255;for(let d=0;d<r;d++)G[x++]=b&1<<7-d?h:S}return{srcPos:U,destPos:x}};var p=N(1)},(se,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.GlobalWorkerOptions=void 0;const N=Object.create(null);u.GlobalWorkerOptions=N,N.workerPort=void 0===N.workerPort?null:N.workerPort,N.workerSrc=void 0===N.workerSrc?"":N.workerSrc},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.MessageHandler=void 0;var p=N(1);function U(x){switch(x instanceof Error||"object"==typeof x&&null!==x||(0,p.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),x.name){case"AbortException":return new p.AbortException(x.message);case"MissingPDFException":return new p.MissingPDFException(x.message);case"PasswordException":return new p.PasswordException(x.message,x.code);case"UnexpectedResponseException":return new p.UnexpectedResponseException(x.message,x.status);case"UnknownErrorException":return new p.UnknownErrorException(x.message,x.details);default:return new p.UnknownErrorException(x.message,x.toString())}}u.MessageHandler=class G{constructor(s,f,a){this.sourceName=s,this.targetName=f,this.comObj=a,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=l=>{const S=l.data;if(S.targetName!==this.sourceName)return;if(S.stream)return void this._processStreamMessage(S);if(S.callback){const o=S.callbackId,r=this.callbackCapabilities[o];if(!r)throw new Error(`Cannot resolve callback ${o}`);if(delete this.callbackCapabilities[o],1===S.callback)r.resolve(S.data);else{if(2!==S.callback)throw new Error("Unexpected callback case");r.reject(U(S.reason))}return}const h=this.actionHandler[S.action];if(!h)throw new Error(`Unknown action from worker: ${S.action}`);if(S.callbackId){const o=this.sourceName,r=S.sourceName;new Promise(function(v){v(h(S.data))}).then(function(v){a.postMessage({sourceName:o,targetName:r,callback:1,callbackId:S.callbackId,data:v})},function(v){a.postMessage({sourceName:o,targetName:r,callback:2,callbackId:S.callbackId,reason:U(v)})})}else S.streamId?this._createStreamSink(S):h(S.data)},a.addEventListener("message",this._onComObjOnMessage)}on(s,f){const a=this.actionHandler;if(a[s])throw new Error(`There is already an actionName called "${s}"`);a[s]=f}send(s,f,a){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,data:f},a)}sendWithPromise(s,f,a){const l=this.callbackId++,S=(0,p.createPromiseCapability)();this.callbackCapabilities[l]=S;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:s,callbackId:l,data:f},a)}catch(h){S.reject(h)}return S.promise}sendWithStream(s,f,a,l){const S=this.streamId++,h=this.sourceName,o=this.targetName,r=this.comObj;return new ReadableStream({start:v=>{const y=(0,p.createPromiseCapability)();return this.streamControllers[S]={controller:v,startCall:y,pullCall:null,cancelCall:null,isClosed:!1},r.postMessage({sourceName:h,targetName:o,action:s,streamId:S,data:f,desiredSize:v.desiredSize},l),y.promise},pull:v=>{const y=(0,p.createPromiseCapability)();return this.streamControllers[S].pullCall=y,r.postMessage({sourceName:h,targetName:o,stream:6,streamId:S,desiredSize:v.desiredSize}),y.promise},cancel:v=>{(0,p.assert)(v instanceof Error,"cancel must have a valid reason");const y=(0,p.createPromiseCapability)();return this.streamControllers[S].cancelCall=y,this.streamControllers[S].isClosed=!0,r.postMessage({sourceName:h,targetName:o,stream:1,streamId:S,reason:U(v)}),y.promise}},a)}_createStreamSink(s){const f=s.streamId,a=this.sourceName,l=s.sourceName,S=this.comObj,h=this,o=this.actionHandler[s.action],r={enqueue(v,y=1,b){if(this.isCancelled)return;const d=this.desiredSize;this.desiredSize-=y,d>0&&this.desiredSize<=0&&(this.sinkCapability=(0,p.createPromiseCapability)(),this.ready=this.sinkCapability.promise),S.postMessage({sourceName:a,targetName:l,stream:4,streamId:f,chunk:v},b)},close(){this.isCancelled||(this.isCancelled=!0,S.postMessage({sourceName:a,targetName:l,stream:3,streamId:f}),delete h.streamSinks[f])},error(v){(0,p.assert)(v instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,S.postMessage({sourceName:a,targetName:l,stream:5,streamId:f,reason:U(v)}))},sinkCapability:(0,p.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:s.desiredSize,ready:null};r.sinkCapability.resolve(),r.ready=r.sinkCapability.promise,this.streamSinks[f]=r,new Promise(function(v){v(o(s.data,r))}).then(function(){S.postMessage({sourceName:a,targetName:l,stream:8,streamId:f,success:!0})},function(v){S.postMessage({sourceName:a,targetName:l,stream:8,streamId:f,reason:U(v)})})}_processStreamMessage(s){const f=s.streamId,a=this.sourceName,l=s.sourceName,S=this.comObj,h=this.streamControllers[f],o=this.streamSinks[f];switch(s.stream){case 8:s.success?h.startCall.resolve():h.startCall.reject(U(s.reason));break;case 7:s.success?h.pullCall.resolve():h.pullCall.reject(U(s.reason));break;case 6:if(!o){S.postMessage({sourceName:a,targetName:l,stream:7,streamId:f,success:!0});break}o.desiredSize<=0&&s.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=s.desiredSize,new Promise(function(r){r(o.onPull&&o.onPull())}).then(function(){S.postMessage({sourceName:a,targetName:l,stream:7,streamId:f,success:!0})},function(r){S.postMessage({sourceName:a,targetName:l,stream:7,streamId:f,reason:U(r)})});break;case 4:if((0,p.assert)(h,"enqueue should have stream controller"),h.isClosed)break;h.controller.enqueue(s.chunk);break;case 3:if((0,p.assert)(h,"close should have stream controller"),h.isClosed)break;h.isClosed=!0,h.controller.close(),this._deleteStreamController(h,f);break;case 5:(0,p.assert)(h,"error should have stream controller"),h.controller.error(U(s.reason)),this._deleteStreamController(h,f);break;case 2:s.success?h.cancelCall.resolve():h.cancelCall.reject(U(s.reason)),this._deleteStreamController(h,f);break;case 1:if(!o)break;new Promise(function(r){r(o.onCancel&&o.onCancel(U(s.reason)))}).then(function(){S.postMessage({sourceName:a,targetName:l,stream:2,streamId:f,success:!0})},function(r){S.postMessage({sourceName:a,targetName:l,stream:2,streamId:f,reason:U(r)})}),o.sinkCapability.reject(U(s.reason)),o.isCancelled=!0,delete this.streamSinks[f];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(s,f){var a=this;return _asyncToGenerator(function*(){yield Promise.allSettled([s.startCall&&s.startCall.promise,s.pullCall&&s.pullCall.promise,s.cancelCall&&s.cancelCall.promise]),delete a.streamControllers[f]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.Metadata=void 0;var p=N(1);u.Metadata=class w{#e;#t;constructor({parsedData:U,rawData:G}){this.#e=U,this.#t=G}getRaw(){return this.#t}get(U){return this.#e.get(U)??null}getAll(){return(0,p.objectFromMap)(this.#e)}has(U){return this.#e.has(U)}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.OptionalContentConfig=void 0;var p=N(1);const w=Symbol("INTERNAL");class B{#e=!0;constructor(x,s){this.name=x,this.intent=s}get visible(){return this.#e}_setVisible(x,s){x!==w&&(0,p.unreachable)("Internal method `_setVisible` called."),this.#e=s}}u.OptionalContentConfig=class U{#e=!0;#t=new Map;#n=null;#i=null;constructor(x){if(this.name=null,this.creator=null,null!==x){this.name=x.name,this.creator=x.creator,this.#i=x.order;for(const s of x.groups)this.#t.set(s.id,new B(s.name,s.intent));if("OFF"===x.baseState)for(const s of this.#t.values())s._setVisible(w,!1);for(const s of x.on)this.#t.get(s)._setVisible(w,!0);for(const s of x.off)this.#t.get(s)._setVisible(w,!1);this.#n=new Map;for(const[s,f]of this.#t)this.#n.set(s,f.visible)}}#r(x){const s=x.length;if(s<2)return!0;const f=x[0];for(let a=1;a<s;a++){const l=x[a];let S;if(Array.isArray(l))S=this.#r(l);else{if(!this.#t.has(l))return(0,p.warn)(`Optional content group not found: ${l}`),!0;S=this.#t.get(l).visible}switch(f){case"And":if(!S)return!1;break;case"Or":if(S)return!0;break;case"Not":return!S;default:return!0}}return"And"===f}isVisible(x){if(0===this.#t.size)return!0;if(!x)return(0,p.warn)("Optional content group not defined."),!0;if("OCG"===x.type)return this.#t.has(x.id)?this.#t.get(x.id).visible:((0,p.warn)(`Optional content group not found: ${x.id}`),!0);if("OCMD"===x.type){if(x.expression)return this.#r(x.expression);if(!x.policy||"AnyOn"===x.policy){for(const s of x.ids){if(!this.#t.has(s))return(0,p.warn)(`Optional content group not found: ${s}`),!0;if(this.#t.get(s).visible)return!0}return!1}if("AllOn"===x.policy){for(const s of x.ids){if(!this.#t.has(s))return(0,p.warn)(`Optional content group not found: ${s}`),!0;if(!this.#t.get(s).visible)return!1}return!0}if("AnyOff"===x.policy){for(const s of x.ids){if(!this.#t.has(s))return(0,p.warn)(`Optional content group not found: ${s}`),!0;if(!this.#t.get(s).visible)return!0}return!1}if("AllOff"===x.policy){for(const s of x.ids){if(!this.#t.has(s))return(0,p.warn)(`Optional content group not found: ${s}`),!0;if(this.#t.get(s).visible)return!1}return!0}return(0,p.warn)(`Unknown optional content policy ${x.policy}.`),!0}return(0,p.warn)(`Unknown group type ${x.type}.`),!0}setVisibility(x,s=!0){this.#t.has(x)?(this.#t.get(x)._setVisible(w,!!s),this.#e=null):(0,p.warn)(`Optional content group not found: ${x}`)}get hasInitialVisibility(){if(null!==this.#e)return this.#e;for(const[x,s]of this.#t){const f=this.#n.get(x);if(s.visible!==f)return this.#e=!1}return this.#e=!0}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,p.objectFromMap)(this.#t):null}getGroup(x){return this.#t.get(x)||null}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFDataTransportStream=void 0;var p=N(1),w=N(8);u.PDFDataTransportStream=class B{constructor(s,f){(0,p.assert)(f,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=s.progressiveDone||!1,this._contentDispositionFilename=s.contentDispositionFilename||null;const a=s.initialData;if(a?.length>0){const l=new Uint8Array(a).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=f,this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._contentLength=s.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((l,S)=>{this._onReceiveData({begin:l,chunk:S})}),this._pdfDataRangeTransport.addProgressListener((l,S)=>{this._onProgress({loaded:l,total:S})}),this._pdfDataRangeTransport.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(s){const f=new Uint8Array(s.chunk).buffer;if(void 0===s.begin)this._fullRequestReader?this._fullRequestReader._enqueue(f):this._queuedChunks.push(f);else{const a=this._rangeReaders.some(function(l){return l._begin===s.begin&&(l._enqueue(f),!0)});(0,p.assert)(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(s){if(void 0===s.total){const f=this._rangeReaders[0];f?.onProgress&&f.onProgress({loaded:s.loaded})}else{const f=this._fullRequestReader;f?.onProgress&&f.onProgress({loaded:s.loaded,total:s.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(s){const f=this._rangeReaders.indexOf(s);f>=0&&this._rangeReaders.splice(f,1)}getFullReader(){(0,p.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const s=this._queuedChunks;return this._queuedChunks=null,new U(this,s,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(s,f){if(f<=this._progressiveDataLength)return null;const a=new G(this,s,f);return this._pdfDataRangeTransport.requestDataRange(s,f),this._rangeReaders.push(a),a}cancelAllRequests(s){this._fullRequestReader&&this._fullRequestReader.cancel(s);for(const f of this._rangeReaders.slice(0))f.cancel(s);this._pdfDataRangeTransport.abort()}};class U{constructor(s,f,a=!1,l=null){this._stream=s,this._done=a||!1,this._filename=(0,w.isPdfFile)(l)?l:null,this._queuedChunks=f||[],this._loaded=0;for(const S of this._queuedChunks)this._loaded+=S.byteLength;this._requests=[],this._headersReady=Promise.resolve(),s._fullRequestReader=this,this.onProgress=null}_enqueue(s){this._done||(this._requests.length>0?this._requests.shift().resolve({value:s,done:!1}):this._queuedChunks.push(s),this._loaded+=s.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var s=this;return _asyncToGenerator(function*(){if(s._queuedChunks.length>0)return{value:s._queuedChunks.shift(),done:!1};if(s._done)return{value:void 0,done:!0};const f=(0,p.createPromiseCapability)();return s._requests.push(f),f.promise})()}cancel(s){this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class G{constructor(s,f,a){this._stream=s,this._begin=f,this._end=a,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(s){if(!this._done){if(0===this._requests.length)this._queuedChunk=s;else{this._requests.shift().resolve({value:s,done:!1});for(const a of this._requests)a.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var s=this;return _asyncToGenerator(function*(){if(s._queuedChunk){const a=s._queuedChunk;return s._queuedChunk=null,{value:a,done:!1}}if(s._done)return{value:void 0,done:!0};const f=(0,p.createPromiseCapability)();return s._requests.push(f),f.promise})()}cancel(s){this._done=!0;for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(se,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.XfaText=void 0;class N{static textContent(w){const B=[],U={items:B,styles:Object.create(null)};return function G(x){if(!x)return;let s=null;const f=x.name;if("#text"===f)s=x.value;else{if(!N.shouldBuildText(f))return;x?.attributes?.textContent?s=x.attributes.textContent:x.value&&(s=x.value)}if(null!==s&&B.push({str:s}),x.children)for(const a of x.children)G(a)}(w),U}static shouldBuildText(w){return!("textarea"===w||"input"===w||"option"===w||"select"===w)}}u.XfaText=N},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.NodeStandardFontDataFactory=u.NodeCanvasFactory=u.NodeCMapReaderFactory=void 0;var p=N(9);const w=function(x){return new Promise((s,f)=>{__webpack_require__(172).readFile(x,(l,S)=>{!l&&S?s(new Uint8Array(S)):f(new Error(l))})})};u.NodeCanvasFactory=class B extends p.BaseCanvasFactory{_createCanvas(s,f){return __webpack_require__(3414).createCanvas(s,f)}},u.NodeCMapReaderFactory=class U extends p.BaseCMapReaderFactory{_fetchData(s,f){return w(s).then(a=>({cMapData:a,compressionType:f}))}},u.NodeStandardFontDataFactory=class G extends p.BaseStandardFontDataFactory{_fetchData(s){return w(s)}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationEditorLayer=void 0;var p=N(7),w=N(1),B=N(23),U=N(24);u.AnnotationEditorLayer=(()=>{class x{#e;#t=!1;#n=this.pointerup.bind(this);#i=this.pointerdown.bind(this);#r=new Map;#c=!1;#o=!1;#s;static _initialized=!1;constructor(f){x._initialized||(x._initialized=!0,B.FreeTextEditor.initialize(f.l10n),U.InkEditor.initialize(f.l10n),f.uiManager.registerEditorTypes([B.FreeTextEditor,U.InkEditor])),this.#s=f.uiManager,this.annotationStorage=f.annotationStorage,this.pageIndex=f.pageIndex,this.div=f.div,this.#e=f.accessibilityManager,this.#s.addLayer(this)}updateToolbar(f){this.#s.updateToolbar(f)}updateMode(f=this.#s.getMode()){this.#a(),f===w.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#s.unselectAll()}addInkEditorIfNeeded(f){if(f||this.#s.getMode()===w.AnnotationEditorType.INK){if(!f)for(const l of this.#r.values())if(l.isEmpty())return void l.setInBackground();this.#l({offsetX:0,offsetY:0}).setInBackground()}}setEditingState(f){this.#s.setEditingState(f)}addCommands(f){this.#s.addCommands(f)}enable(){this.div.style.pointerEvents="auto";for(const f of this.#r.values())f.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const f of this.#r.values())f.disableEditing()}setActiveEditor(f){this.#s.getActive()!==f&&this.#s.setActiveEditor(f)}enableClick(){this.div.addEventListener("pointerdown",this.#i),this.div.addEventListener("pointerup",this.#n)}disableClick(){this.div.removeEventListener("pointerdown",this.#i),this.div.removeEventListener("pointerup",this.#n)}attach(f){this.#r.set(f.id,f)}detach(f){this.#r.delete(f.id),this.#e?.removePointerInTextLayer(f.contentDiv)}remove(f){this.#s.removeEditor(f),this.detach(f),this.annotationStorage.remove(f.id),f.div.style.display="none",setTimeout(()=>{f.div.style.display="",f.div.remove(),f.isAttachedToDOM=!1,document.activeElement===document.body&&this.#s.focusMainContainer()},0),this.#o||this.addInkEditorIfNeeded(!1)}#u(f){f.parent!==this&&(this.attach(f),f.pageIndex=this.pageIndex,f.parent?.detach(f),f.parent=this,f.div&&f.isAttachedToDOM&&(f.div.remove(),this.div.append(f.div)))}add(f){if(this.#u(f),this.#s.addEditor(f),this.attach(f),!f.isAttachedToDOM){const a=f.render();this.div.append(a),f.isAttachedToDOM=!0}this.moveEditorInDOM(f),f.onceAdded(),this.addToAnnotationStorage(f)}moveEditorInDOM(f){this.#e?.moveElementInDOM(this.div,f.div,f.contentDiv,!0)}addToAnnotationStorage(f){!f.isEmpty()&&!this.annotationStorage.has(f.id)&&this.annotationStorage.setValue(f.id,f)}addOrRebuild(f){f.needsToBeRebuilt()?f.rebuild():this.add(f)}addANewEditor(f){this.addCommands({cmd:()=>{this.addOrRebuild(f)},undo:()=>{f.remove()},mustExec:!0})}addUndoableEditor(f){this.addCommands({cmd:()=>{this.addOrRebuild(f)},undo:()=>{f.remove()},mustExec:!1})}getNextId(){return this.#s.getId()}#h(f){switch(this.#s.getMode()){case w.AnnotationEditorType.FREETEXT:return new B.FreeTextEditor(f);case w.AnnotationEditorType.INK:return new U.InkEditor(f)}return null}deserialize(f){switch(f.annotationType){case w.AnnotationEditorType.FREETEXT:return B.FreeTextEditor.deserialize(f,this);case w.AnnotationEditorType.INK:return U.InkEditor.deserialize(f,this)}return null}#l(f){const a=this.getNextId(),l=this.#h({parent:this,id:a,x:f.offsetX,y:f.offsetY});return l&&this.add(l),l}setSelected(f){this.#s.setSelected(f)}toggleSelected(f){this.#s.toggleSelected(f)}isSelected(f){return this.#s.isSelected(f)}unselect(f){this.#s.unselect(f)}pointerup(f){if(!(0!==f.button||f.ctrlKey&&p.KeyboardManager.platform.isMac)&&f.target===this.div&&this.#c){if(this.#c=!1,!this.#t)return void(this.#t=!0);this.#l(f)}}pointerdown(f){if(0!==f.button||f.ctrlKey&&p.KeyboardManager.platform.isMac||f.target!==this.div)return;this.#c=!0;const l=this.#s.getActive();this.#t=!l||l.isEmpty()}drop(f){const a=f.dataTransfer.getData("text/plain"),l=this.#s.getEditor(a);if(!l)return;f.preventDefault(),f.dataTransfer.dropEffect="move",this.#u(l);const S=this.div.getBoundingClientRect();l.translate(f.clientX-S.x-l.startX,f.clientY-S.y-l.startY),this.moveEditorInDOM(l),l.div.focus()}dragover(f){f.preventDefault()}destroy(){this.#s.getActive()?.parent===this&&this.#s.setActiveEditor(null);for(const f of this.#r.values())this.#e?.removePointerInTextLayer(f.contentDiv),f.isAttachedToDOM=!1,f.div.remove(),f.parent=null;this.div=null,this.#r.clear(),this.#s.removeLayer(this)}#a(){this.#o=!0;for(const f of this.#r.values())f.isEmpty()&&f.remove();this.#o=!1}render(f){this.viewport=f.viewport,(0,p.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const a of this.#s.getEditors(this.pageIndex))this.add(a);this.updateMode()}update(f){this.viewport=f.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[f,a,l,S]=this.viewport.viewBox;return[l-f,S-a]}get viewportBaseDimensions(){const{width:f,height:a,rotation:l}=this.viewport;return l%180==0?[f,a]:[a,f]}setDimensions(){const{width:f,height:a,rotation:l}=this.viewport,S=l%180!=0,h=Math.floor(f)+"px",o=Math.floor(a)+"px";this.div.style.width=S?o:h,this.div.style.height=S?h:o,this.div.setAttribute("data-main-rotation",l)}}return x})()},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.FreeTextEditor=void 0;var p=N(1),w=N(7),B=N(6);class U extends B.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivKeydown.bind(this);#i;#r="";#c=!1;#o;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new w.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],U.prototype.commitOrRemove]]);static _type="freetext";constructor(x){super({...x,name:"freeTextEditor"}),this.#i=x.color||U._defaultColor||B.AnnotationEditor._defaultLineColor,this.#o=x.fontSize||U._defaultFontSize}static initialize(x){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(f=>[f,x.get(f)]));const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(x,s){switch(x){case p.AnnotationEditorParamsType.FREETEXT_SIZE:U._defaultFontSize=s;break;case p.AnnotationEditorParamsType.FREETEXT_COLOR:U._defaultColor=s}}updateParams(x,s){switch(x){case p.AnnotationEditorParamsType.FREETEXT_SIZE:this.#s(s);break;case p.AnnotationEditorParamsType.FREETEXT_COLOR:this.#u(s)}}static get defaultPropertiesToUpdate(){return[[p.AnnotationEditorParamsType.FREETEXT_SIZE,U._defaultFontSize],[p.AnnotationEditorParamsType.FREETEXT_COLOR,U._defaultColor||B.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[p.AnnotationEditorParamsType.FREETEXT_SIZE,this.#o],[p.AnnotationEditorParamsType.FREETEXT_COLOR,this.#i]]}#s(x){const s=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-this.#o)*this.parent.scaleFactor),this.#o=a,this.#l()},f=this.#o;this.parent.addCommands({cmd:()=>{s(x)},undo:()=>{s(f)},mustExec:!0,type:p.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#u(x){const s=this.#i;this.parent.addCommands({cmd:()=>{this.#i=x,this.editorDiv.style.color=x},undo:()=>{this.#i=s,this.editorDiv.style.color=s},mustExec:!0,type:p.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-U._internalPadding*this.parent.scaleFactor,-(U._internalPadding+this.#o)*this.parent.scaleFactor]}rebuild(){super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(p.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#n),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#n),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.div.focus(),this.isEditing=!1)}focusin(x){super.focusin(x),x.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#h(){const x=this.editorDiv.getElementsByTagName("div");if(0===x.length)return this.editorDiv.innerText;const s=[];for(let f=0,a=x.length;f<a;f++){const S=x[f].firstChild;s.push("#text"===S?.nodeName?S.data:"")}return s.join("\n")}#l(){const[x,s]=this.parent.viewportBaseDimensions,f=this.div.getBoundingClientRect();this.width=f.width/x,this.height=f.height/s}commit(){super.commit(),this.#c||(this.#c=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#r=this.#h().trimEnd(),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(x){this.enableEditMode(),this.editorDiv.focus()}keydown(x){x.target===this.div&&"Enter"===x.key&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(x){U._keyboardManager.exec(this,x)}editorDivFocus(x){this.isEditing=!0}editorDivBlur(x){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let x,s;this.width&&(x=this.x,s=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),U._l10nPromise.get("editor_free_text_aria_label").then(a=>this.editorDiv?.setAttribute("aria-label",a)),U._l10nPromise.get("free_text_default_content").then(a=>this.editorDiv?.setAttribute("default-content",a)),this.editorDiv.contentEditable=!0;const{style:f}=this.editorDiv;if(f.fontSize=`calc(${this.#o}px * var(--scale-factor))`,f.color=this.#i,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,w.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[a,l]=this.parent.viewportBaseDimensions;this.setAt(x*a,s*l,this.width*a,this.height*l);for(const S of this.#r.split("\n")){const h=document.createElement("div");h.append(S?document.createTextNode(S):document.createElement("br")),this.editorDiv.append(h)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(x,s){const f=super.deserialize(x,s);return f.#o=x.fontSize,f.#i=p.Util.makeHexColor(...x.color),f.#r=x.value,f}serialize(){if(this.isEmpty())return null;const x=U._internalPadding*this.parent.scaleFactor,s=this.getRect(x,x),f=B.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:p.AnnotationEditorType.FREETEXT,color:f,fontSize:this.#o,value:this.#r,pageIndex:this.parent.pageIndex,rect:s,rotation:this.rotation}}}u.FreeTextEditor=U},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.InkEditor=void 0,Object.defineProperty(u,"fitCurve",{enumerable:!0,get:function(){return B.fitCurve}});var p=N(1),w=N(6),B=N(25),U=N(7);const G=16;u.InkEditor=(()=>{class s extends w.AnnotationEditor{#e=0;#t=0;#n=0;#i=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#c=this.canvasPointerup.bind(this);#o=this.canvasPointerdown.bind(this);#s=!1;#u=!1;#h=null;#l=null;#a=0;#p=0;#f=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(a){super({...a,name:"inkEditor"}),this.color=a.color||null,this.thickness=a.thickness||null,this.opacity=a.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(a){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(l=>[l,a.get(l)]))}static updateDefaultParams(a,l){switch(a){case p.AnnotationEditorParamsType.INK_THICKNESS:s._defaultThickness=l;break;case p.AnnotationEditorParamsType.INK_COLOR:s._defaultColor=l;break;case p.AnnotationEditorParamsType.INK_OPACITY:s._defaultOpacity=l/100}}updateParams(a,l){switch(a){case p.AnnotationEditorParamsType.INK_THICKNESS:this.#b(l);break;case p.AnnotationEditorParamsType.INK_COLOR:this.#m(l);break;case p.AnnotationEditorParamsType.INK_OPACITY:this.#_(l)}}static get defaultPropertiesToUpdate(){return[[p.AnnotationEditorParamsType.INK_THICKNESS,s._defaultThickness],[p.AnnotationEditorParamsType.INK_COLOR,s._defaultColor||w.AnnotationEditor._defaultLineColor],[p.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*s._defaultOpacity)]]}get propertiesToUpdate(){return[[p.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||s._defaultThickness],[p.AnnotationEditorParamsType.INK_COLOR,this.color||s._defaultColor||w.AnnotationEditor._defaultLineColor],[p.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??s._defaultOpacity))]]}#b(a){const l=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=a,this.#w()},undo:()=>{this.thickness=l,this.#w()},mustExec:!0,type:p.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#m(a){const l=this.color;this.parent.addCommands({cmd:()=>{this.color=a,this.#g()},undo:()=>{this.color=l,this.#g()},mustExec:!0,type:p.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#_(a){a/=100;const l=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=a,this.#g()},undo:()=>{this.opacity=l,this.#g()},mustExec:!0,type:p.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),null!==this.div&&(this.canvas||(this.#y(),this.#v()),this.isAttachedToDOM||(this.parent.add(this),this.#C()),this.#w())}remove(){null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#l.disconnect(),this.#l=null,super.remove())}enableEditMode(){this.#s||null===this.canvas||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#o),this.canvas.addEventListener("pointerup",this.#c))}disableEditMode(){!this.isInEditMode()||null===this.canvas||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#o),this.canvas.removeEventListener("pointerup",this.#c))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}#S(){const{width:a,height:l,rotation:S}=this.parent.viewport;switch(S){case 90:return[0,a,a,l];case 180:return[a,l,a,l];case 270:return[l,0,a,l];default:return[0,0,a,l]}}#A(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,U.opacityToHex)(this.opacity)}`}#d(a,l){this.isEditing=!0,this.#u||(this.#u=!0,this.#C(),this.thickness||=s._defaultThickness,this.color||=s._defaultColor||w.AnnotationEditor._defaultLineColor,this.opacity??=s._defaultOpacity),this.currentPath.push([a,l]),this.#h=null,this.#A(),this.ctx.beginPath(),this.ctx.moveTo(a,l),this.#f=()=>{this.#f&&(this.#h&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#g(),this.ctx.lineTo(...this.#h),this.#h=null,this.ctx.stroke()),window.requestAnimationFrame(this.#f))},window.requestAnimationFrame(this.#f)}#P(a,l){const[S,h]=this.currentPath.at(-1);a===S&&l===h||(this.currentPath.push([a,l]),this.#h=[a,l])}#x(a,l){this.ctx.closePath(),this.#f=null,a=Math.min(Math.max(a,0),this.canvas.width),l=Math.min(Math.max(l,0),this.canvas.height);const[S,h]=this.currentPath.at(-1);let o;if((a!==S||l!==h)&&this.currentPath.push([a,l]),1!==this.currentPath.length)o=(0,B.fitCurve)(this.currentPath,30,null);else{const b=[a,l];o=[[b,b.slice(),b.slice(),b]]}const r=s.#k(o);this.currentPath.length=0,this.parent.addCommands({cmd:()=>{this.paths.push(o),this.bezierPath2D.push(r),this.rebuild()},undo:()=>{this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(this.#y(),this.#v()),this.#w())},mustExec:!0})}#g(){if(this.isEmpty())return void this.#T();this.#A();const{canvas:a,ctx:l}=this;l.setTransform(1,0,0,1,0,0),l.clearRect(0,0,a.width,a.height),this.#T();for(const S of this.bezierPath2D)l.stroke(S)}commit(){this.#s||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#s=!0,this.div.classList.add("disabled"),this.#w(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(a){super.focusin(a),this.enableEditMode()}canvasPointerdown(a){0!==a.button||!this.isInEditMode()||this.#s||(this.setInForeground(),"mouse"!==a.type&&this.div.focus(),a.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#i),this.#d(a.offsetX,a.offsetY))}canvasPointermove(a){a.stopPropagation(),this.#P(a.offsetX,a.offsetY)}canvasPointerup(a){0===a.button&&this.isInEditMode()&&0!==this.currentPath.length&&(a.stopPropagation(),this.#E(a),this.setInBackground())}canvasPointerleave(a){this.#E(a),this.setInBackground()}#E(a){this.#x(a.offsetX,a.offsetY),this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#i),this.parent.addToAnnotationStorage(this)}#y(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",s._l10nPromise.get("editor_ink_canvas_aria_label").then(a=>this.canvas?.setAttribute("aria-label",a)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#v(){this.#l=new ResizeObserver(a=>{const l=a[0].contentRect;l.width&&l.height&&this.setDimensions(l.width,l.height)}),this.#l.observe(this.div)}render(){if(this.div)return this.div;let a,l;this.width&&(a=this.x,l=this.y),super.render(),s._l10nPromise.get("editor_ink_aria_label").then(v=>this.div?.setAttribute("aria-label",v));const[S,h,o,r]=this.#S();if(this.setAt(S,h,0,0),this.setDims(o,r),this.#y(),this.width){const[v,y]=this.parent.viewportBaseDimensions;this.setAt(a*v,l*y,this.width*v,this.height*y),this.#u=!0,this.#C(),this.setDims(this.width*v,this.height*y),this.#g(),this.#O(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#v(),this.div}#C(){if(!this.#u)return;const[a,l]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*a),this.canvas.height=Math.ceil(this.height*l),this.#T()}setDimensions(a,l){const S=Math.round(a),h=Math.round(l);if(this.#a===S&&this.#p===h)return;this.#a=S,this.#p=h,this.canvas.style.visibility="hidden",this.#e&&Math.abs(this.#e-a/l)>.01&&(l=Math.ceil(a/this.#e),this.setDims(a,l));const[o,r]=this.parent.viewportBaseDimensions;this.width=a/o,this.height=l/r,this.#s&&this.#L(a,l),this.#C(),this.#g(),this.canvas.style.visibility="visible"}#L(a,l){const S=this.#M(),h=(a-S)/this.#n,o=(l-S)/this.#t;this.scaleFactor=Math.min(h,o)}#T(){const a=this.#M()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+a,this.translationY*this.scaleFactor+a)}static#k(a){const l=new Path2D;for(let S=0,h=a.length;S<h;S++){const[o,r,v,y]=a[S];0===S&&l.moveTo(...o),l.bezierCurveTo(r[0],r[1],v[0],v[1],y[0],y[1])}return l}#F(a,l,S,h){const r=[],v=this.thickness/2;let y,b;for(const d of this.paths){y=[],b=[];for(let e=0,n=d.length;e<n;e++){const[_,L,F,W]=d[e],V=a*(_[0]+l)+v,ie=h-a*(_[1]+S)-v,Q=a*(L[0]+l)+v,P=h-a*(L[1]+S)-v,R=a*(F[0]+l)+v,D=h-a*(F[1]+S)-v,M=a*(W[0]+l)+v,T=h-a*(W[1]+S)-v;0===e&&(y.push(V,ie),b.push(V,ie)),y.push(Q,P,R,D,M,T),this.#I(V,ie,Q,P,R,D,M,T,4,b)}r.push({bezier:y,points:b})}return r}#I(a,l,S,h,o,r,v,y,b,d){if(this.#D(a,l,S,h,o,r,v,y))d.push(v,y);else{for(let e=1;e<b-1;e++){const n=e/b,_=1-n;let L=n*a+_*S,F=n*l+_*h,W=n*S+_*o,V=n*h+_*r;L=n*L+_*W,F=n*F+_*V,W=n*W+_*(n*o+_*v),V=n*V+_*(n*r+_*y),L=n*L+_*W,F=n*F+_*V,d.push(L,F)}d.push(v,y)}}#D(a,l,S,h,o,r,v,y){const e=(3*h-2*l-y)**2,_=(3*r-l-2*y)**2;return Math.max((3*S-2*a-v)**2,(3*o-a-2*v)**2)+Math.max(e,_)<=10}#R(){let a=1/0,l=-1/0,S=1/0,h=-1/0;for(const o of this.paths)for(const[r,v,y,b]of o){const d=p.Util.bezierBoundingBox(...r,...v,...y,...b);a=Math.min(a,d[0]),S=Math.min(S,d[1]),l=Math.max(l,d[2]),h=Math.max(h,d[3])}return[a,S,l,h]}#M(){return this.#s?Math.ceil(this.thickness*this.parent.scaleFactor):0}#w(a=!1){if(this.isEmpty())return;if(!this.#s)return void this.#g();const l=this.#R(),S=this.#M();this.#n=Math.max(G,l[2]-l[0]),this.#t=Math.max(G,l[3]-l[1]);const h=Math.ceil(S+this.#n*this.scaleFactor),o=Math.ceil(S+this.#t*this.scaleFactor),[r,v]=this.parent.viewportBaseDimensions;this.width=h/r,this.height=o/v,this.#e=h/o,this.#O();const y=this.translationX,b=this.translationY;this.translationX=-l[0],this.translationY=-l[1],this.#C(),this.#g(),this.#a=h,this.#p=o,this.setDims(h,o);const d=a?S/this.scaleFactor/2:0;this.translate(y-this.translationX-d,b-this.translationY-d)}#O(){const{style:a}=this.div;this.#e>=1?(a.minHeight="16px",a.minWidth=`${Math.round(this.#e*G)}px`):(a.minWidth="16px",a.minHeight=`${Math.round(G/this.#e)}px`)}static deserialize(a,l){const S=super.deserialize(a,l);S.thickness=a.thickness,S.color=p.Util.makeHexColor(...a.color),S.opacity=a.opacity;const[h,o]=l.pageDimensions,r=S.width*h,v=S.height*o,y=l.scaleFactor,b=a.thickness/2;S.#e=r/v,S.#s=!0,S.#a=Math.round(r),S.#p=Math.round(v);for(const{bezier:e}of a.paths){const n=[];S.paths.push(n);let _=y*(e[0]-b),L=y*(v-e[1]-b);for(let W=2,V=e.length;W<V;W+=6){const D=y*(e[W+4]-b),M=y*(v-e[W+5]-b);n.push([[_,L],[y*(e[W]-b),y*(v-e[W+1]-b)],[y*(e[W+2]-b),y*(v-e[W+3]-b)],[D,M]]),_=D,L=M}const F=this.#k(n);S.bezierPath2D.push(F)}const d=S.#R();return S.#n=Math.max(G,d[2]-d[0]),S.#t=Math.max(G,d[3]-d[1]),S.#L(r,v),S}serialize(){if(this.isEmpty())return null;const a=this.getRect(0,0),l=this.rotation%180==0?a[3]-a[1]:a[2]-a[0],S=w.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:p.AnnotationEditorType.INK,color:S,thickness:this.thickness,opacity:this.opacity,paths:this.#F(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,l),pageIndex:this.parent.pageIndex,rect:a,rotation:this.rotation}}}return s})()},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.fitCurve=void 0;const p=N(26);u.fitCurve=p},se=>{function N(h,o,r,v,y){var d,e,n,_,L,F,W,V,ie,Q,P,R,D;if(2===h.length)return R=l.vectorLen(l.subtract(h[0],h[1]))/3,[d=[h[0],l.addArrays(h[0],l.mulItems(o,R)),l.addArrays(h[1],l.mulItems(r,R)),h[1]]];if(e=function G(h){var r,v,y,o=[];return h.forEach((b,d)=>{r=d?v+l.vectorLen(l.subtract(b,y)):0,o.push(r),v=r,y=b}),o=o.map(b=>b/v)}(h),[d,_,F]=p(h,e,e,o,r,y),0===_||_<v)return[d];if(_<v*v)for(n=e,L=_,W=F,D=0;D<20;D++){if(n=B(d,h,n),[d,_,F]=p(h,e,n,o,r,y),_<v)return[d];if(F===W){let M=_/L;if(M>.9999&&M<1.0001)break}L=_,W=F}return P=[],(V=l.subtract(h[F-1],h[F+1])).every(M=>0===M)&&(V=l.subtract(h[F-1],h[F]),[V[0],V[1]]=[-V[1],V[0]]),ie=l.normalize(V),Q=l.mulItems(ie,-1),(P=P.concat(N(h.slice(0,F+1),o,ie,v,y))).concat(N(h.slice(F),Q,r,v,y))}function p(h,o,r,v,y,b){var d,e,n;return d=function w(h,o,r,v){var y,b,d,e,n,_,W,V,ie,Q,P,R,D,M,T,m=h[0],i=h[h.length-1];for(y=[m,null,null,i],b=l.zeros_Xx2x2(o.length),P=0,R=o.length;P<R;P++)(d=b[P])[0]=l.mulItems(r,3*(M=o[P])*((T=1-M)*T)),d[1]=l.mulItems(v,3*T*(M*M));for(e=[[0,0],[0,0]],n=[0,0],P=0,R=h.length;P<R;P++)M=o[P],e[0][0]+=l.dot((d=b[P])[0],d[0]),e[0][1]+=l.dot(d[0],d[1]),e[1][0]+=l.dot(d[0],d[1]),e[1][1]+=l.dot(d[1],d[1]),D=l.subtract(h[P],S.q([m,m,i,i],M)),n[0]+=l.dot(d[0],D),n[1]+=l.dot(d[1],D);return W=0==(_=e[0][0]*e[1][1]-e[1][0]*e[0][1])?0:(n[0]*e[1][1]-n[1]*e[0][1])/_,V=0===_?0:(e[0][0]*n[1]-e[1][0]*n[0])/_,W<(ie=1e-6*(Q=l.vectorLen(l.subtract(m,i))))||V<ie?(y[1]=l.addArrays(m,l.mulItems(r,Q/3)),y[2]=l.addArrays(i,l.mulItems(v,Q/3))):(y[1]=l.addArrays(m,l.mulItems(r,W)),y[2]=l.addArrays(i,l.mulItems(v,V))),y}(h,r,v,y),[e,n]=function x(h,o,r){var v,y,b,d,e,n,_,L;y=0,b=Math.floor(h.length/2);const F=s(o,10);for(e=0,n=h.length;e<n;e++)_=h[e],L=f(0,r[e],F,10),(v=(d=l.subtract(S.q(o,L),_))[0]*d[0]+d[1]*d[1])>y&&(y=v,b=e);return[y,b]}(h,d,o),b&&b({bez:d,points:h,params:o,maxErr:e,maxPoint:n}),[d,e,n]}function B(h,o,r){return r.map((v,y)=>function U(h,o,r){var v=l.subtract(S.q(h,r),o),y=S.qprime(h,r),b=l.mulMatrix(v,y),d=l.sum(l.squareItems(y))+2*l.mulMatrix(v,S.qprimeprime(h,r));return 0===d?r:r-b/d}(h,o[y],v))}var s=function(h,o){for(var r,v=[0],y=h[0],b=0,d=1;d<=o;d++)r=S.q(h,d/o),b+=l.vectorLen(l.subtract(r,y)),v.push(b),y=r;return v.map(e=>e/b)};function f(h,o,r,v){if(o<0)return 0;if(o>1)return 1;for(var b,e,n,_=1;_<=v;_++)if(o<=r[_]){n=(o-(b=r[_-1]))/(r[_]-b)*(_/v-(e=(_-1)/v))+e;break}return n}function a(h,o){return l.normalize(l.subtract(h,o))}class l{static zeros_Xx2x2(o){for(var r=[];o--;)r.push([0,0]);return r}static mulItems(o,r){return o.map(v=>v*r)}static mulMatrix(o,r){return o.reduce((v,y,b)=>v+y*r[b],0)}static subtract(o,r){return o.map((v,y)=>v-r[y])}static addArrays(o,r){return o.map((v,y)=>v+r[y])}static addItems(o,r){return o.map(v=>v+r)}static sum(o){return o.reduce((r,v)=>r+v)}static dot(o,r){return l.mulMatrix(o,r)}static vectorLen(o){return Math.hypot(...o)}static divItems(o,r){return o.map(v=>v/r)}static squareItems(o){return o.map(r=>r*r)}static normalize(o){return this.divItems(o,this.vectorLen(o))}}class S{static q(o,r){var v=1-r,y=l.mulItems(o[0],v*v*v),b=l.mulItems(o[1],3*v*v*r),d=l.mulItems(o[2],3*v*r*r),e=l.mulItems(o[3],r*r*r);return l.addArrays(l.addArrays(y,b),l.addArrays(d,e))}static qprime(o,r){var v=1-r,y=l.mulItems(l.subtract(o[1],o[0]),3*v*v),b=l.mulItems(l.subtract(o[2],o[1]),6*v*r),d=l.mulItems(l.subtract(o[3],o[2]),3*r*r);return l.addArrays(l.addArrays(y,b),d)}static qprimeprime(o,r){return l.addArrays(l.mulItems(l.addArrays(l.subtract(o[2],l.mulItems(o[1],2)),o[0]),6*(1-r)),l.mulItems(l.addArrays(l.subtract(o[3],l.mulItems(o[2],2)),o[1]),6*r))}}se.exports=function u(h,o,r){if(!Array.isArray(h))throw new TypeError("First argument should be an array");if(h.forEach(d=>{if(!Array.isArray(d)||d.some(e=>"number"!=typeof e)||d.length!==h[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),(h=h.filter((d,e)=>0===e||!d.every((n,_)=>n===h[e-1][_]))).length<2)return[];const v=h.length,y=a(h[1],h[0]),b=a(h[v-2],h[v-1]);return N(h,y,b,o,r)},se.exports.fitCubic=N,se.exports.createTangent=a},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.AnnotationLayer=void 0;var p=N(1),w=N(8),B=N(5),U=N(28),G=N(29);const x=1e3,f=new WeakSet;function a(A){return{width:A[2]-A[0],height:A[3]-A[1]}}class l{static create(t){switch(t.data.annotationType){case p.AnnotationType.LINK:return new h(t);case p.AnnotationType.TEXT:return new o(t);case p.AnnotationType.WIDGET:switch(t.data.fieldType){case"Tx":return new v(t);case"Btn":return t.data.radioButton?new b(t):t.data.checkBox?new y(t):new d(t);case"Ch":return new e(t)}return new r(t);case p.AnnotationType.POPUP:return new n(t);case p.AnnotationType.FREETEXT:return new L(t);case p.AnnotationType.LINE:return new F(t);case p.AnnotationType.SQUARE:return new W(t);case p.AnnotationType.CIRCLE:return new V(t);case p.AnnotationType.POLYLINE:return new ie(t);case p.AnnotationType.CARET:return new P(t);case p.AnnotationType.INK:return new R(t);case p.AnnotationType.POLYGON:return new Q(t);case p.AnnotationType.HIGHLIGHT:return new D(t);case p.AnnotationType.UNDERLINE:return new M(t);case p.AnnotationType.SQUIGGLY:return new T(t);case p.AnnotationType.STRIKEOUT:return new m(t);case p.AnnotationType.STAMP:return new i(t);case p.AnnotationType.FILEATTACHMENT:return new c(t);default:return new S(t)}}}class S{constructor(t,{isRenderable:g=!1,ignoreBorder:E=!1,createQuadrilaterals:O=!1}={}){this.isRenderable=g,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this._mouseState=t.mouseState,g&&(this.container=this._createContainer(E)),O&&(this.quadrilaterals=this._createQuadrilaterals(E))}_createContainer(t=!1){const g=this.data,E=this.page,O=this.viewport,I=document.createElement("section"),{width:j,height:H}=a(g.rect),[q,$,Y,ne]=O.viewBox,ae=Y-q,X=ne-$;I.setAttribute("data-annotation-id",g.id);const te=p.Util.normalizeRect([g.rect[0],E.view[3]-g.rect[1]+E.view[1],g.rect[2],E.view[3]-g.rect[3]+E.view[1]]);if(!t&&g.borderStyle.width>0){I.style.borderWidth=`${g.borderStyle.width}px`;const z=g.borderStyle.horizontalCornerRadius,ee=g.borderStyle.verticalCornerRadius;switch(z>0||ee>0?I.style.borderRadius=`calc(${z}px * var(--scale-factor)) / calc(${ee}px * var(--scale-factor))`:this instanceof b&&(I.style.borderRadius=`calc(${j}px * var(--scale-factor)) / calc(${H}px * var(--scale-factor))`),g.borderStyle.style){case p.AnnotationBorderStyleType.SOLID:I.style.borderStyle="solid";break;case p.AnnotationBorderStyleType.DASHED:I.style.borderStyle="dashed";break;case p.AnnotationBorderStyleType.BEVELED:(0,p.warn)("Unimplemented border style: beveled");break;case p.AnnotationBorderStyleType.INSET:(0,p.warn)("Unimplemented border style: inset");break;case p.AnnotationBorderStyleType.UNDERLINE:I.style.borderBottomStyle="solid"}const K=g.borderColor||null;K?I.style.borderColor=p.Util.makeHexColor(0|K[0],0|K[1],0|K[2]):I.style.borderWidth=0}I.style.left=100*(te[0]-q)/ae+"%",I.style.top=100*(te[1]-$)/X+"%";const{rotation:k}=g;return g.hasOwnCanvas||0===k?(I.style.width=100*j/ae+"%",I.style.height=100*H/X+"%"):this.setRotation(k,I),I}setRotation(t,g=this.container){const[E,O,I,j]=this.viewport.viewBox,H=I-E,q=j-O,{width:$,height:Y}=a(this.data.rect);let ne,ae;t%180==0?(ne=100*$/H,ae=100*Y/q):(ne=100*Y/H,ae=100*$/q),g.style.width=`${ne}%`,g.style.height=`${ae}%`,g.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(g,E,O)=>{const I=O.detail[g];O.target.style[E]=U.ColorConverters[`${I[0]}_HTML`](I.slice(1))};return(0,p.shadow)(this,"_commonActions",{display:g=>{const E=g.detail.display%2==1;this.container.style.visibility=E?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:E,print:0===g.detail.display||3===g.detail.display})},print:g=>{this.annotationStorage.setValue(this.data.id,{print:g.detail.print})},hidden:g=>{this.container.style.visibility=g.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:g.detail.hidden})},focus:g=>{setTimeout(()=>g.target.focus({preventScroll:!1}),0)},userName:g=>{g.target.title=g.detail.userName},readonly:g=>{g.detail.readonly?g.target.setAttribute("readonly",""):g.target.removeAttribute("readonly")},required:g=>{this._setRequired(g.target,g.detail.required)},bgColor:g=>{t("bgColor","backgroundColor",g)},fillColor:g=>{t("fillColor","backgroundColor",g)},fgColor:g=>{t("fgColor","color",g)},textColor:g=>{t("textColor","color",g)},borderColor:g=>{t("borderColor","borderColor",g)},strokeColor:g=>{t("strokeColor","borderColor",g)},rotation:g=>{const E=g.detail.rotation;this.setRotation(E),this.annotationStorage.setValue(this.data.id,{rotation:E})}})}_dispatchEventFromSandbox(t,g){const E=this._commonActions;for(const O of Object.keys(g.detail)){const I=t[O]||E[O];I&&I(g)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const g=this.annotationStorage.getRawValue(this.data.id);if(!g)return;const E=this._commonActions;for(const[O,I]of Object.entries(g)){const j=E[O];j&&(j({detail:{[O]:I},target:t}),delete g[O])}}_createQuadrilaterals(t=!1){if(!this.data.quadPoints)return null;const g=[],E=this.data.rect;for(const O of this.data.quadPoints)this.data.rect=[O[2].x,O[2].y,O[1].x,O[1].y],g.push(this._createContainer(t));return this.data.rect=E,g}_createPopup(t,g){let E=this.container;this.quadrilaterals&&(t=t||this.quadrilaterals,E=this.quadrilaterals[0]),t||((t=document.createElement("div")).className="popupTriggerArea",E.append(t));const I=new _({container:E,trigger:t,color:g.color,titleObj:g.titleObj,modificationDate:g.modificationDate,contentsObj:g.contentsObj,richText:g.richText,hideWrapper:!0}).render();I.style.left="100%",E.append(I)}_renderQuadrilaterals(t){for(const g of this.quadrilaterals)g.className=t;return this.quadrilaterals}render(){(0,p.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,g=null){const E=[];if(this._fieldObjects){const O=this._fieldObjects[t];if(O)for(const{page:I,id:j,exportValues:H}of O){if(-1===I||j===g)continue;const q="string"==typeof H?H:null,$=document.querySelector(`[data-element-id="${j}"]`);!$||f.has($)?E.push({id:j,exportValue:q,domElement:$}):(0,p.warn)(`_getElementsByName - element not allowed: ${j}`)}return E}for(const O of document.getElementsByName(t)){const{id:I,exportValue:j}=O;I!==g&&f.has(O)&&E.push({id:I,exportValue:j,domElement:O})}return E}static get platform(){const t=typeof navigator<"u"?navigator.platform:"";return(0,p.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}class h extends S{constructor(t,g=null){super(t,{isRenderable:!0,ignoreBorder:!!g?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:g}=this,E=document.createElement("a");E.setAttribute("data-element-id",t.id);let O=!1;return t.url?(g.addLinkAttributes(E,t.url,t.newWindow),O=!0):t.action?(this._bindNamedAction(E,t.action),O=!0):t.dest?(this._bindLink(E,t.dest),O=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(E,t),O=!0),t.resetForm?(this._bindResetFormAction(E,t.resetForm),O=!0):this.isTooltipOnly&&!O&&(this._bindLink(E,""),O=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((I,j)=>{const H=0===j?E:E.cloneNode();return I.append(H),I}):(this.container.className="linkAnnotation",O&&this.container.append(E),this.container)}_bindLink(t,g){t.href=this.linkService.getDestinationHash(g),t.onclick=()=>(g&&this.linkService.goToDestination(g),!1),(g||""===g)&&(t.className="internalLink")}_bindNamedAction(t,g){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(g),!1),t.className="internalLink"}_bindJSAction(t,g){t.href=this.linkService.getAnchorUrl("");const E=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const O of Object.keys(g.actions)){const I=E.get(O);I&&(t[I]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g.id,name:O}}),!1))}t.onclick||(t.onclick=()=>!1),t.className="internalLink"}_bindResetFormAction(t,g){const E=t.onclick;if(E||(t.href=this.linkService.getAnchorUrl("")),t.className="internalLink",!this._fieldObjects)return(0,p.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(E||(t.onclick=()=>!1));t.onclick=()=>{E&&E();const{fields:O,refs:I,include:j}=g,H=[];if(0!==O.length||0!==I.length){const Y=new Set(I);for(const ne of O){const ae=this._fieldObjects[ne]||[];for(const{id:X}of ae)Y.add(X)}for(const ne of Object.values(this._fieldObjects))for(const ae of ne)Y.has(ae.id)===j&&H.push(ae)}else for(const Y of Object.values(this._fieldObjects))H.push(...Y);const q=this.annotationStorage,$=[];for(const Y of H){const{id:ne}=Y;switch($.push(ne),Y.type){case"text":case"combobox":case"listbox":q.setValue(ne,{value:Y.defaultValue||""});break;case"checkbox":case"radiobutton":q.setValue(ne,{value:Y.defaultValue===Y.exportValues});break;default:continue}const ae=document.querySelector(`[data-element-id="${ne}"]`);ae&&(f.has(ae)?ae.dispatchEvent(new Event("resetform")):(0,p.warn)(`_bindResetFormAction - element not allowed: ${ne}`))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:$,name:"ResetForm"}}),!1}}}class o extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){this.container.className="textAnnotation";const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.alt="[{{type}} Annotation]",t.dataset.l10nId="text_annotation_type",t.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(t,this.data),this.container.append(t),this.container}}class r extends S{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(t){const{isWin:g,isMac:E}=S.platform;return g&&t.ctrlKey||E&&t.metaKey}_setEventListener(t,g,E,O){g.includes("mouse")?t.addEventListener(g,I=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:E,value:O(I),shift:I.shiftKey,modifier:this._getKeyModifier(I)}})}):t.addEventListener(g,I=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:E,value:O(I)}})})}_setEventListeners(t,g,E){for(const[O,I]of g)("Action"===I||this.data.actions?.[I])&&this._setEventListener(t,O,I,E)}_setBackgroundColor(t){const g=this.data.backgroundColor||null;t.style.backgroundColor=null===g?"transparent":p.Util.makeHexColor(g[0],g[1],g[2])}_setTextStyle(t){const{fontColor:E}=this.data.defaultAppearanceData,O=this.data.defaultAppearanceData.fontSize||9,I=t.style;let j;if(this.data.multiLine){const H=Math.abs(this.data.rect[3]-this.data.rect[1]),q=Math.round(H/(p.LINE_FACTOR*O))||1;j=Math.min(O,Math.round(H/q/p.LINE_FACTOR))}else{const H=Math.abs(this.data.rect[3]-this.data.rect[1]);j=Math.min(O,Math.round(H/p.LINE_FACTOR))}I.fontSize=`calc(${j}px * var(--scale-factor))`,I.color=p.Util.makeHexColor(E[0],E[1],E[2]),null!==this.data.textAlignment&&(I.textAlign=["left","center","right"][this.data.textAlignment])}_setRequired(t,g){g?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",g)}}class v extends r{constructor(t){super(t,{isRenderable:t.renderForms||!t.data.hasAppearance&&!!t.data.fieldValue})}setPropertyOnSiblings(t,g,E,O){const I=this.annotationStorage;for(const j of this._getElementsByName(t.name,t.id))j.domElement&&(j.domElement[g]=E),I.setValue(j.id,{[O]:E})}render(){const t=this.annotationStorage,g=this.data.id;this.container.className="textWidgetAnnotation";let E=null;if(this.renderForms){const O=t.getValue(g,{value:this.data.fieldValue});let I=O.formattedValue||O.value||"";const j=t.getValue(g,{charLimit:this.data.maxLen}).charLimit;j&&I.length>j&&(I=I.slice(0,j));const H={userValue:I,formattedValue:null,valueOnFocus:""};this.data.multiLine?(E=document.createElement("textarea"),E.textContent=I,this.data.doNotScroll&&(E.style.overflowY="hidden")):(E=document.createElement("input"),E.type="text",E.setAttribute("value",I),this.data.doNotScroll&&(E.style.overflowX="hidden")),f.add(E),E.setAttribute("data-element-id",g),E.disabled=this.data.readOnly,E.name=this.data.fieldName,E.tabIndex=x,this._setRequired(E,this.data.required),j&&(E.maxLength=j),E.addEventListener("input",$=>{t.setValue(g,{value:$.target.value}),this.setPropertyOnSiblings(E,"value",$.target.value,"value")}),E.addEventListener("resetform",$=>{E.value=H.userValue=this.data.defaultFieldValue??"",H.formattedValue=null});let q=$=>{const{formattedValue:Y}=H;null!=Y&&($.target.value=Y),$.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){E.addEventListener("focus",Y=>{H.userValue&&(Y.target.value=H.userValue),H.valueOnFocus=Y.target.value}),E.addEventListener("updatefromsandbox",Y=>{this._dispatchEventFromSandbox({value(ae){H.userValue=ae.detail.value??"",t.setValue(g,{value:H.userValue.toString()}),ae.target.value=H.userValue},formattedValue(ae){const{formattedValue:X}=ae.detail;H.formattedValue=X,null!=X&&ae.target!==document.activeElement&&(ae.target.value=X),t.setValue(g,{formattedValue:X})},selRange(ae){ae.target.setSelectionRange(...ae.detail.selRange)},charLimit:ae=>{const{charLimit:X}=ae.detail,{target:te}=ae;if(0===X)return void te.removeAttribute("maxLength");te.setAttribute("maxLength",X);let k=H.userValue;!k||k.length<=X||(k=k.slice(0,X),te.value=H.userValue=k,t.setValue(g,{value:k}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:te.selectionStart,selEnd:te.selectionEnd}}))}},Y)}),E.addEventListener("keydown",Y=>{let ne=-1;if("Escape"===Y.key?ne=0:"Enter"===Y.key?ne=2:"Tab"===Y.key&&(ne=3),-1===ne)return;const{value:ae}=Y.target;H.valueOnFocus!==ae&&(H.userValue=ae,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g,name:"Keystroke",value:ae,willCommit:!0,commitKey:ne,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}))});const $=q;q=null,E.addEventListener("blur",Y=>{const{value:ne}=Y.target;H.userValue=ne,this._mouseState.isDown&&H.valueOnFocus!==ne&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g,name:"Keystroke",value:ne,willCommit:!0,commitKey:1,selStart:Y.target.selectionStart,selEnd:Y.target.selectionEnd}}),$(Y)}),this.data.actions?.Keystroke&&E.addEventListener("beforeinput",Y=>{const{data:ne,target:ae}=Y,{value:X,selectionStart:te,selectionEnd:k}=ae;let z=te,ee=k;switch(Y.inputType){case"deleteWordBackward":{const K=X.substring(0,te).match(/\w*[^\w]*$/);K&&(z-=K[0].length);break}case"deleteWordForward":{const K=X.substring(te).match(/^[^\w]*\w*/);K&&(ee+=K[0].length);break}case"deleteContentBackward":te===k&&(z-=1);break;case"deleteContentForward":te===k&&(ee+=1)}Y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g,name:"Keystroke",value:X,change:ne||"",willCommit:!1,selStart:z,selEnd:ee}})}),this._setEventListeners(E,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Y=>Y.target.value)}if(q&&E.addEventListener("blur",q),this.data.comb){const Y=(this.data.rect[2]-this.data.rect[0])/j;E.classList.add("comb"),E.style.letterSpacing=`calc(${Y}px * var(--scale-factor) - 1ch)`}}else E=document.createElement("div"),E.textContent=this.data.fieldValue,E.style.verticalAlign="middle",E.style.display="table-cell";return this._setTextStyle(E),this._setBackgroundColor(E),this._setDefaultPropertiesFromJS(E),this.container.append(E),this.container}}class y extends r{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,g=this.data,E=g.id;let O=t.getValue(E,{value:g.exportValue===g.fieldValue}).value;"string"==typeof O&&(O="Off"!==O,t.setValue(E,{value:O})),this.container.className="buttonWidgetAnnotation checkBox";const I=document.createElement("input");return f.add(I),I.setAttribute("data-element-id",E),I.disabled=g.readOnly,this._setRequired(I,this.data.required),I.type="checkbox",I.name=g.fieldName,O&&I.setAttribute("checked",!0),I.setAttribute("exportValue",g.exportValue),I.tabIndex=x,I.addEventListener("change",j=>{const{name:H,checked:q}=j.target;for(const $ of this._getElementsByName(H,E)){const Y=q&&$.exportValue===g.exportValue;$.domElement&&($.domElement.checked=Y),t.setValue($.id,{value:Y})}t.setValue(E,{value:q})}),I.addEventListener("resetform",j=>{j.target.checked=(g.defaultFieldValue||"Off")===g.exportValue}),this.enableScripting&&this.hasJSActions&&(I.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(q){q.target.checked="Off"!==q.detail.value,t.setValue(E,{value:q.target.checked})}},j)}),this._setEventListeners(I,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.checked)),this._setBackgroundColor(I),this._setDefaultPropertiesFromJS(I),this.container.append(I),this.container}}class b extends r{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const t=this.annotationStorage,g=this.data,E=g.id;let O=t.getValue(E,{value:g.fieldValue===g.buttonValue}).value;"string"==typeof O&&(O=O!==g.buttonValue,t.setValue(E,{value:O}));const I=document.createElement("input");if(f.add(I),I.setAttribute("data-element-id",E),I.disabled=g.readOnly,this._setRequired(I,this.data.required),I.type="radio",I.name=g.fieldName,O&&I.setAttribute("checked",!0),I.tabIndex=x,I.addEventListener("change",j=>{const{name:H,checked:q}=j.target;for(const $ of this._getElementsByName(H,E))t.setValue($.id,{value:!1});t.setValue(E,{value:q})}),I.addEventListener("resetform",j=>{const H=g.defaultFieldValue;j.target.checked=null!=H&&H===g.buttonValue}),this.enableScripting&&this.hasJSActions){const j=g.buttonValue;I.addEventListener("updatefromsandbox",H=>{this._dispatchEventFromSandbox({value:$=>{const Y=j===$.detail.value;for(const ne of this._getElementsByName($.target.name)){const ae=Y&&ne.id===E;ne.domElement&&(ne.domElement.checked=ae),t.setValue(ne.id,{value:ae})}}},H)}),this._setEventListeners(I,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],H=>H.target.checked)}return this._setBackgroundColor(I),this._setDefaultPropertiesFromJS(I),this.container.append(I),this.container}}class d extends h{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(t.title=this.data.alternativeText);const g=t.lastChild;return this.enableScripting&&this.hasJSActions&&g&&(this._setDefaultPropertiesFromJS(g),g.addEventListener("updatefromsandbox",E=>{this._dispatchEventFromSandbox({},E)})),t}}class e extends r{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const t=this.annotationStorage,g=this.data.id,E=t.getValue(g,{value:this.data.fieldValue}),O=document.createElement("select");f.add(O),O.setAttribute("data-element-id",g),O.disabled=this.data.readOnly,this._setRequired(O,this.data.required),O.name=this.data.fieldName,O.tabIndex=x;let I=this.data.combo&&this.data.options.length>0;this.data.combo||(O.size=this.data.options.length,this.data.multiSelect&&(O.multiple=!0)),O.addEventListener("resetform",$=>{const Y=this.data.defaultFieldValue;for(const ne of O.options)ne.selected=ne.value===Y});for(const $ of this.data.options){const Y=document.createElement("option");Y.textContent=$.displayValue,Y.value=$.exportValue,E.value.includes($.exportValue)&&(Y.setAttribute("selected",!0),I=!1),O.append(Y)}let j=null;if(I){const $=document.createElement("option");$.value=" ",$.setAttribute("hidden",!0),$.setAttribute("selected",!0),O.prepend($),j=()=>{$.remove(),O.removeEventListener("input",j),j=null},O.addEventListener("input",j)}const H=($,Y)=>{const ne=Y?"value":"textContent",ae=$.target.options;return $.target.multiple?Array.prototype.filter.call(ae,X=>X.selected).map(X=>X[ne]):-1===ae.selectedIndex?null:ae[ae.selectedIndex][ne]},q=$=>Array.prototype.map.call($.target.options,ne=>({displayValue:ne.textContent,exportValue:ne.value}));return this.enableScripting&&this.hasJSActions?(O.addEventListener("updatefromsandbox",$=>{this._dispatchEventFromSandbox({value(ne){j?.();const ae=ne.detail.value,X=new Set(Array.isArray(ae)?ae:[ae]);for(const te of O.options)te.selected=X.has(te.value);t.setValue(g,{value:H(ne,!0)})},multipleSelection(ne){O.multiple=!0},remove(ne){const ae=O.options,X=ne.detail.remove;ae[X].selected=!1,O.remove(X),ae.length>0&&-1===Array.prototype.findIndex.call(ae,k=>k.selected)&&(ae[0].selected=!0),t.setValue(g,{value:H(ne,!0),items:q(ne)})},clear(ne){for(;0!==O.length;)O.remove(0);t.setValue(g,{value:null,items:[]})},insert(ne){const{index:ae,displayValue:X,exportValue:te}=ne.detail.insert,k=O.children[ae],z=document.createElement("option");z.textContent=X,z.value=te,k?k.before(z):O.append(z),t.setValue(g,{value:H(ne,!0),items:q(ne)})},items(ne){const{items:ae}=ne.detail;for(;0!==O.length;)O.remove(0);for(const X of ae){const{displayValue:te,exportValue:k}=X,z=document.createElement("option");z.textContent=te,z.value=k,O.append(z)}O.options.length>0&&(O.options[0].selected=!0),t.setValue(g,{value:H(ne,!0),items:q(ne)})},indices(ne){const ae=new Set(ne.detail.indices);for(const X of ne.target.options)X.selected=ae.has(X.index);t.setValue(g,{value:H(ne,!0)})},editable(ne){ne.target.disabled=!ne.detail.editable}},$)}),O.addEventListener("input",$=>{const Y=H($,!0),ne=H($,!1);t.setValue(g,{value:Y}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g,name:"Keystroke",value:ne,changeEx:Y,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(O,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],$=>$.target.checked)):O.addEventListener("input",function($){t.setValue(g,{value:H($,!0)})}),this.data.combo&&this._setTextStyle(O),this._setBackgroundColor(O),this._setDefaultPropertiesFromJS(O),this.container.append(O),this.container}}class n extends S{constructor(t){super(t,{isRenderable:!!(t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const E=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===E.length)return this.container;const O=new _({container:this.container,trigger:Array.from(E),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),I=this.page,j=p.Util.normalizeRect([this.data.parentRect[0],I.view[3]-this.data.parentRect[1]+I.view[1],this.data.parentRect[2],I.view[3]-this.data.parentRect[3]+I.view[1]]),H=j[0]+this.data.parentRect[2]-this.data.parentRect[0],q=j[1],[$,Y,ne,ae]=this.viewport.viewBox,te=ae-Y;return this.container.style.left=100*(H-$)/(ne-$)+"%",this.container.style.top=100*(q-Y)/te+"%",this.container.append(O.render()),this.container}}class _{constructor(t){this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.titleObj=t.titleObj,this.modificationDate=t.modificationDate,this.contentsObj=t.contentsObj,this.richText=t.richText,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}render(){const g=document.createElement("div");g.className="popupWrapper",this.hideElement=this.hideWrapper?g:this.container,this.hideElement.hidden=!0;const E=document.createElement("div");E.className="popup";const O=this.color;O&&(E.style.backgroundColor=p.Util.makeHexColor(0|.7*(255-O[0])+O[0],0|.7*(255-O[1])+O[1],0|.7*(255-O[2])+O[2]));const I=document.createElement("h1");I.dir=this.titleObj.dir,I.textContent=this.titleObj.str,E.append(I);const j=w.PDFDateString.toDateObject(this.modificationDate);if(j){const H=document.createElement("span");H.className="popupDate",H.textContent="{{date}}, {{time}}",H.dataset.l10nId="annotation_date_string",H.dataset.l10nArgs=JSON.stringify({date:j.toLocaleDateString(),time:j.toLocaleTimeString()}),E.append(H)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const H=this._formatContents(this.contentsObj);E.append(H)}else G.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:E}),E.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const H of this.trigger)H.addEventListener("click",this._toggle.bind(this)),H.addEventListener("mouseover",this._show.bind(this,!1)),H.addEventListener("mouseout",this._hide.bind(this,!1));return E.addEventListener("click",this._hide.bind(this,!0)),g.append(E),g}_formatContents({str:t,dir:g}){const E=document.createElement("p");E.className="popupContent",E.dir=g;const O=t.split(/(?:\r\n?|\n)/);for(let I=0,j=O.length;I<j;++I)E.append(document.createTextNode(O[I])),I<j-1&&E.append(document.createElement("br"));return E}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(t=!1){t&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(t=!0){t&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class L extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.textContent=t.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const t=document.createElement("div");t.className="annotationTextContent",t.setAttribute("role","comment");for(const g of this.textContent){const E=document.createElement("span");E.textContent=g,t.append(E)}this.container.append(t)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class F extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const t=this.data,{width:g,height:E}=a(t.rect),O=this.svgFactory.create(g,E,!0),I=this.svgFactory.createElement("svg:line");return I.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),I.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),I.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),I.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),I.setAttribute("stroke-width",t.borderStyle.width||1),I.setAttribute("stroke","transparent"),I.setAttribute("fill","transparent"),O.append(I),this.container.append(O),this._createPopup(I,t),this.container}}class W extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const t=this.data,{width:g,height:E}=a(t.rect),O=this.svgFactory.create(g,E,!0),I=t.borderStyle.width,j=this.svgFactory.createElement("svg:rect");return j.setAttribute("x",I/2),j.setAttribute("y",I/2),j.setAttribute("width",g-I),j.setAttribute("height",E-I),j.setAttribute("stroke-width",I||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),O.append(j),this.container.append(O),this._createPopup(j,t),this.container}}class V extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const t=this.data,{width:g,height:E}=a(t.rect),O=this.svgFactory.create(g,E,!0),I=t.borderStyle.width,j=this.svgFactory.createElement("svg:ellipse");return j.setAttribute("cx",g/2),j.setAttribute("cy",E/2),j.setAttribute("rx",g/2-I/2),j.setAttribute("ry",E/2-I/2),j.setAttribute("stroke-width",I||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),O.append(j),this.container.append(O),this._createPopup(j,t),this.container}}class ie extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:g,height:E}=a(t.rect),O=this.svgFactory.create(g,E,!0);let I=[];for(const H of t.vertices)I.push(H.x-t.rect[0]+","+(t.rect[3]-H.y));I=I.join(" ");const j=this.svgFactory.createElement(this.svgElementName);return j.setAttribute("points",I),j.setAttribute("stroke-width",t.borderStyle.width||1),j.setAttribute("stroke","transparent"),j.setAttribute("fill","transparent"),O.append(j),this.container.append(O),this._createPopup(j,t),this.container}}class Q extends ie{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class P extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class R extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const t=this.data,{width:g,height:E}=a(t.rect),O=this.svgFactory.create(g,E,!0);for(const I of t.inkLists){let j=[];for(const q of I)j.push(`${q.x-t.rect[0]},${t.rect[3]-q.y}`);j=j.join(" ");const H=this.svgFactory.createElement(this.svgElementName);H.setAttribute("points",j),H.setAttribute("stroke-width",t.borderStyle.width||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","transparent"),this._createPopup(H,t),O.append(H)}return this.container.append(O),this.container}}class D extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class M extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class T extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class m extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class i extends S{constructor(t){super(t,{isRenderable:!!(t.data.hasPopup||t.data.titleObj?.str||t.data.contentsObj?.str||t.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class c extends S{constructor(t){super(t,{isRenderable:!0});const{filename:g,content:E}=this.data.file;this.filename=(0,w.getFilenameFromUrl)(g),this.content=E,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:g,content:E})}render(){this.container.className="fileAttachmentAnnotation";const t=document.createElement("div");return t.className="popupTriggerArea",t.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(t,this.data),this.container.append(t),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class C{static#e(t,g,E,O){const I=t.firstChild||t;I.id=`${w.AnnotationPrefix}${g}`,E.append(t),O?.moveElementInDOM(E,t,I,!1)}static render(t){const{annotations:g,div:E,viewport:O,accessibilityManager:I}=t;this.#t(E,O);let j=0;for(const H of g){if(H.annotationType!==p.AnnotationType.POPUP){const{width:$,height:Y}=a(H.rect);if($<=0||Y<=0)continue}const q=l.create({data:H,layer:E,page:t.page,viewport:O,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:!1!==t.renderForms,svgFactory:new w.DOMSVGFactory,annotationStorage:t.annotationStorage||new B.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:!1}});if(q.isRenderable){const $=q.render();if(H.hidden&&($.style.visibility="hidden"),Array.isArray($))for(const Y of $)Y.style.zIndex=j++,C.#e(Y,H.id,E,I);else $.style.zIndex=j++,q instanceof n?E.prepend($):C.#e($,H.id,E,I)}}this.#n(E,t.annotationCanvasMap)}static update(t){const{annotationCanvasMap:g,div:E,viewport:O}=t;this.#t(E,O),this.#n(E,g),E.hidden=!1}static#t(t,{width:g,height:E,rotation:O}){const{style:I}=t,j=O%180!=0,H=Math.floor(g)+"px",q=Math.floor(E)+"px";I.width=j?q:H,I.height=j?H:q,t.setAttribute("data-main-rotation",O)}static#n(t,g){if(g){for(const[E,O]of g){const I=t.querySelector(`[data-annotation-id="${E}"]`);if(!I)continue;const{firstChild:j}=I;j?"CANVAS"===j.nodeName?j.replaceWith(O):j.before(O):I.append(O)}g.clear()}}}u.AnnotationLayer=C},(se,u)=>{function N(w){return Math.floor(255*Math.max(0,Math.min(1,w))).toString(16).padStart(2,"0")}Object.defineProperty(u,"__esModule",{value:!0}),u.ColorConverters=void 0,u.ColorConverters=class p{static CMYK_G([B,U,G,x]){return["G",1-Math.min(1,.3*B+.59*G+.11*U+x)]}static G_CMYK([B]){return["CMYK",0,0,0,1-B]}static G_RGB([B]){return["RGB",B,B,B]}static G_HTML([B]){const U=N(B);return`#${U}${U}${U}`}static RGB_G([B,U,G]){return["G",.3*B+.59*U+.11*G]}static RGB_HTML([B,U,G]){return`#${N(B)}${N(U)}${N(G)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([B,U,G,x]){return["RGB",1-Math.min(1,B+x),1-Math.min(1,G+x),1-Math.min(1,U+x)]}static CMYK_HTML(B){const U=this.CMYK_RGB(B).slice(1);return this.RGB_HTML(U)}static RGB_CMYK([B,U,G]){const x=1-B,s=1-U,f=1-G;return["CMYK",x,s,f,Math.min(x,s,f)]}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.XfaLayer=void 0;var p=N(20);u.XfaLayer=class w{static setupStorage(U,G,x,s,f){const a=s.getValue(G,{value:null});switch(x.name){case"textarea":if(null!==a.value&&(U.textContent=a.value),"print"===f)break;U.addEventListener("input",l=>{s.setValue(G,{value:l.target.value})});break;case"input":if("radio"===x.attributes.type||"checkbox"===x.attributes.type){if(a.value===x.attributes.xfaOn?U.setAttribute("checked",!0):a.value===x.attributes.xfaOff&&U.removeAttribute("checked"),"print"===f)break;U.addEventListener("change",l=>{s.setValue(G,{value:l.target.getAttribute(l.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==a.value&&U.setAttribute("value",a.value),"print"===f)break;U.addEventListener("input",l=>{s.setValue(G,{value:l.target.value})})}break;case"select":if(null!==a.value)for(const l of x.children)l.attributes.value===a.value&&(l.attributes.selected=!0);U.addEventListener("input",l=>{const S=l.target.options;s.setValue(G,{value:-1===S.selectedIndex?"":S[S.selectedIndex].value})})}}static setAttributes({html:U,element:G,storage:x=null,intent:s,linkService:f}){const{attributes:a}=G,l=U instanceof HTMLAnchorElement;"radio"===a.type&&(a.name=`${a.name}-${s}`);for(const[S,h]of Object.entries(a))if(null!=h)switch(S){case"class":h.length&&U.setAttribute(S,h.join(" "));break;case"dataId":break;case"id":U.setAttribute("data-element-id",h);break;case"style":Object.assign(U.style,h);break;case"textContent":U.textContent=h;break;default:(!l||"href"!==S&&"newWindow"!==S)&&U.setAttribute(S,h)}l&&f.addLinkAttributes(U,a.href,a.newWindow),x&&a.dataId&&this.setupStorage(U,a.dataId,G,x)}static render(U){const G=U.annotationStorage,x=U.linkService,s=U.xfaHtml,f=U.intent||"display",a=document.createElement(s.name);s.attributes&&this.setAttributes({html:a,element:s,intent:f,linkService:x});const l=[[s,-1,a]],S=U.div;if(S.append(a),U.viewport){const o=`matrix(${U.viewport.transform.join(",")})`;S.style.transform=o}"richText"!==f&&S.setAttribute("class","xfaLayer xfaFont");const h=[];for(;l.length>0;){const[o,r,v]=l.at(-1);if(r+1===o.children.length){l.pop();continue}const y=o.children[++l.at(-1)[1]];if(null===y)continue;const{name:b}=y;if("#text"===b){const e=document.createTextNode(y.value);h.push(e),v.append(e);continue}let d;if(d=y?.attributes?.xmlns?document.createElementNS(y.attributes.xmlns,b):document.createElement(b),v.append(d),y.attributes&&this.setAttributes({html:d,element:y,storage:G,intent:f,linkService:x}),y.children&&y.children.length>0)l.push([y,-1,d]);else if(y.value){const e=document.createTextNode(y.value);p.XfaText.shouldBuildText(b)&&h.push(e),d.append(e)}}for(const o of S.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))o.setAttribute("readOnly",!0);return{textDivs:h}}static update(U){const G=`matrix(${U.viewport.transform.join(",")})`;U.div.style.transform=G,U.div.hidden=!1}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.TextLayerRenderTask=void 0,u.renderTextLayer=function y(b){const d=new v({textContent:b.textContent,textContentStream:b.textContentStream,container:b.container,viewport:b.viewport,textDivs:b.textDivs,textContentItemsStr:b.textContentItemsStr,enhanceTextSelection:b.enhanceTextSelection});return d._render(b.timeout),d};var p=N(1),w=N(8);const U=30,x=new Map,s=/^\s+$/g;function a(b,d,e,n){const _=document.createElement("span"),L=b._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==d.str,hasEOL:d.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:""!==d.str,hasEOL:d.hasEOL,fontSize:0};b._textDivs.push(_);const F=p.Util.transform(b._viewport.transform,d.transform);let W=Math.atan2(F[1],F[0]);const V=e[d.fontName];V.vertical&&(W+=Math.PI/2);const ie=Math.hypot(F[2],F[3]),Q=ie*function f(b,d){const e=x.get(b);if(e)return e;d.save(),d.font=`30px ${b}`;const n=d.measureText("");let _=n.fontBoundingBoxAscent,L=Math.abs(n.fontBoundingBoxDescent);if(_){d.restore();const W=_/(_+L);return x.set(b,W),W}d.strokeStyle="red",d.clearRect(0,0,U,U),d.strokeText("g",0,0);let F=d.getImageData(0,0,U,U).data;L=0;for(let W=F.length-1-3;W>=0;W-=4)if(F[W]>0){L=Math.ceil(W/4/U);break}d.clearRect(0,0,U,U),d.strokeText("A",0,U),F=d.getImageData(0,0,U,U).data,_=0;for(let W=0,V=F.length;W<V;W+=4)if(F[W]>0){_=U-Math.floor(W/4/U);break}if(d.restore(),_){const W=_/(_+L);return x.set(b,W),W}return x.set(b,.8),.8}(V.fontFamily,n);let P,R;0===W?(P=F[4],R=F[5]-Q):(P=F[4]+Q*Math.sin(W),R=F[5]-Q*Math.cos(W)),_.style.left=`${P}px`,_.style.top=`${R}px`,_.style.fontSize=`${ie}px`,_.style.fontFamily=V.fontFamily,L.fontSize=ie,_.setAttribute("role","presentation"),_.textContent=d.str,_.dir=d.dir,b._fontInspectorEnabled&&(_.dataset.fontName=d.fontName),0!==W&&(L.angle=W*(180/Math.PI));let D=!1;if(d.str.length>1||b._enhanceTextSelection&&s.test(d.str))D=!0;else if(" "!==d.str&&d.transform[0]!==d.transform[3]){const M=Math.abs(d.transform[0]),T=Math.abs(d.transform[3]);M!==T&&Math.max(M,T)/Math.min(M,T)>1.5&&(D=!0)}if(D&&(L.canvasWidth=V.vertical?d.height*b._viewport.scale:d.width*b._viewport.scale),b._textDivProperties.set(_,L),b._textContentStream&&b._layoutText(_),b._enhanceTextSelection&&L.hasText){let M=1,T=0;0!==W&&(M=Math.cos(W),T=Math.sin(W));const m=(V.vertical?d.height:d.width)*b._viewport.scale,i=ie;let c,C;0!==W?(c=[M,T,-T,M,P,R],C=p.Util.getAxialAlignedBoundingBox([0,0,m,i],c)):C=[P,R,P+m,R+i],b._bounds.push({left:C[0],top:C[1],right:C[2],bottom:C[3],div:_,size:[m,i],m:c})}}function l(b){if(b._canceled)return;const d=b._textDivs,e=b._capability,n=d.length;if(n>1e5)return b._renderingDone=!0,void e.resolve();if(!b._textContentStream)for(let _=0;_<n;_++)b._layoutText(d[_]);b._renderingDone=!0,e.resolve()}function S(b,d,e){let n=0;for(let _=0;_<e;_++){const L=b[d++];L>0&&(n=n?Math.min(L,n):L)}return n}function r(b,d){d.sort(function(_,L){return _.x1-L.x1||_.index-L.index});const n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const _ of d){let L=0;for(;L<n.length&&n[L].end<=_.y1;)L++;let F=n.length-1;for(;F>=0&&n[F].start>=_.y2;)F--;let W,V,ie,Q,P=-1/0;for(ie=L;ie<=F;ie++){let M;W=n[ie],V=W.boundary,M=V.x2>_.x1?V.index>_.index?V.x1New:_.x1:void 0===V.x2New?(V.x2+_.x1)/2:V.x2New,M>P&&(P=M)}for(_.x1New=P,ie=L;ie<=F;ie++)W=n[ie],V=W.boundary,void 0===V.x2New?V.x2>_.x1?V.index>_.index&&(V.x2New=V.x2):V.x2New=P:V.x2New>P&&(V.x2New=Math.max(P,V.x2));const R=[];let D=null;for(ie=L;ie<=F;ie++){W=n[ie],V=W.boundary;const M=V.x2>_.x2?V:_;D===M?R.at(-1).end=W.end:(R.push({start:W.start,end:W.end,boundary:M}),D=M)}for(n[L].start<_.y1&&(R[0].start=_.y1,R.unshift({start:n[L].start,end:_.y1,boundary:n[L].boundary})),_.y2<n[F].end&&(R.at(-1).end=_.y2,R.push({start:_.y2,end:n[F].end,boundary:n[F].boundary})),ie=L;ie<=F;ie++){if(W=n[ie],V=W.boundary,void 0!==V.x2New)continue;let M=!1;for(Q=L-1;!M&&Q>=0&&n[Q].start>=V.y1;Q--)M=n[Q].boundary===V;for(Q=F+1;!M&&Q<n.length&&n[Q].end<=V.y2;Q++)M=n[Q].boundary===V;for(Q=0;!M&&Q<R.length;Q++)M=R[Q].boundary===V;M||(V.x2New=P)}Array.prototype.splice.apply(n,[L,F-L+1,...R])}for(const _ of n){const L=_.boundary;void 0===L.x2New&&(L.x2New=Math.max(b,L.x2))}}class v{constructor({textContent:d,textContentStream:e,container:n,viewport:_,textDivs:L,textContentItemsStr:F,enhanceTextSelection:W}){W&&(0,w.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=d,this._textContentStream=e,this._container=n,this._document=n.ownerDocument,this._viewport=_,this._textDivs=L||[],this._textContentItemsStr=F||[],this._enhanceTextSelection=!!W,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,p.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new p.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(d,e){for(let n=0,_=d.length;n<_;n++)if(void 0!==d[n].str)this._textContentItemsStr.push(d[n].str),a(this,d[n],e,this._layoutTextCtx);else if("beginMarkedContentProps"===d[n].type||"beginMarkedContent"===d[n].type){const L=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==d[n].id&&this._container.setAttribute("id",`${d[n].id}`),L.append(this._container)}else"endMarkedContent"===d[n].type&&(this._container=this._container.parentNode)}_layoutText(d){const e=this._textDivProperties.get(d);let n="";if(0!==e.canvasWidth&&e.hasText){const{fontFamily:_}=d.style,{fontSize:L}=e;(L!==this._layoutTextLastFontSize||_!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${L*this._devicePixelRatio}px ${_}`,this._layoutTextLastFontSize=L,this._layoutTextLastFontFamily=_);const{width:F}=this._layoutTextCtx.measureText(d.textContent);if(F>0){const W=this._devicePixelRatio*e.canvasWidth/F;this._enhanceTextSelection&&(e.scale=W),n=`scaleX(${W})`}}if(0!==e.angle&&(n=`rotate(${e.angle}deg) ${n}`),n.length>0&&(this._enhanceTextSelection&&(e.originalTransform=n),d.style.transform=n),e.hasText&&this._container.append(d),e.hasEOL){const _=document.createElement("br");_.setAttribute("role","presentation"),this._container.append(_)}}_render(d=0){const e=(0,p.createPromiseCapability)();let n=Object.create(null);const _=this._document.createElement("canvas");if(_.height=_.width=U,this._layoutTextCtx=_.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),e.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const L=()=>{this._reader.read().then(({value:F,done:W})=>{W?e.resolve():(Object.assign(n,F.styles),this._processItems(F.items,n),L())},e.reject)};this._reader=this._textContentStream.getReader(),L()}}e.promise.then(()=>{n=null,d?this._renderTimer=setTimeout(()=>{l(this),this._renderTimer=null},d):l(this)},this._capability.reject)}expandTextDivs(d=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function h(b){const d=b._bounds,e=b._viewport,n=function o(b,d,e){const n=e.map(function(L,F){return{x1:L.left,y1:L.top,x2:L.right,y2:L.bottom,index:F,x1New:void 0,x2New:void 0}});r(b,n);const _=new Array(e.length);for(const L of n)_[L.index]={left:L.x1New,top:0,right:L.x2New,bottom:0};e.map(function(L,F){const W=_[F],V=n[F];V.x1=L.top,V.y1=b-W.right,V.x2=L.bottom,V.y2=b-W.left,V.index=F,V.x1New=void 0,V.x2New=void 0}),r(d,n);for(const L of n){const F=L.index;_[F].top=L.x1New,_[F].bottom=L.x2New}return _}(e.width,e.height,d);for(let _=0;_<n.length;_++){const L=d[_].div,F=b._textDivProperties.get(L);if(0===F.angle){F.paddingLeft=d[_].left-n[_].left,F.paddingTop=d[_].top-n[_].top,F.paddingRight=n[_].right-d[_].right,F.paddingBottom=n[_].bottom-d[_].bottom,b._textDivProperties.set(L,F);continue}const W=n[_],V=d[_],ie=V.m,Q=ie[0],P=ie[1],R=[[0,0],[0,V.size[1]],[V.size[0],0],V.size],D=new Float64Array(64);for(let T=0,m=R.length;T<m;T++){const i=p.Util.applyTransform(R[T],ie);D[T+0]=Q&&(W.left-i[0])/Q,D[T+4]=P&&(W.top-i[1])/P,D[T+8]=Q&&(W.right-i[0])/Q,D[T+12]=P&&(W.bottom-i[1])/P,D[T+16]=P&&(W.left-i[0])/-P,D[T+20]=Q&&(W.top-i[1])/Q,D[T+24]=P&&(W.right-i[0])/-P,D[T+28]=Q&&(W.bottom-i[1])/Q,D[T+32]=Q&&(W.left-i[0])/-Q,D[T+36]=P&&(W.top-i[1])/-P,D[T+40]=Q&&(W.right-i[0])/-Q,D[T+44]=P&&(W.bottom-i[1])/-P,D[T+48]=P&&(W.left-i[0])/P,D[T+52]=Q&&(W.top-i[1])/-Q,D[T+56]=P&&(W.right-i[0])/P,D[T+60]=Q&&(W.bottom-i[1])/-Q}const M=1+Math.min(Math.abs(Q),Math.abs(P));F.paddingLeft=S(D,32,16)/M,F.paddingTop=S(D,48,16)/M,F.paddingRight=S(D,0,16)/M,F.paddingBottom=S(D,16,16)/M,b._textDivProperties.set(L,F)}}(this),this._bounds=null);const e=[],n=[];for(let _=0,L=this._textDivs.length;_<L;_++){const F=this._textDivs[_],W=this._textDivProperties.get(F);W.hasText&&(d?(e.length=0,n.length=0,W.originalTransform&&e.push(W.originalTransform),W.paddingTop>0?(n.push(`${W.paddingTop}px`),e.push(`translateY(${-W.paddingTop}px)`)):n.push(0),n.push(W.paddingRight>0?W.paddingRight/W.scale+"px":0),n.push(W.paddingBottom>0?`${W.paddingBottom}px`:0),W.paddingLeft>0?(n.push(W.paddingLeft/W.scale+"px"),e.push(`translateX(${-W.paddingLeft/W.scale}px)`)):n.push(0),F.style.padding=n.join(" "),e.length&&(F.style.transform=e.join(" "))):(F.style.padding=null,F.style.transform=W.originalTransform))}}}u.TextLayerRenderTask=v},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.SVGGraphics=void 0;var p=N(8),w=N(1),B=N(3);let U=class{constructor(){(0,w.unreachable)("Not implemented: SVGGraphics")}};u.SVGGraphics=U;{let o=function(e){let n=[];const _=[];for(const L of e)"save"!==L.fn?"restore"===L.fn?n=_.pop():n.push(L):(n.push({fnId:92,fn:"group",items:[]}),_.push(n),n=n.at(-1).items);return n},r=function(e){if(Number.isInteger(e))return e.toString();const n=e.toFixed(10);let _=n.length-1;if("0"!==n[_])return n;do{_--}while("0"===n[_]);return n.substring(0,"."===n[_]?_:_+1)},v=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":`scale(${r(e[0])} ${r(e[3])})`;if(e[0]===e[3]&&e[1]===-e[2]){const n=180*Math.acos(e[0])/Math.PI;return`rotate(${r(n)})`}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return`translate(${r(e[4])} ${r(e[5])})`;return`matrix(${r(e[0])} ${r(e[1])} ${r(e[2])} ${r(e[3])} ${r(e[4])} ${r(e[5])})`};const G={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},x="http://www.w3.org/XML/1998/namespace",s="http://www.w3.org/1999/xlink",f=["butt","round","square"],a=["miter","round","bevel"],l=function(e,n="",_=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!_)return URL.createObjectURL(new Blob([e],{type:n}));const L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let F=`data:${n};base64,`;for(let W=0,V=e.length;W<V;W+=3){const ie=255&e[W],Q=255&e[W+1],P=255&e[W+2];F+=L[ie>>2]+L[(3&ie)<<4|Q>>4]+L[W+1<V?(15&Q)<<2|P>>6:64]+L[W+2<V?63&P:64]}return F},S=function(){const e=new Uint8Array([137,80,78,71,13,10,26,10]),_=new Int32Array(256);for(let P=0;P<256;P++){let R=P;for(let D=0;D<8;D++)R=1&R?3988292384^R>>1&2147483647:R>>1&2147483647;_[P]=R}function F(P,R,D,M){let T=M;const m=R.length;D[T]=m>>24&255,D[T+1]=m>>16&255,D[T+2]=m>>8&255,D[T+3]=255&m,T+=4,D[T]=255&P.charCodeAt(0),D[T+1]=255&P.charCodeAt(1),D[T+2]=255&P.charCodeAt(2),D[T+3]=255&P.charCodeAt(3),T+=4,D.set(R,T),T+=R.length;const i=function L(P,R,D){let M=-1;for(let T=R;T<D;T++)M=M>>>8^_[255&(M^P[T])];return-1^M}(D,M+4,T);D[T]=i>>24&255,D[T+1]=i>>16&255,D[T+2]=i>>8&255,D[T+3]=255&i}function ie(P){let R=P.length;const D=65535,M=Math.ceil(R/D),T=new Uint8Array(2+R+5*M+4);let m=0;T[m++]=120,T[m++]=156;let i=0;for(;R>D;)T[m++]=0,T[m++]=255,T[m++]=255,T[m++]=0,T[m++]=0,T.set(P.subarray(i,i+D),m),m+=D,i+=D,R-=D;T[m++]=1,T[m++]=255&R,T[m++]=R>>8&255,T[m++]=255&~R,T[m++]=(65535&~R)>>8&255,T.set(P.subarray(i),m),m+=P.length-i;const c=function W(P,R,D){let M=1,T=0;for(let m=R;m<D;++m)M=(M+(255&P[m]))%65521,T=(T+M)%65521;return T<<16|M}(P,0,P.length);return T[m++]=c>>24&255,T[m++]=c>>16&255,T[m++]=c>>8&255,T[m++]=255&c,T}return function(R,D,M){return function Q(P,R,D,M){const T=P.width,m=P.height;let i,c,C;const A=P.data;switch(R){case w.ImageKind.GRAYSCALE_1BPP:c=0,i=1,C=T+7>>3;break;case w.ImageKind.RGB_24BPP:c=2,i=8,C=3*T;break;case w.ImageKind.RGBA_32BPP:c=6,i=8,C=4*T;break;default:throw new Error("invalid format")}const t=new Uint8Array((1+C)*m);let g=0,E=0;for(let $=0;$<m;++$)t[g++]=0,t.set(A.subarray(E,E+C),g),E+=C,g+=C;if(R===w.ImageKind.GRAYSCALE_1BPP&&M){g=0;for(let $=0;$<m;$++){g++;for(let Y=0;Y<C;Y++)t[g++]^=255}}const O=new Uint8Array([T>>24&255,T>>16&255,T>>8&255,255&T,m>>24&255,m>>16&255,m>>8&255,255&m,i,c,0,0,0]),I=function V(P){if(!B.isNodeJS)return ie(P);try{let R;R=parseInt(process.versions.node)>=8?P:Buffer.from(P);const D=__webpack_require__(2258).deflateSync(R,{level:9});return D instanceof Uint8Array?D:new Uint8Array(D)}catch(R){(0,w.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+R)}return ie(P)}(t),H=new Uint8Array(e.length+36+O.length+I.length);let q=0;return H.set(e,q),q+=e.length,F("IHDR",O,H,q),q+=12+O.length,F("IDATA",I,H,q),q+=12+I.length,F("IEND",new Uint8Array(0),H,q),l(H,"image/png",D)}(R,void 0===R.kind?w.ImageKind.GRAYSCALE_1BPP:R.kind,D,M)}}();class h{constructor(){this.fontSizeScale=1,this.fontWeight=G.fontWeight,this.fontSize=0,this.textMatrix=w.IDENTITY_MATRIX,this.fontMatrix=w.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=w.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=G.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(n,_){this.x=n,this.y=_}}let y=0,b=0,d=0;u.SVGGraphics=U=class{constructor(e,n,_=!1){(0,p.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new p.DOMSVGFactory,this.current=new h,this.transformMatrix=w.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=e,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!_,this._operatorIdMapping=[];for(const L in w.OPS)this._operatorIdMapping[w.OPS[L]]=L}save(){this.transformStack.push(this.transformMatrix);const e=this.current;this.extraStack.push(e),this.current=e.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(e){this.save(),this.executeOpTree(e),this.restore()}loadDependencies(e){const n=e.fnArray,_=e.argsArray;for(let L=0,F=n.length;L<F;L++)if(n[L]===w.OPS.dependency)for(const W of _[L]){const V=W.startsWith("g_")?this.commonObjs:this.objs,ie=new Promise(Q=>{V.get(W,Q)});this.current.dependencies.push(ie)}return Promise.all(this.current.dependencies)}transform(e,n,_,L,F,W){this.transformMatrix=w.Util.transform(this.transformMatrix,[e,n,_,L,F,W]),this.tgrp=null}getSVG(e,n){this.viewport=n;const _=this._initialize(n);return this.loadDependencies(e).then(()=>(this.transformMatrix=w.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(e)),_))}convertOpList(e){const n=this._operatorIdMapping,_=e.argsArray,L=e.fnArray,F=[];for(let W=0,V=L.length;W<V;W++){const ie=L[W];F.push({fnId:ie,fn:n[ie],args:_[W]})}return o(F)}executeOpTree(e){for(const n of e){const _=n.fn,F=n.args;switch(0|n.fnId){case w.OPS.beginText:this.beginText();break;case w.OPS.dependency:break;case w.OPS.setLeading:this.setLeading(F);break;case w.OPS.setLeadingMoveText:this.setLeadingMoveText(F[0],F[1]);break;case w.OPS.setFont:this.setFont(F);break;case w.OPS.showText:case w.OPS.showSpacedText:this.showText(F[0]);break;case w.OPS.endText:this.endText();break;case w.OPS.moveText:this.moveText(F[0],F[1]);break;case w.OPS.setCharSpacing:this.setCharSpacing(F[0]);break;case w.OPS.setWordSpacing:this.setWordSpacing(F[0]);break;case w.OPS.setHScale:this.setHScale(F[0]);break;case w.OPS.setTextMatrix:this.setTextMatrix(F[0],F[1],F[2],F[3],F[4],F[5]);break;case w.OPS.setTextRise:this.setTextRise(F[0]);break;case w.OPS.setTextRenderingMode:this.setTextRenderingMode(F[0]);break;case w.OPS.setLineWidth:this.setLineWidth(F[0]);break;case w.OPS.setLineJoin:this.setLineJoin(F[0]);break;case w.OPS.setLineCap:this.setLineCap(F[0]);break;case w.OPS.setMiterLimit:this.setMiterLimit(F[0]);break;case w.OPS.setFillRGBColor:this.setFillRGBColor(F[0],F[1],F[2]);break;case w.OPS.setStrokeRGBColor:this.setStrokeRGBColor(F[0],F[1],F[2]);break;case w.OPS.setStrokeColorN:this.setStrokeColorN(F);break;case w.OPS.setFillColorN:this.setFillColorN(F);break;case w.OPS.shadingFill:this.shadingFill(F[0]);break;case w.OPS.setDash:this.setDash(F[0],F[1]);break;case w.OPS.setRenderingIntent:this.setRenderingIntent(F[0]);break;case w.OPS.setFlatness:this.setFlatness(F[0]);break;case w.OPS.setGState:this.setGState(F[0]);break;case w.OPS.fill:this.fill();break;case w.OPS.eoFill:this.eoFill();break;case w.OPS.stroke:this.stroke();break;case w.OPS.fillStroke:this.fillStroke();break;case w.OPS.eoFillStroke:this.eoFillStroke();break;case w.OPS.clip:this.clip("nonzero");break;case w.OPS.eoClip:this.clip("evenodd");break;case w.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case w.OPS.paintImageXObject:this.paintImageXObject(F[0]);break;case w.OPS.paintInlineImageXObject:this.paintInlineImageXObject(F[0]);break;case w.OPS.paintImageMaskXObject:this.paintImageMaskXObject(F[0]);break;case w.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(F[0],F[1]);break;case w.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case w.OPS.closePath:this.closePath();break;case w.OPS.closeStroke:this.closeStroke();break;case w.OPS.closeFillStroke:this.closeFillStroke();break;case w.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case w.OPS.nextLine:this.nextLine();break;case w.OPS.transform:this.transform(F[0],F[1],F[2],F[3],F[4],F[5]);break;case w.OPS.constructPath:this.constructPath(F[0],F[1]);break;case w.OPS.endPath:this.endPath();break;case 92:this.group(n.items);break;default:(0,w.warn)(`Unimplemented operator ${_}`)}}}setWordSpacing(e){this.current.wordSpacing=e}setCharSpacing(e){this.current.charSpacing=e}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(e,n,_,L,F,W){const V=this.current;V.textMatrix=V.lineMatrix=[e,n,_,L,F,W],V.textMatrixScale=Math.hypot(e,n),V.x=V.lineX=0,V.y=V.lineY=0,V.xcoords=[],V.ycoords=[],V.tspan=this.svgFactory.createElement("svg:tspan"),V.tspan.setAttributeNS(null,"font-family",V.fontFamily),V.tspan.setAttributeNS(null,"font-size",`${r(V.fontSize)}px`),V.tspan.setAttributeNS(null,"y",r(-V.y)),V.txtElement=this.svgFactory.createElement("svg:text"),V.txtElement.append(V.tspan)}beginText(){const e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=w.IDENTITY_MATRIX,e.lineMatrix=w.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}moveText(e,n){const _=this.current;_.x=_.lineX+=e,_.y=_.lineY+=n,_.xcoords=[],_.ycoords=[],_.tspan=this.svgFactory.createElement("svg:tspan"),_.tspan.setAttributeNS(null,"font-family",_.fontFamily),_.tspan.setAttributeNS(null,"font-size",`${r(_.fontSize)}px`),_.tspan.setAttributeNS(null,"y",r(-_.y))}showText(e){const n=this.current,_=n.font,L=n.fontSize;if(0===L)return;const F=n.fontSizeScale,W=n.charSpacing,V=n.wordSpacing,ie=n.fontDirection,Q=n.textHScale*ie,P=_.vertical,R=P?1:-1,D=_.defaultVMetrics,M=L*n.fontMatrix[0];let T=0;for(const c of e){if(null===c){T+=ie*V;continue}if("number"==typeof c){T+=R*c*L/1e3;continue}const C=(c.isSpace?V:0)+W,A=c.fontChar;let t,g,O,E=c.width;if(P){let I;const j=c.vmetric||D;I=c.vmetric?j[1]:.5*E,I=-I*M,E=j?-j[0]:E,t=I/F,g=(T+j[2]*M)/F}else t=T/F,g=0;(c.isInFont||_.missingFile)&&(n.xcoords.push(n.x+t),P&&n.ycoords.push(-n.y+g),n.tspan.textContent+=A),O=P?E*M-C*ie:E*M+C*ie,T+=O}n.tspan.setAttributeNS(null,"x",n.xcoords.map(r).join(" ")),n.tspan.setAttributeNS(null,"y",P?n.ycoords.map(r).join(" "):r(-n.y)),P?n.y-=T:n.x+=T*Q,n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size",`${r(n.fontSize)}px`),n.fontStyle!==G.fontStyle&&n.tspan.setAttributeNS(null,"font-style",n.fontStyle),n.fontWeight!==G.fontWeight&&n.tspan.setAttributeNS(null,"font-weight",n.fontWeight);const m=n.textRenderingMode&w.TextRenderingMode.FILL_STROKE_MASK;m===w.TextRenderingMode.FILL||m===w.TextRenderingMode.FILL_STROKE?(n.fillColor!==G.fillColor&&n.tspan.setAttributeNS(null,"fill",n.fillColor),n.fillAlpha<1&&n.tspan.setAttributeNS(null,"fill-opacity",n.fillAlpha)):n.tspan.setAttributeNS(null,"fill",n.textRenderingMode===w.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(m===w.TextRenderingMode.STROKE||m===w.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(n.tspan,1/(n.textMatrixScale||1));let i=n.textMatrix;0!==n.textRise&&(i=i.slice(),i[5]+=n.textRise),n.txtElement.setAttributeNS(null,"transform",`${v(i)} scale(${r(Q)}, -1)`),n.txtElement.setAttributeNS(x,"xml:space","preserve"),n.txtElement.append(n.tspan),n.txtgrp.append(n.txtElement),this._ensureTransformGroup().append(n.txtElement)}setLeadingMoveText(e,n){this.setLeading(-n),this.moveText(e,n)}addFontStyle(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const n=l(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${e.loadedName}"; src: url(${n}); }\n`}setFont(e){const n=this.current,_=this.commonObjs.get(e[0]);let L=e[1];n.font=_,this.embedFonts&&!_.missingFile&&!this.embeddedFonts[_.loadedName]&&(this.addFontStyle(_),this.embeddedFonts[_.loadedName]=_),n.fontMatrix=_.fontMatrix||w.FONT_IDENTITY_MATRIX;let F="normal";_.black?F="900":_.bold&&(F="bold");const W=_.italic?"italic":"normal";L<0?(L=-L,n.fontDirection=-1):n.fontDirection=1,n.fontSize=L,n.fontFamily=_.loadedName,n.fontWeight=F,n.fontStyle=W,n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"y",r(-n.y)),n.xcoords=[],n.ycoords=[]}endText(){const e=this.current;e.textRenderingMode&w.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement?.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(e){e>0&&(this.current.lineWidth=e)}setLineCap(e){this.current.lineCap=f[e]}setLineJoin(e){this.current.lineJoin=a[e]}setMiterLimit(e){this.current.miterLimit=e}setStrokeAlpha(e){this.current.strokeAlpha=e}setStrokeRGBColor(e,n,_){this.current.strokeColor=w.Util.makeHexColor(e,n,_)}setFillAlpha(e){this.current.fillAlpha=e}setFillRGBColor(e,n,_){this.current.fillColor=w.Util.makeHexColor(e,n,_),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(e){this.current.strokeColor=this._makeColorN_Pattern(e)}setFillColorN(e){this.current.fillColor=this._makeColorN_Pattern(e)}shadingFill(e){const n=this.viewport.width,_=this.viewport.height,L=w.Util.inverseTransform(this.transformMatrix),F=w.Util.applyTransform([0,0],L),W=w.Util.applyTransform([0,_],L),V=w.Util.applyTransform([n,0],L),ie=w.Util.applyTransform([n,_],L),Q=Math.min(F[0],W[0],V[0],ie[0]),P=Math.min(F[1],W[1],V[1],ie[1]),R=Math.max(F[0],W[0],V[0],ie[0]),D=Math.max(F[1],W[1],V[1],ie[1]),M=this.svgFactory.createElement("svg:rect");M.setAttributeNS(null,"x",Q),M.setAttributeNS(null,"y",P),M.setAttributeNS(null,"width",R-Q),M.setAttributeNS(null,"height",D-P),M.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&M.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(M)}_makeColorN_Pattern(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}_makeTilingPattern(e){const n=e[1],_=e[2],L=e[3]||w.IDENTITY_MATRIX,[F,W,V,ie]=e[4],Q=e[5],P=e[6],R=e[7],D="shading"+d++,[M,T,m,i]=w.Util.normalizeRect([...w.Util.applyTransform([F,W],L),...w.Util.applyTransform([V,ie],L)]),[c,C]=w.Util.singularValueDecompose2dScale(L),A=Q*c,t=P*C,g=this.svgFactory.createElement("svg:pattern");g.setAttributeNS(null,"id",D),g.setAttributeNS(null,"patternUnits","userSpaceOnUse"),g.setAttributeNS(null,"width",A),g.setAttributeNS(null,"height",t),g.setAttributeNS(null,"x",`${M}`),g.setAttributeNS(null,"y",`${T}`);const E=this.svg,O=this.transformMatrix,I=this.current.fillColor,j=this.current.strokeColor,H=this.svgFactory.create(m-M,i-T);if(this.svg=H,this.transformMatrix=L,2===R){const q=w.Util.makeHexColor(...n);this.current.fillColor=q,this.current.strokeColor=q}return this.executeOpTree(this.convertOpList(_)),this.svg=E,this.transformMatrix=O,this.current.fillColor=I,this.current.strokeColor=j,g.append(H.childNodes[0]),this.defs.append(g),`url(#${D})`}_makeShadingPattern(e){switch("string"==typeof e&&(e=this.objs.get(e)),e[0]){case"RadialAxial":const n="shading"+d++,_=e[3];let L;switch(e[1]){case"axial":const F=e[4],W=e[5];L=this.svgFactory.createElement("svg:linearGradient"),L.setAttributeNS(null,"id",n),L.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),L.setAttributeNS(null,"x1",F[0]),L.setAttributeNS(null,"y1",F[1]),L.setAttributeNS(null,"x2",W[0]),L.setAttributeNS(null,"y2",W[1]);break;case"radial":const V=e[4],ie=e[5],Q=e[6],P=e[7];L=this.svgFactory.createElement("svg:radialGradient"),L.setAttributeNS(null,"id",n),L.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),L.setAttributeNS(null,"cx",ie[0]),L.setAttributeNS(null,"cy",ie[1]),L.setAttributeNS(null,"r",P),L.setAttributeNS(null,"fx",V[0]),L.setAttributeNS(null,"fy",V[1]),L.setAttributeNS(null,"fr",Q);break;default:throw new Error(`Unknown RadialAxial type: ${e[1]}`)}for(const F of _){const W=this.svgFactory.createElement("svg:stop");W.setAttributeNS(null,"offset",F[0]),W.setAttributeNS(null,"stop-color",F[1]),L.append(W)}return this.defs.append(L),`url(#${n})`;case"Mesh":return(0,w.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${e[0]}`)}}setDash(e,n){this.current.dashArray=e,this.current.dashPhase=n}constructPath(e,n){const _=this.current;let L=_.x,F=_.y,W=[],V=0;for(const ie of e)switch(0|ie){case w.OPS.rectangle:L=n[V++],F=n[V++];const R=L+n[V++],D=F+n[V++];W.push("M",r(L),r(F),"L",r(R),r(F),"L",r(R),r(D),"L",r(L),r(D),"Z");break;case w.OPS.moveTo:L=n[V++],F=n[V++],W.push("M",r(L),r(F));break;case w.OPS.lineTo:L=n[V++],F=n[V++],W.push("L",r(L),r(F));break;case w.OPS.curveTo:L=n[V+4],F=n[V+5],W.push("C",r(n[V]),r(n[V+1]),r(n[V+2]),r(n[V+3]),r(L),r(F)),V+=6;break;case w.OPS.curveTo2:W.push("C",r(L),r(F),r(n[V]),r(n[V+1]),r(n[V+2]),r(n[V+3])),L=n[V+2],F=n[V+3],V+=4;break;case w.OPS.curveTo3:L=n[V+2],F=n[V+3],W.push("C",r(n[V]),r(n[V+1]),r(L),r(F),r(L),r(F)),V+=4;break;case w.OPS.closePath:W.push("Z")}W=W.join(" "),_.path&&e.length>0&&e[0]!==w.OPS.rectangle&&e[0]!==w.OPS.moveTo?W=_.path.getAttributeNS(null,"d")+W:(_.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(_.path)),_.path.setAttributeNS(null,"d",W),_.path.setAttributeNS(null,"fill","none"),_.element=_.path,_.setCurrentPoint(L,F)}endPath(){const e=this.current;if(e.path=null,!this.pendingClip)return;if(!e.element)return void(this.pendingClip=null);const n="clippath"+y++,_=this.svgFactory.createElement("svg:clipPath");_.setAttributeNS(null,"id",n),_.setAttributeNS(null,"transform",v(this.transformMatrix));const L=e.element.cloneNode(!0);if(L.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,_.append(L),this.defs.append(_),e.activeClipUrl){e.clipGroup=null;for(const F of this.extraStack)F.clipGroup=null;_.setAttributeNS(null,"clip-path",e.activeClipUrl)}e.activeClipUrl=`url(#${n})`,this.tgrp=null}clip(e){this.pendingClip=e}closePath(){const e=this.current;if(e.path){const n=`${e.path.getAttributeNS(null,"d")}Z`;e.path.setAttributeNS(null,"d",n)}}setLeading(e){this.current.leading=-e}setTextRise(e){this.current.textRise=e}setTextRenderingMode(e){this.current.textRenderingMode=e}setHScale(e){this.current.textHScale=e/100}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[n,_]of e)switch(n){case"LW":this.setLineWidth(_);break;case"LC":this.setLineCap(_);break;case"LJ":this.setLineJoin(_);break;case"ML":this.setMiterLimit(_);break;case"D":this.setDash(_[0],_[1]);break;case"RI":this.setRenderingIntent(_);break;case"FL":this.setFlatness(_);break;case"Font":this.setFont(_);break;case"CA":this.setStrokeAlpha(_);break;case"ca":this.setFillAlpha(_);break;default:(0,w.warn)(`Unimplemented graphic state operator ${n}`)}}fill(){const e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}stroke(){const e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(e,n=1){const _=this.current;let L=_.dashArray;1!==n&&L.length>0&&(L=L.map(function(F){return n*F})),e.setAttributeNS(null,"stroke",_.strokeColor),e.setAttributeNS(null,"stroke-opacity",_.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",r(_.miterLimit)),e.setAttributeNS(null,"stroke-linecap",_.lineCap),e.setAttributeNS(null,"stroke-linejoin",_.lineJoin),e.setAttributeNS(null,"stroke-width",r(n*_.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",L.map(r).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",r(n*_.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(e)}paintImageXObject(e){const n=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);n?this.paintInlineImageXObject(n):(0,w.warn)(`Dependent image with object ID ${e} is not ready yet`)}paintInlineImageXObject(e,n){const _=e.width,L=e.height,F=S(e,this.forceDataSchema,!!n),W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y","0"),W.setAttributeNS(null,"width",r(_)),W.setAttributeNS(null,"height",r(L)),this.current.element=W,this.clip("nonzero");const V=this.svgFactory.createElement("svg:image");V.setAttributeNS(s,"xlink:href",F),V.setAttributeNS(null,"x","0"),V.setAttributeNS(null,"y",r(-L)),V.setAttributeNS(null,"width",r(_)+"px"),V.setAttributeNS(null,"height",r(L)+"px"),V.setAttributeNS(null,"transform",`scale(${r(1/_)} ${r(-1/L)})`),n?n.append(V):this._ensureTransformGroup().append(V)}paintImageMaskXObject(e){const n=this.current,_=e.width,L=e.height,F=n.fillColor;n.maskId="mask"+b++;const W=this.svgFactory.createElement("svg:mask");W.setAttributeNS(null,"id",n.maskId);const V=this.svgFactory.createElement("svg:rect");V.setAttributeNS(null,"x","0"),V.setAttributeNS(null,"y","0"),V.setAttributeNS(null,"width",r(_)),V.setAttributeNS(null,"height",r(L)),V.setAttributeNS(null,"fill",F),V.setAttributeNS(null,"mask",`url(#${n.maskId})`),this.defs.append(W),this._ensureTransformGroup().append(V),this.paintInlineImageXObject(e,W)}paintFormXObjectBegin(e,n){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),n){const _=n[2]-n[0],L=n[3]-n[1],F=this.svgFactory.createElement("svg:rect");F.setAttributeNS(null,"x",n[0]),F.setAttributeNS(null,"y",n[1]),F.setAttributeNS(null,"width",r(_)),F.setAttributeNS(null,"height",r(L)),this.current.element=F,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(e){const n=this.svgFactory.create(e.width,e.height),_=this.svgFactory.createElement("svg:defs");n.append(_),this.defs=_;const L=this.svgFactory.createElement("svg:g");return L.setAttributeNS(null,"transform",v(e.transform)),n.append(L),this.svg=L,n}_ensureClipGroup(){if(!this.current.clipGroup){const e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(e),this.current.clipGroup=e}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",v(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFNodeStream=void 0;var p=N(1),w=N(33);const B=__webpack_require__(172),U=__webpack_require__(2001),G=__webpack_require__(3779),x=__webpack_require__(6558),s=/^file:\/\/\/[a-zA-Z]:\//;u.PDFNodeStream=class a{constructor(d){this.source=d,this.url=function f(b){const d=x.parse(b);return"file:"===d.protocol||d.host?d:/^[a-z]:[/\\]/i.test(b)?x.parse(`file:///${b}`):(d.host||(d.protocol="file:"),d)}(d.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&d.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new v(this):new o(this),this._fullRequestReader}getRangeReader(d,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new y(this,d,e):new r(this,d,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(d){this._fullRequestReader&&this._fullRequestReader.cancel(d);for(const e of this._rangeRequestReaders.slice(0))e.cancel(d)}};class l{constructor(d){this._url=d.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=d.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._headersCapability=(0,p.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var d=this;return _asyncToGenerator(function*(){if(yield d._readCapability.promise,d._done)return{value:void 0,done:!0};if(d._storedError)throw d._storedError;const e=d._readableStream.read();return null===e?(d._readCapability=(0,p.createPromiseCapability)(),d.read()):(d._loaded+=e.length,d.onProgress&&d.onProgress({loaded:d._loaded,total:d._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(d){this._readableStream?this._readableStream.destroy(d):this._error(d)}_error(d){this._storedError=d,this._readCapability.resolve()}_setReadableStream(d){this._readableStream=d,d.on("readable",()=>{this._readCapability.resolve()}),d.on("end",()=>{d.destroy(),this._done=!0,this._readCapability.resolve()}),d.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new p.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class S{constructor(d){this._url=d.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!d.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var d=this;return _asyncToGenerator(function*(){if(yield d._readCapability.promise,d._done)return{value:void 0,done:!0};if(d._storedError)throw d._storedError;const e=d._readableStream.read();return null===e?(d._readCapability=(0,p.createPromiseCapability)(),d.read()):(d._loaded+=e.length,d.onProgress&&d.onProgress({loaded:d._loaded}),{value:new Uint8Array(e).buffer,done:!1})})()}cancel(d){this._readableStream?this._readableStream.destroy(d):this._error(d)}_error(d){this._storedError=d,this._readCapability.resolve()}_setReadableStream(d){this._readableStream=d,d.on("readable",()=>{this._readCapability.resolve()}),d.on("end",()=>{d.destroy(),this._done=!0,this._readCapability.resolve()}),d.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function h(b,d){return{protocol:b.protocol,auth:b.auth,host:b.hostname,port:b.port,path:b.path,method:"GET",headers:d}}class o extends l{constructor(d){super(d);const e=n=>{if(404===n.statusCode){const W=new p.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=W,void this._headersCapability.reject(W)}this._headersCapability.resolve(),this._setReadableStream(n);const _=W=>this._readableStream.headers[W.toLowerCase()],{allowRangeRequests:L,suggestedLength:F}=(0,w.validateRangeRequestCapabilities)({getResponseHeader:_,isHttp:d.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=L,this._contentLength=F||this._contentLength,this._filename=(0,w.extractFilenameFromHeader)(_)};this._request=null,this._request="http:"===this._url.protocol?U.request(h(this._url,d.httpHeaders),e):G.request(h(this._url,d.httpHeaders),e),this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class r extends S{constructor(d,e,n){super(d),this._httpHeaders={};for(const L in d.httpHeaders){const F=d.httpHeaders[L];typeof F>"u"||(this._httpHeaders[L]=F)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const _=L=>{if(404!==L.statusCode)this._setReadableStream(L);else{const F=new p.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=F}};this._request=null,this._request="http:"===this._url.protocol?U.request(h(this._url,this._httpHeaders),_):G.request(h(this._url,this._httpHeaders),_),this._request.on("error",L=>{this._storedError=L}),this._request.end()}}class v extends l{constructor(d){super(d);let e=decodeURIComponent(this._url.path);s.test(this._url.href)&&(e=e.replace(/^\//,"")),B.lstat(e,(n,_)=>{if(n)return"ENOENT"===n.code&&(n=new p.MissingPDFException(`Missing PDF "${e}".`)),this._storedError=n,void this._headersCapability.reject(n);this._contentLength=_.size,this._setReadableStream(B.createReadStream(e)),this._headersCapability.resolve()})}}class y extends S{constructor(d,e,n){super(d);let _=decodeURIComponent(this._url.path);s.test(this._url.href)&&(_=_.replace(/^\//,"")),this._setReadableStream(B.createReadStream(_,{start:e,end:n-1}))}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.createResponseStatusError=function x(f,a){return 404===f||0===f&&a.startsWith("file:")?new p.MissingPDFException('Missing PDF "'+a+'".'):new p.UnexpectedResponseException(`Unexpected server response (${f}) while retrieving PDF "${a}".`,f)},u.extractFilenameFromHeader=function G(f){const a=f("Content-Disposition");if(a){let l=(0,w.getFilenameFromContentDispositionHeader)(a);if(l.includes("%"))try{l=decodeURIComponent(l)}catch{}if((0,B.isPdfFile)(l))return l}return null},u.validateRangeRequestCapabilities=function U({getResponseHeader:f,isHttp:a,rangeChunkSize:l,disableRange:S}){const h={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(f("Content-Length"),10);return!Number.isInteger(o)||(h.suggestedLength=o,o<=2*l)||S||!a||"bytes"!==f("Accept-Ranges")||"identity"!==(f("Content-Encoding")||"identity")||(h.allowRangeRequests=!0),h},u.validateResponseStatus=function s(f){return 200===f||206===f};var p=N(1),w=N(34),B=N(8)},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.getFilenameFromContentDispositionHeader=function w(B){let U=!0,G=x("filename\\*","i").exec(B);if(G){G=G[1];let o=l(G);return o=unescape(o),o=S(o),o=h(o),f(o)}if(G=function a(o){const r=[];let v;const y=x("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(v=y.exec(o));){let[,d,e,n]=v;if(d=parseInt(d,10),d in r){if(0===d)break}else r[d]=[e,n]}const b=[];for(let d=0;d<r.length&&d in r;++d){let[e,n]=r[d];n=l(n),e&&(n=unescape(n),0===d&&(n=S(n))),b.push(n)}return b.join("")}(B),G)return f(h(G));if(G=x("filename","i").exec(B),G){G=G[1];let o=l(G);return o=h(o),f(o)}function x(o,r){return new RegExp("(?:^|;)\\s*"+o+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function s(o,r){if(o){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const v=new TextDecoder(o,{fatal:!0}),y=(0,p.stringToBytes)(r);r=v.decode(y),U=!1}catch{}}return r}function f(o){return U&&/[\x80-\xff]/.test(o)&&(o=s("utf-8",o),U&&(o=s("iso-8859-1",o))),o}function l(o){if(o.startsWith('"')){const r=o.slice(1).split('\\"');for(let v=0;v<r.length;++v){const y=r[v].indexOf('"');-1!==y&&(r[v]=r[v].slice(0,y),r.length=v+1),r[v]=r[v].replace(/\\(.)/g,"$1")}o=r.join('"')}return o}function S(o){const r=o.indexOf("'");return-1===r?o:s(o.slice(0,r),o.slice(r+1).replace(/^[^']*'/,""))}function h(o){return!o.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(o)?o:o.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(r,v,y,b){if("q"===y||"Q"===y)return s(v,b=(b=b.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(d,e){return String.fromCharCode(parseInt(e,16))}));try{b=atob(b)}catch{}return s(v,b)})}return""};var p=N(1)},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFNetworkStream=void 0;var p=N(1),w=N(33);class x{constructor(S,h={}){this.url=S,this.isHttp=/^https?:/i.test(S),this.httpHeaders=this.isHttp&&h.httpHeaders||Object.create(null),this.withCredentials=h.withCredentials||!1,this.getXhr=h.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(S,h,o){const r={begin:S,end:h};for(const v in o)r[v]=o[v];return this.request(r)}requestFull(S){return this.request(S)}request(S){const h=this.getXhr(),o=this.currXhrId++,r=this.pendingRequests[o]={xhr:h};h.open("GET",this.url),h.withCredentials=this.withCredentials;for(const v in this.httpHeaders){const y=this.httpHeaders[v];typeof y>"u"||h.setRequestHeader(v,y)}return this.isHttp&&"begin"in S&&"end"in S?(h.setRequestHeader("Range",`bytes=${S.begin}-${S.end-1}`),r.expectedStatus=206):r.expectedStatus=200,h.responseType="arraybuffer",S.onError&&(h.onerror=function(v){S.onError(h.status)}),h.onreadystatechange=this.onStateChange.bind(this,o),h.onprogress=this.onProgress.bind(this,o),r.onHeadersReceived=S.onHeadersReceived,r.onDone=S.onDone,r.onError=S.onError,r.onProgress=S.onProgress,h.send(null),o}onProgress(S,h){const o=this.pendingRequests[S];o&&o.onProgress?.(h)}onStateChange(S,h){const o=this.pendingRequests[S];if(!o)return;const r=o.xhr;if(r.readyState>=2&&o.onHeadersReceived&&(o.onHeadersReceived(),delete o.onHeadersReceived),4!==r.readyState||!(S in this.pendingRequests))return;if(delete this.pendingRequests[S],0===r.status&&this.isHttp)return void o.onError?.(r.status);const v=r.status||200;if((200!==v||206!==o.expectedStatus)&&v!==o.expectedStatus)return void o.onError?.(r.status);const b=function G(l){const S=l.response;return"string"!=typeof S?S:(0,p.stringToBytes)(S).buffer}(r);if(206===v){const d=r.getResponseHeader("Content-Range"),e=/bytes (\d+)-(\d+)\/(\d+)/.exec(d);o.onDone({begin:parseInt(e[1],10),chunk:b})}else b?o.onDone({begin:0,chunk:b}):o.onError?.(r.status)}getRequestXhr(S){return this.pendingRequests[S].xhr}isPendingRequest(S){return S in this.pendingRequests}abortRequest(S){const h=this.pendingRequests[S].xhr;delete this.pendingRequests[S],h.abort()}}u.PDFNetworkStream=class s{constructor(S){this._source=S,this._manager=new x(S.url,{httpHeaders:S.httpHeaders,withCredentials:S.withCredentials}),this._rangeChunkSize=S.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(S){const h=this._rangeRequestReaders.indexOf(S);h>=0&&this._rangeRequestReaders.splice(h,1)}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new f(this._manager,this._source),this._fullRequestReader}getRangeReader(S,h){const o=new a(this._manager,S,h);return o.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(o),o}cancelAllRequests(S){this._fullRequestReader?.cancel(S);for(const h of this._rangeRequestReaders.slice(0))h.cancel(S)}};class f{constructor(S,h){this._manager=S;const o={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=h.url,this._fullRequestId=S.requestFull(o),this._headersReceivedCapability=(0,p.createPromiseCapability)(),this._disableRange=h.disableRange||!1,this._contentLength=h.length,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const S=this._fullRequestId,h=this._manager.getRequestXhr(S),o=y=>h.getResponseHeader(y),{allowRangeRequests:r,suggestedLength:v}=(0,w.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=v||this._contentLength,this._filename=(0,w.extractFilenameFromHeader)(o),this._isRangeSupported&&this._manager.abortRequest(S),this._headersReceivedCapability.resolve()}_onDone(S){if(S&&(this._requests.length>0?this._requests.shift().resolve({value:S.chunk,done:!1}):this._cachedChunks.push(S.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(S){this._storedError=(0,w.createResponseStatusError)(S,this._url),this._headersReceivedCapability.reject(this._storedError);for(const h of this._requests)h.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(S){this.onProgress?.({loaded:S.loaded,total:S.lengthComputable?S.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var S=this;return _asyncToGenerator(function*(){if(S._storedError)throw S._storedError;if(S._cachedChunks.length>0)return{value:S._cachedChunks.shift(),done:!1};if(S._done)return{value:void 0,done:!0};const h=(0,p.createPromiseCapability)();return S._requests.push(h),h.promise})()}cancel(S){this._done=!0,this._headersReceivedCapability.reject(S);for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class a{constructor(S,h,o){this._manager=S;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._requestId=S.requestRange(h,o,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(S){const h=S.chunk;this._requests.length>0?this._requests.shift().resolve({value:h,done:!1}):this._queuedChunk=h,this._done=!0;for(const o of this._requests)o.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(S){this._storedError=(0,w.createResponseStatusError)(S,this._url);for(const h of this._requests)h.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(S){this.isStreamingSupported||this.onProgress?.({loaded:S.loaded})}get isStreamingSupported(){return!1}read(){var S=this;return _asyncToGenerator(function*(){if(S._storedError)throw S._storedError;if(null!==S._queuedChunk){const o=S._queuedChunk;return S._queuedChunk=null,{value:o,done:!1}}if(S._done)return{value:void 0,done:!0};const h=(0,p.createPromiseCapability)();return S._requests.push(h),h.promise})()}cancel(S){this._done=!0;for(const h of this._requests)h.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(se,u,N)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.PDFFetchStream=void 0;var p=N(1),w=N(33);function B(f,a,l){return{method:"GET",headers:f,signal:l.signal,mode:"cors",credentials:a?"include":"same-origin",redirect:"follow"}}function U(f){const a=new Headers;for(const l in f){const S=f[l];typeof S>"u"||a.append(l,S)}return a}u.PDFFetchStream=class G{constructor(a){this.source=a,this.isHttp=/^https?:/i.test(a.url),this.httpHeaders=this.isHttp&&a.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,p.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new x(this),this._fullRequestReader}getRangeReader(a,l){if(l<=this._progressiveDataLength)return null;const S=new s(this,a,l);return this._rangeRequestReaders.push(S),S}cancelAllRequests(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);for(const l of this._rangeRequestReaders.slice(0))l.cancel(a)}};class x{constructor(a){this._stream=a,this._reader=null,this._loaded=0,this._filename=null;const l=a.source;this._withCredentials=l.withCredentials||!1,this._contentLength=l.length,this._headersCapability=(0,p.createPromiseCapability)(),this._disableRange=l.disableRange||!1,this._rangeChunkSize=l.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!l.disableStream,this._isRangeSupported=!l.disableRange,this._headers=U(this._stream.httpHeaders);const S=l.url;fetch(S,B(this._headers,this._withCredentials,this._abortController)).then(h=>{if(!(0,w.validateResponseStatus)(h.status))throw(0,w.createResponseStatusError)(h.status,S);this._reader=h.body.getReader(),this._headersCapability.resolve();const o=y=>h.headers.get(y),{allowRangeRequests:r,suggestedLength:v}=(0,w.validateRangeRequestCapabilities)({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=v||this._contentLength,this._filename=(0,w.extractFilenameFromHeader)(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new p.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var a=this;return _asyncToGenerator(function*(){yield a._headersCapability.promise;const{value:l,done:S}=yield a._reader.read();return S?{value:l,done:S}:(a._loaded+=l.byteLength,a.onProgress&&a.onProgress({loaded:a._loaded,total:a._contentLength}),{value:new Uint8Array(l).buffer,done:!1})})()}cancel(a){this._reader&&this._reader.cancel(a),this._abortController.abort()}}class s{constructor(a,l,S){this._stream=a,this._reader=null,this._loaded=0;const h=a.source;this._withCredentials=h.withCredentials||!1,this._readCapability=(0,p.createPromiseCapability)(),this._isStreamingSupported=!h.disableStream,this._abortController=new AbortController,this._headers=U(this._stream.httpHeaders),this._headers.append("Range",`bytes=${l}-${S-1}`);const o=h.url;fetch(o,B(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!(0,w.validateResponseStatus)(r.status))throw(0,w.createResponseStatusError)(r.status,o);this._readCapability.resolve(),this._reader=r.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var a=this;return _asyncToGenerator(function*(){yield a._readCapability.promise;const{value:l,done:S}=yield a._reader.read();return S?{value:l,done:S}:(a._loaded+=l.byteLength,a.onProgress&&a.onProgress({loaded:a._loaded}),{value:new Uint8Array(l).buffer,done:!1})})()}cancel(a){this._reader&&this._reader.cancel(a),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(se){var u=__webpack_module_cache__[se];if(void 0!==u)return u.exports;var N=__webpack_module_cache__[se]={exports:{}};return __webpack_modules__[se](N,N.exports,__w_pdfjs_require__),N.exports}var __nested_webpack_exports__={};return(()=>{var se=__nested_webpack_exports__;Object.defineProperty(se,"__esModule",{value:!0}),Object.defineProperty(se,"AnnotationEditorLayer",{enumerable:!0,get:function(){return w.AnnotationEditorLayer}}),Object.defineProperty(se,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return u.AnnotationEditorParamsType}}),Object.defineProperty(se,"AnnotationEditorType",{enumerable:!0,get:function(){return u.AnnotationEditorType}}),Object.defineProperty(se,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return B.AnnotationEditorUIManager}}),Object.defineProperty(se,"AnnotationLayer",{enumerable:!0,get:function(){return U.AnnotationLayer}}),Object.defineProperty(se,"AnnotationMode",{enumerable:!0,get:function(){return u.AnnotationMode}}),Object.defineProperty(se,"CMapCompressionType",{enumerable:!0,get:function(){return u.CMapCompressionType}}),Object.defineProperty(se,"GlobalWorkerOptions",{enumerable:!0,get:function(){return G.GlobalWorkerOptions}}),Object.defineProperty(se,"InvalidPDFException",{enumerable:!0,get:function(){return u.InvalidPDFException}}),Object.defineProperty(se,"LoopbackPort",{enumerable:!0,get:function(){return N.LoopbackPort}}),Object.defineProperty(se,"MissingPDFException",{enumerable:!0,get:function(){return u.MissingPDFException}}),Object.defineProperty(se,"OPS",{enumerable:!0,get:function(){return u.OPS}}),Object.defineProperty(se,"PDFDataRangeTransport",{enumerable:!0,get:function(){return N.PDFDataRangeTransport}}),Object.defineProperty(se,"PDFDateString",{enumerable:!0,get:function(){return p.PDFDateString}}),Object.defineProperty(se,"PDFWorker",{enumerable:!0,get:function(){return N.PDFWorker}}),Object.defineProperty(se,"PasswordResponses",{enumerable:!0,get:function(){return u.PasswordResponses}}),Object.defineProperty(se,"PermissionFlag",{enumerable:!0,get:function(){return u.PermissionFlag}}),Object.defineProperty(se,"PixelsPerInch",{enumerable:!0,get:function(){return p.PixelsPerInch}}),Object.defineProperty(se,"RenderingCancelledException",{enumerable:!0,get:function(){return p.RenderingCancelledException}}),Object.defineProperty(se,"SVGGraphics",{enumerable:!0,get:function(){return f.SVGGraphics}}),Object.defineProperty(se,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return u.UNSUPPORTED_FEATURES}}),Object.defineProperty(se,"UnexpectedResponseException",{enumerable:!0,get:function(){return u.UnexpectedResponseException}}),Object.defineProperty(se,"Util",{enumerable:!0,get:function(){return u.Util}}),Object.defineProperty(se,"VerbosityLevel",{enumerable:!0,get:function(){return u.VerbosityLevel}}),Object.defineProperty(se,"XfaLayer",{enumerable:!0,get:function(){return a.XfaLayer}}),Object.defineProperty(se,"build",{enumerable:!0,get:function(){return N.build}}),Object.defineProperty(se,"createPromiseCapability",{enumerable:!0,get:function(){return u.createPromiseCapability}}),Object.defineProperty(se,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return u.createValidAbsoluteUrl}}),Object.defineProperty(se,"getDocument",{enumerable:!0,get:function(){return N.getDocument}}),Object.defineProperty(se,"getFilenameFromUrl",{enumerable:!0,get:function(){return p.getFilenameFromUrl}}),Object.defineProperty(se,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return p.getPdfFilenameFromUrl}}),Object.defineProperty(se,"getXfaPageViewport",{enumerable:!0,get:function(){return p.getXfaPageViewport}}),Object.defineProperty(se,"isPdfFile",{enumerable:!0,get:function(){return p.isPdfFile}}),Object.defineProperty(se,"loadScript",{enumerable:!0,get:function(){return p.loadScript}}),Object.defineProperty(se,"renderTextLayer",{enumerable:!0,get:function(){return s.renderTextLayer}}),Object.defineProperty(se,"shadow",{enumerable:!0,get:function(){return u.shadow}}),Object.defineProperty(se,"version",{enumerable:!0,get:function(){return N.version}});var u=__w_pdfjs_require__(1),N=__w_pdfjs_require__(4),p=__w_pdfjs_require__(8),w=__w_pdfjs_require__(22),B=__w_pdfjs_require__(7),U=__w_pdfjs_require__(27),G=__w_pdfjs_require__(15),x=__w_pdfjs_require__(3),s=__w_pdfjs_require__(30),f=__w_pdfjs_require__(31),a=__w_pdfjs_require__(29);if(x.isNodeJS){const{PDFNodeStream:h}=__w_pdfjs_require__(32);(0,N.setPDFNetworkStreamFactory)(o=>new h(o))}else{const{PDFNetworkStream:h}=__w_pdfjs_require__(35),{PDFFetchStream:o}=__w_pdfjs_require__(36);(0,N.setPDFNetworkStreamFactory)(r=>(0,p.isValidFetchUrl)(r.url)?new o(r):new h(r))}})(),__nested_webpack_exports__})(),module.exports=N()},1016:(se,u,N)=>{var p=N(7156).default;globalThis,se.exports=(()=>{"use strict";var w=[,(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DefaultXfaLayerFactory=s.DefaultTextLayerFactory=s.DefaultStructTreeLayerFactory=s.DefaultAnnotationLayerFactory=s.DefaultAnnotationEditorLayerFactory=void 0;var a=f(2),l=f(5),S=f(4),h=f(6),o=f(8),r=f(9),v=f(10);s.DefaultAnnotationLayerFactory=class y{createAnnotationLayerBuilder({pageDiv:L,pdfPage:F,annotationStorage:W=null,imageResourcesPath:V="",renderForms:ie=!0,l10n:Q=S.NullL10n,enableScripting:P=!1,hasJSActionsPromise:R=null,mouseState:D=null,fieldObjectsPromise:M=null,annotationCanvasMap:T=null,accessibilityManager:m=null}){return new l.AnnotationLayerBuilder({pageDiv:L,pdfPage:F,imageResourcesPath:V,renderForms:ie,linkService:new h.SimpleLinkService,l10n:Q,annotationStorage:W,enableScripting:P,hasJSActionsPromise:R,fieldObjectsPromise:M,mouseState:D,annotationCanvasMap:T,accessibilityManager:m})}},s.DefaultAnnotationEditorLayerFactory=class b{createAnnotationEditorLayerBuilder({uiManager:L=null,pageDiv:F,pdfPage:W,accessibilityManager:V=null,l10n:ie,annotationStorage:Q=null}){return new a.AnnotationEditorLayerBuilder({uiManager:L,pageDiv:F,pdfPage:W,accessibilityManager:V,l10n:ie,annotationStorage:Q})}},s.DefaultStructTreeLayerFactory=class d{createStructTreeLayerBuilder({pdfPage:L}){return new o.StructTreeLayerBuilder({pdfPage:L})}},s.DefaultTextLayerFactory=class e{createTextLayerBuilder({textLayerDiv:L,pageIndex:F,viewport:W,enhanceTextSelection:V=!1,eventBus:ie,highlighter:Q,accessibilityManager:P=null}){return new r.TextLayerBuilder({textLayerDiv:L,pageIndex:F,viewport:W,enhanceTextSelection:V,eventBus:ie,highlighter:Q,accessibilityManager:P})}},s.DefaultXfaLayerFactory=class n{createXfaLayerBuilder({pageDiv:L,pdfPage:F,annotationStorage:W=null}){return new v.XfaLayerBuilder({pageDiv:L,pdfPage:F,annotationStorage:W,linkService:new h.SimpleLinkService})}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationEditorLayerBuilder=void 0;var a=f(3),l=f(4);s.AnnotationEditorLayerBuilder=class S{#e;constructor(o){this.pageDiv=o.pageDiv,this.pdfPage=o.pdfPage,this.annotationStorage=o.annotationStorage||null,this.accessibilityManager=o.accessibilityManager,this.l10n=o.l10n||l.NullL10n,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#e=o.uiManager}render(o,r="display"){var v=this;return p(function*(){if("display"!==r||v._cancelled)return;const y=o.clone({dontFlip:!0});if(v.div)return v.annotationEditorLayer.update({viewport:y}),void v.show();v.div=document.createElement("div"),v.div.className="annotationEditorLayer",v.div.tabIndex=0,v.pageDiv.append(v.div),v.annotationEditorLayer=new a.AnnotationEditorLayer({uiManager:v.#e,div:v.div,annotationStorage:v.annotationStorage,accessibilityManager:v.accessibilityManager,pageIndex:v.pdfPage._pageIndex,l10n:v.l10n,viewport:y}),v.annotationEditorLayer.render({viewport:y,div:v.div,annotations:null,intent:r})})()}cancel(){this._cancelled=!0,this.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){this.div&&(this.div.hidden=!1)}destroy(){this.div&&(this.pageDiv=null,this.annotationEditorLayer.destroy(),this.div.remove())}}},x=>{let s;s=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:N(9627),x.exports=s},(x,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.NullL10n=void 0,s.fixupLangCode=function S(r){return l[r?.toLowerCase()]||r},s.getL10nFallback=a;const f={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text_default_content:"Enter text\u2026",editor_free_text_aria_label:"FreeText Editor",editor_ink_aria_label:"Ink Editor",editor_ink_canvas_aria_label:"User-created image"};function a(r,v){switch(r){case"find_match_count":r=`find_match_count[${1===v.total?"one":"other"}]`;break;case"find_match_count_limit":r=`find_match_count_limit[${1===v.limit?"one":"other"}]`}return f[r]||""}const l={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};s.NullL10n={getLanguage:()=>p(function*(){return"en-us"})(),getDirection:()=>p(function*(){return"ltr"})(),get:(r,v=null,y=a(r,v))=>p(function*(){return function h(r,v){return v?r.replace(/\{\{\s*(\w+)\s*\}\}/g,(y,b)=>b in v?v[b]:"{{"+b+"}}"):r}(y,v)})(),translate:r=>p(function*(){})()}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AnnotationLayerBuilder=void 0;var a=f(3),l=f(4);s.AnnotationLayerBuilder=class S{constructor({pageDiv:o,pdfPage:r,linkService:v,downloadManager:y,annotationStorage:b=null,imageResourcesPath:d="",renderForms:e=!0,l10n:n=l.NullL10n,enableScripting:_=!1,hasJSActionsPromise:L=null,fieldObjectsPromise:F=null,mouseState:W=null,annotationCanvasMap:V=null,accessibilityManager:ie=null}){this.pageDiv=o,this.pdfPage=r,this.linkService=v,this.downloadManager=y,this.imageResourcesPath=d,this.renderForms=e,this.l10n=n,this.annotationStorage=b,this.enableScripting=_,this._hasJSActionsPromise=L,this._fieldObjectsPromise=F,this._mouseState=W,this._annotationCanvasMap=V,this._accessibilityManager=ie,this.div=null,this._cancelled=!1}render(o,r="display"){var v=this;return p(function*(){const[y,b=!1,d=null]=yield Promise.all([v.pdfPage.getAnnotations({intent:r}),v._hasJSActionsPromise,v._fieldObjectsPromise]);if(v._cancelled||0===y.length)return;const e={viewport:o.clone({dontFlip:!0}),div:v.div,annotations:y,page:v.pdfPage,imageResourcesPath:v.imageResourcesPath,renderForms:v.renderForms,linkService:v.linkService,downloadManager:v.downloadManager,annotationStorage:v.annotationStorage,enableScripting:v.enableScripting,hasJSActions:b,fieldObjects:d,mouseState:v._mouseState,annotationCanvasMap:v._annotationCanvasMap,accessibilityManager:v._accessibilityManager};v.div?a.AnnotationLayer.update(e):(v.div=document.createElement("div"),v.div.className="annotationLayer",v.pageDiv.append(v.div),e.div=v.div,a.AnnotationLayer.render(e),v.l10n.translate(v.div))})()}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SimpleLinkService=s.PDFLinkService=s.LinkTarget=void 0;var a=f(7);const S={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function h(v,{url:y,target:b,rel:d,enabled:e=!0}={}){if(!y||"string"!=typeof y)throw new Error('A valid "url" parameter must provided.');const n=(0,a.removeNullCharacters)(y);e?v.href=v.title=n:(v.href="",v.title=`Disabled: ${n}`,v.onclick=()=>!1);let _="";switch(b){case S.NONE:break;case S.SELF:_="_self";break;case S.BLANK:_="_blank";break;case S.PARENT:_="_parent";break;case S.TOP:_="_top"}v.target=_,v.rel="string"==typeof d?d:"noopener noreferrer nofollow"}s.LinkTarget=S;class o{#e=new Map;constructor({eventBus:y,externalLinkTarget:b=null,externalLinkRel:d=null,ignoreDestinationZoom:e=!1}={}){this.eventBus=y,this.externalLinkTarget=b,this.externalLinkRel=d,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=e,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(y,b=null){this.baseUrl=b,this.pdfDocument=y,this.#e.clear()}setViewer(y){this.pdfViewer=y}setHistory(y){this.pdfHistory=y}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(y){this.pdfViewer.currentPageNumber=y}get rotation(){return this.pdfViewer.pagesRotation}set rotation(y){this.pdfViewer.pagesRotation=y}#t(y,b=null,d){const e=d[0];let n;if("object"==typeof e&&null!==e){if(n=this._cachedPageNumber(e),!n)return void this.pdfDocument.getPageIndex(e).then(_=>{this.cachePageRef(_+1,e),this.#t(y,b,d)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${e}" is not a valid page reference, for dest="${y}".`)})}else{if(!Number.isInteger(e))return void console.error(`PDFLinkService.#goToDestinationHelper: "${e}" is not a valid destination reference, for dest="${y}".`);n=e+1}!n||n<1||n>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${n}" is not a valid page number, for dest="${y}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:b,explicitDest:d,pageNumber:n})),this.pdfViewer.scrollPageIntoView({pageNumber:n,destArray:d,ignoreDestinationZoom:this._ignoreDestinationZoom}))}goToDestination(y){var b=this;return p(function*(){if(!b.pdfDocument)return;let d,e;"string"==typeof y?(d=y,e=yield b.pdfDocument.getDestination(y)):(d=null,e=yield y),Array.isArray(e)?b.#t(y,d,e):console.error(`PDFLinkService.goToDestination: "${e}" is not a valid destination array, for dest="${y}".`)})()}goToPage(y){if(!this.pdfDocument)return;const b="string"==typeof y&&this.pdfViewer.pageLabelToPageNumber(y)||0|y;Number.isInteger(b)&&b>0&&b<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(b)),this.pdfViewer.scrollPageIntoView({pageNumber:b})):console.error(`PDFLinkService.goToPage: "${y}" is not a valid page.`)}addLinkAttributes(y,b,d=!1){h(y,{url:b,target:d?S.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(y){if("string"==typeof y){if(y.length>0)return this.getAnchorUrl("#"+escape(y))}else if(Array.isArray(y)){const b=JSON.stringify(y);if(b.length>0)return this.getAnchorUrl("#"+escape(b))}return this.getAnchorUrl("")}getAnchorUrl(y){return(this.baseUrl||"")+y}setHash(y){if(!this.pdfDocument)return;let b,d;if(y.includes("=")){const e=(0,a.parseQueryString)(y);if(e.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:e.get("search").replace(/"/g,""),phraseSearch:"true"===e.get("phrase")}),e.has("page")&&(b=0|e.get("page")||1),e.has("zoom")){const n=e.get("zoom").split(","),_=n[0],L=parseFloat(_);_.includes("Fit")?"Fit"===_||"FitB"===_?d=[null,{name:_}]:"FitH"===_||"FitBH"===_||"FitV"===_||"FitBV"===_?d=[null,{name:_},n.length>1?0|n[1]:null]:"FitR"===_?5!==n.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):d=[null,{name:_},0|n[1],0|n[2],0|n[3],0|n[4]]:console.error(`PDFLinkService.setHash: "${_}" is not a valid zoom value.`):d=[null,{name:"XYZ"},n.length>1?0|n[1]:null,n.length>2?0|n[2]:null,L?L/100:_]}d?this.pdfViewer.scrollPageIntoView({pageNumber:b||this.page,destArray:d,allowNegativeOffset:!0}):b&&(this.page=b),e.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:e.get("pagemode")}),e.has("nameddest")&&this.goToDestination(e.get("nameddest"))}else{d=unescape(y);try{d=JSON.parse(d),Array.isArray(d)||(d=d.toString())}catch{}if("string"==typeof d||o.#n(d))return void this.goToDestination(d);console.error(`PDFLinkService.setHash: "${unescape(y)}" is not a valid destination.`)}}executeNamedAction(y){switch(y){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:y})}cachePageRef(y,b){b&&this.#e.set(0===b.gen?`${b.num}R`:`${b.num}R${b.gen}`,y)}_cachedPageNumber(y){return y&&this.#e.get(0===y.gen?`${y.num}R`:`${y.num}R${y.gen}`)||null}isPageVisible(y){return this.pdfViewer.isPageVisible(y)}isPageCached(y){return this.pdfViewer.isPageCached(y)}static#n(y){if(!Array.isArray(y))return!1;const b=y.length;if(b<2)return!1;const d=y[0];if(!("object"==typeof d&&Number.isInteger(d.num)&&Number.isInteger(d.gen)||Number.isInteger(d)&&d>=0))return!1;const e=y[1];if("object"!=typeof e||"string"!=typeof e.name)return!1;let n=!0;switch(e.name){case"XYZ":if(5!==b)return!1;break;case"Fit":case"FitB":return 2===b;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==b)return!1;break;case"FitR":if(6!==b)return!1;n=!1;break;default:return!1}for(let _=2;_<b;_++){const L=y[_];if(!("number"==typeof L||n&&null===L))return!1}return!0}}s.PDFLinkService=o,s.SimpleLinkService=class r{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(y){}get rotation(){return 0}set rotation(y){}goToDestination(y){return p(function*(){})()}goToPage(y){}addLinkAttributes(y,b,d=!1){h(y,{url:b,enabled:this.externalLinkEnabled})}getDestinationHash(y){return"#"}getAnchorUrl(y){return"#"}setHash(y){}executeNamedAction(y){}cachePageRef(y,b){}isPageVisible(y){return!0}isPageCached(y){return!0}}},(x,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.animationStarted=s.VERTICAL_PADDING=s.UNKNOWN_SCALE=s.TextLayerMode=s.SpreadMode=s.SidebarView=s.ScrollMode=s.SCROLLBAR_PADDING=s.RenderingStates=s.RendererType=s.ProgressBar=s.PresentationModeState=s.OutputScale=s.MIN_SCALE=s.MAX_SCALE=s.MAX_AUTO_SCALE=s.DEFAULT_SCALE_VALUE=s.DEFAULT_SCALE_DELTA=s.DEFAULT_SCALE=s.AutoPrintRegExp=void 0,s.apiPageLayoutToViewerModes=function X(k){let z=L.VERTICAL,ee=F.NONE;switch(k){case"SinglePage":z=L.PAGE;break;case"OneColumn":break;case"TwoPageLeft":z=L.PAGE;case"TwoColumnLeft":ee=F.ODD;break;case"TwoPageRight":z=L.PAGE;case"TwoColumnRight":ee=F.EVEN}return{scrollMode:z,spreadMode:ee}},s.apiPageModeToSidebarView=function te(k){switch(k){case"UseNone":return e.NONE;case"UseThumbs":return e.THUMBS;case"UseOutlines":return e.OUTLINE;case"UseAttachments":return e.ATTACHMENTS;case"UseOC":return e.LAYERS}return e.NONE},s.approximateFraction=function m(k){if(Math.floor(k)===k)return[k,1];const z=1/k;if(z>8)return[1,8];if(Math.floor(z)===z)return[1,z];const K=k>1?z:k;let fe,oe=0,ce=1,le=1,de=1;for(;;){const me=oe+le,_e=ce+de;if(_e>8)break;K<=me/_e?(le=me,de=_e):(oe=me,ce=_e)}return fe=K-oe/ce<le/de-K?K===k?[oe,ce]:[ce,oe]:K===k?[le,de]:[de,le],fe},s.backtrackBeforeAllVisibleElements=C,s.binarySearchFirstItem=T,s.docStyle=void 0,s.getActiveOrFocusedElement=function ae(){let k=document,z=k.activeElement||k.querySelector(":focus");for(;z?.shadowRoot;)k=z.shadowRoot,z=k.activeElement||k.querySelector(":focus");return z},s.getPageSizeInches=function c({view:k,userUnit:z,rotate:ee}){const[K,oe,ce,le]=k,de=ee%180!=0,fe=(ce-K)/72*z,me=(le-oe)/72*z;return{width:de?me:fe,height:de?fe:me}},s.getVisibleElements=function A({scrollEl:k,views:z,sortByVisibility:ee=!1,horizontal:K=!1,rtl:oe=!1}){const ce=k.scrollTop,le=ce+k.clientHeight,de=k.scrollLeft,fe=de+k.clientWidth,Pe=[],ye=new Set,be=z.length;let we=T(z,K?function _e(Ce){const ve=Ce.div,re=ve.offsetLeft+ve.clientLeft;return oe?re<fe:re+ve.clientWidth>de}:function me(Ce){const ve=Ce.div;return ve.offsetTop+ve.clientTop+ve.clientHeight>ce});we>0&&we<be&&!K&&(we=C(we,z,ce));let Re=K?fe:-1;for(let Ce=we;Ce<be;Ce++){const ve=z[Ce],re=ve.div,J=re.offsetLeft+re.clientLeft,Z=re.offsetTop+re.clientTop,he=re.clientWidth,ue=re.clientHeight,ge=J+he,pe=Z+ue;if(-1===Re)pe>=le&&(Re=pe);else if((K?J:Z)>Re)break;if(pe<=ce||Z>=le||ge<=de||J>=fe)continue;const xe=Math.max(0,ce-Z)+Math.max(0,pe-le),Se=(he-(Math.max(0,de-J)+Math.max(0,ge-fe)))/he;Pe.push({id:ve.id,x:J,y:Z,view:ve,percent:(ue-xe)/ue*Se*100|0,widthPercent:100*Se|0}),ye.add(ve.id)}const Be=Pe[0],Ve=Pe.at(-1);return ee&&Pe.sort(function(Ce,ve){const re=Ce.percent-ve.percent;return Math.abs(re)>.001?-re:Ce.id-ve.id}),{first:Be,last:Ve,views:Pe,ids:ye}},s.isPortraitOrientation=function H(k){return k.width<=k.height},s.isValidRotation=function O(k){return Number.isInteger(k)&&k%90==0},s.isValidScrollMode=function I(k){return Number.isInteger(k)&&Object.values(L).includes(k)&&k!==L.UNKNOWN},s.isValidSpreadMode=function j(k){return Number.isInteger(k)&&Object.values(F).includes(k)&&k!==F.UNKNOWN},s.noContextMenuHandler=function t(k){k.preventDefault()},s.normalizeWheelEventDelta=function E(k){let z=g(k);return 0===k.deltaMode?z/=900:1===k.deltaMode&&(z/=30),z},s.normalizeWheelEventDirection=g,s.parseQueryString=function P(k){const z=new Map;for(const[ee,K]of new URLSearchParams(k))z.set(ee.toLowerCase(),K);return z},s.removeNullCharacters=function M(k,z=!1){return"string"!=typeof k?(console.error("The argument must be a string."),k):(z&&(k=k.replace(D," ")),k.replace(R,""))},s.roundToDivide=function i(k,z){const ee=k%z;return 0===ee?k:Math.round(k-ee+z)},s.scrollIntoView=function ie(k,z,ee=!1){let K=k.offsetParent;if(!K)return void console.error("offsetParent is not set -- cannot scroll");let oe=k.offsetTop+k.clientTop,ce=k.offsetLeft+k.clientLeft;for(;K.clientHeight===K.scrollHeight&&K.clientWidth===K.scrollWidth||ee&&(K.classList.contains("markedContent")||"hidden"===getComputedStyle(K).overflow);)if(oe+=K.offsetTop,ce+=K.offsetLeft,K=K.offsetParent,!K)return;z&&(void 0!==z.top&&(oe+=z.top),void 0!==z.left&&(ce+=z.left,K.scrollLeft=ce)),K.scrollTop=oe},s.watchScroll=function Q(k,z){const ee=function(ce){oe||(oe=window.requestAnimationFrame(function(){oe=null;const de=k.scrollLeft,fe=K.lastX;de!==fe&&(K.right=de>fe),K.lastX=de;const me=k.scrollTop,_e=K.lastY;me!==_e&&(K.down=me>_e),K.lastY=me,z(K)}))},K={right:!0,down:!0,lastX:k.scrollLeft,lastY:k.scrollTop,_eventHandler:ee};let oe=null;return k.addEventListener("scroll",ee,!0),K},s.DEFAULT_SCALE_VALUE="auto",s.DEFAULT_SCALE=1,s.DEFAULT_SCALE_DELTA=1.1,s.MIN_SCALE=.1,s.MAX_SCALE=10,s.UNKNOWN_SCALE=0,s.MAX_AUTO_SCALE=1.25,s.SCROLLBAR_PADDING=40,s.VERTICAL_PADDING=5,s.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},s.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const e={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};s.SidebarView=e,s.RendererType={CANVAS:"canvas",SVG:"svg"},s.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const L={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};s.ScrollMode=L;const F={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};s.SpreadMode=F,s.AutoPrintRegExp=/\bprint\s*\(/,s.OutputScale=class V{constructor(){const z=window.devicePixelRatio||1;this.sx=z,this.sy=z}get scaled(){return 1!==this.sx||1!==this.sy}};const R=/\x00/g,D=/[\x01-\x1F]/g;function T(k,z,ee=0){let K=ee,oe=k.length-1;if(oe<0||!z(k[oe]))return k.length;if(z(k[K]))return K;for(;K<oe;){const ce=K+oe>>1;z(k[ce])?oe=ce:K=ce+1}return K}function C(k,z,ee){if(k<2)return k;let K=z[k].div,oe=K.offsetTop+K.clientTop;oe>=ee&&(K=z[k-1].div,oe=K.offsetTop+K.clientTop);for(let ce=k-2;ce>=0&&(K=z[ce].div,!(K.offsetTop+K.clientTop+K.clientHeight<=oe));--ce)k=ce;return k}function g(k){let z=Math.hypot(k.deltaX,k.deltaY);const ee=Math.atan2(k.deltaY,k.deltaX);return-.25*Math.PI<ee&&ee<.75*Math.PI&&(z=-z),z}const q=new Promise(function(k){window.requestAnimationFrame(k)});s.animationStarted=q;const $=document.documentElement.style;s.docStyle=$,s.ProgressBar=class ne{#e=null;#t=0;#n=!0;constructor(z){if(arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");const ee=document.getElementById(z);this.#e=ee.classList}get percent(){return this.#t}set percent(z){this.#t=function Y(k,z,ee){return Math.min(Math.max(k,z),ee)}(z,0,100),isNaN(z)?this.#e.add("indeterminate"):(this.#e.remove("indeterminate"),$.setProperty("--progressBar-percent",`${this.#t}%`))}setWidth(z){if(!z)return;const K=z.parentNode.offsetWidth-z.offsetWidth;K>0&&$.setProperty("--progressBar-end-offset",`${K}px`)}hide(){this.#n&&(this.#n=!1,this.#e.add("hidden"))}show(){this.#n||(this.#n=!0,this.#e.remove("hidden"))}}},(x,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.StructTreeLayerBuilder=void 0;const f={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},a=/^H(\d+)$/;s.StructTreeLayerBuilder=class l{constructor({pdfPage:h}){this.pdfPage=h}render(h){return this._walk(h)}_setAttributes(h,o){void 0!==h.alt&&o.setAttribute("aria-label",h.alt),void 0!==h.id&&o.setAttribute("aria-owns",h.id),void 0!==h.lang&&o.setAttribute("lang",h.lang)}_walk(h){if(!h)return null;const o=document.createElement("span");if("role"in h){const{role:r}=h,v=r.match(a);v?(o.setAttribute("role","heading"),o.setAttribute("aria-level",v[1])):f[r]&&o.setAttribute("role",f[r])}if(this._setAttributes(h,o),h.children)if(1===h.children.length&&"id"in h.children[0])this._setAttributes(h.children[0],o);else for(const r of h.children)o.append(this._walk(r));return o}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextLayerBuilder=void 0;var a=f(3);s.TextLayerBuilder=class S{constructor({textLayerDiv:o,eventBus:r,pageIndex:v,viewport:y,highlighter:b=null,enhanceTextSelection:d=!1,accessibilityManager:e=null}){this.textLayerDiv=o,this.eventBus=r,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=v+1,this.viewport=y,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=b,this.enhanceTextSelection=d,this.accessibilityManager=e,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const o=document.createElement("div");o.className="endOfContent",this.textLayerDiv.append(o)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(o=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr),this.accessibilityManager?.setTextMapping(this.textDivs);const r=document.createDocumentFragment();this.textLayerRenderTask=(0,a.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:r,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:o,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.append(r),this._finishRendering(),this.highlighter?.enable(),this.accessibilityManager?.enable()},function(v){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable(),this.accessibilityManager?.disable()}setTextContentStream(o){this.cancel(),this.textContentStream=o}setTextContent(o){this.cancel(),this.textContent=o}_bindMouse(){const o=this.textLayerDiv;let r=null;o.addEventListener("mousedown",v=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(r&&(clearTimeout(r),r=null));const y=o.querySelector(".endOfContent");if(!y)return;let b=v.target!==o;if(b=b&&"none"!==window.getComputedStyle(y).getPropertyValue("-moz-user-select"),b){const d=o.getBoundingClientRect(),e=Math.max(0,(v.pageY-d.top)/d.height);y.style.top=(100*e).toFixed(2)+"%"}y.classList.add("active")}),o.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(r=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),r=null},300));const v=o.querySelector(".endOfContent");v&&(v.style.top="",v.classList.remove("active"))})}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.XfaLayerBuilder=void 0;var a=f(3);s.XfaLayerBuilder=class l{constructor({pageDiv:h,pdfPage:o,annotationStorage:r=null,linkService:v,xfaHtml:y=null}){this.pageDiv=h,this.pdfPage=o,this.annotationStorage=r,this.linkService=v,this.xfaHtml=y,this.div=null,this._cancelled=!1}render(h,o="display"){if("print"===o){const r={viewport:h.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:o},v=document.createElement("div");this.pageDiv.append(v),r.div=v;const y=a.XfaLayer.render(r);return Promise.resolve(y)}return this.pdfPage.getXfa().then(r=>{if(this._cancelled||!r)return{textDivs:[]};const v={viewport:h.clone({dontFlip:!0}),div:this.div,xfaHtml:r,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:o};return this.div?a.XfaLayer.update(v):(this.div=document.createElement("div"),this.pageDiv.append(this.div),v.div=this.div,a.XfaLayer.render(v))}).catch(r=>{console.error(r)})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFViewer=s.PDFSinglePageViewer=void 0;var a=f(7),l=f(12);s.PDFViewer=class S extends l.BaseViewer{},s.PDFSinglePageViewer=class h extends l.BaseViewer{_resetView(){super._resetView(),this._scrollMode=a.ScrollMode.PAGE,this._spreadMode=a.SpreadMode.NONE}set scrollMode(r){}_updateScrollMode(){}set spreadMode(r){}_updateSpreadMode(){}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PagesCountLimit=s.PDFPageViewBuffer=s.BaseViewer=void 0;var a=f(3),l=f(7),S=f(2),h=f(5),o=f(4),r=f(13),v=f(16),y=f(6),b=f(8),d=f(17),e=f(9),n=f(10);const L="enablePermissions",F={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};function W(Q){return Object.values(a.AnnotationEditorType).includes(Q)&&Q!==a.AnnotationEditorType.DISABLE}s.PagesCountLimit=F;class V{#e=new Set;#t=0;constructor(P){this.#t=P}push(P){const R=this.#e;R.has(P)&&R.delete(P),R.add(P),R.size>this.#t&&this.#n()}resize(P,R=null){this.#t=P;const D=this.#e;if(R){const M=D.size;let T=1;for(const m of D)if(R.has(m.id)&&(D.delete(m),D.add(m)),++T>M)break}for(;D.size>this.#t;)this.#n()}has(P){return this.#e.has(P)}[Symbol.iterator](){return this.#e.keys()}#n(){const P=this.#e.keys().next().value;P?.destroy(),this.#e.delete(P)}}s.PDFPageViewBuffer=V;class ie{#e=null;#t=a.AnnotationEditorType.DISABLE;#n=null;#i=a.AnnotationMode.ENABLE_FORMS;#r=!1;#c=0;#o=null;#s=null;constructor(P){if(this.constructor===ie)throw new Error("Cannot initialize BaseViewer.");const R="2.16.105";if(a.version!==R)throw new Error(`The API version "${a.version}" does not match the Viewer version "${R}".`);if(this.container=P.container,this.viewer=P.viewer||P.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=P.eventBus,this.linkService=P.linkService||new y.SimpleLinkService,this.downloadManager=P.downloadManager||null,this.findController=P.findController||null,this._scriptingManager=P.scriptingManager||null,this.removePageBorders=P.removePageBorders||!1,this.textLayerMode=P.textLayerMode??l.TextLayerMode.ENABLE,this.#i=P.annotationMode??a.AnnotationMode.ENABLE_FORMS,this.#t=P.annotationEditorMode??a.AnnotationEditorType.DISABLE,this.imageResourcesPath=P.imageResourcesPath||"",this.enablePrintAutoRotate=P.enablePrintAutoRotate||!1,this.renderer=P.renderer||l.RendererType.CANVAS,this.useOnlyCssZoom=P.useOnlyCssZoom||!1,this.maxCanvasPixels=P.maxCanvasPixels,this.l10n=P.l10n||o.NullL10n,this.#r=P.enablePermissions||!1,this.pageColors=P.pageColors||null,this.pageColors&&!(CSS.supports("color",this.pageColors.background)&&CSS.supports("color",this.pageColors.foreground))&&((this.pageColors.background||this.pageColors.foreground)&&console.warn("BaseViewer: Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!P.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new v.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=P.renderingQueue,this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=l.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss()}get pagesCount(){return this._pages.length}getPageView(P){return this._pages[P]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(P){return P?.pdfPage})}get renderForms(){return this.#i===a.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(P){if(!Number.isInteger(P))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(P,!0)||console.error(`currentPageNumber: "${P}" is not a valid page.`))}_setCurrentPageNumber(P,R=!1){if(this._currentPageNumber===P)return R&&this.#f(),!0;if(!(0<P&&P<=this.pagesCount))return!1;const D=this._currentPageNumber;return this._currentPageNumber=P,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:P,pageLabel:this._pageLabels?.[P-1]??null,previous:D}),R&&this.#f(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(P){if(!this.pdfDocument)return;let R=0|P;if(this._pageLabels){const D=this._pageLabels.indexOf(P);D>=0&&(R=D+1)}this._setCurrentPageNumber(R,!0)||console.error(`currentPageLabel: "${P}" is not a valid page.`)}get currentScale(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE}set currentScale(P){if(isNaN(P))throw new Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(P,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(P){this.pdfDocument&&this._setScale(P,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(P){if(!(0,l.isValidRotation)(P))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((P%=360)<0&&(P+=360),this._pagesRotation===P))return;this._pagesRotation=P;const R=this._currentPageNumber,D={rotation:P};for(const M of this._pages)M.update(D);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:P,pageNumber:R}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}#u(P){const R={annotationEditorMode:this.#t,annotationMode:this.#i,textLayerMode:this.textLayerMode};return P&&(P.includes(a.PermissionFlag.COPY)||this.viewer.classList.add(L),P.includes(a.PermissionFlag.MODIFY_CONTENTS)||(R.annotationEditorMode=a.AnnotationEditorType.DISABLE),!P.includes(a.PermissionFlag.MODIFY_ANNOTATIONS)&&!P.includes(a.PermissionFlag.FILL_INTERACTIVE_FORMS)&&this.#i===a.AnnotationMode.ENABLE_FORMS&&(R.annotationMode=a.AnnotationMode.ENABLE)),R}#h(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const P=new Promise(R=>{this.#s=()=>{"hidden"===document.visibilityState&&(R(),document.removeEventListener("visibilitychange",this.#s),this.#s=null)},document.addEventListener("visibilitychange",this.#s)});return Promise.race([this._onePageRenderedCapability.promise,P])}setDocument(P){var R=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null),this.#n&&(this.#n.destroy(),this.#n=null)),this.pdfDocument=P,!P)return;const D=P.isPureXfa,M=P.numPages,T=P.getPage(1),m=P.getOptionalContentConfig(),i=this.#r?P.getPermissions():Promise.resolve();if(M>F.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const c=this._scrollMode=l.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:c})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:M})},()=>{}),this._onBeforeDraw=c=>{const C=this._pages[c.pageNumber-1];C&&this.#e.push(C)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=c=>{c.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:c.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,this.#s&&(document.removeEventListener("visibilitychange",this.#s),this.#s=null))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([T,i]).then(([c,C])=>{if(P!==this.pdfDocument)return;this._firstPageCapability.resolve(c),this._optionalContentConfigPromise=m;const{annotationEditorMode:A,annotationMode:t,textLayerMode:g}=this.#u(C);if(A!==a.AnnotationEditorType.DISABLE){const ne=A;D?console.warn("Warning: XFA-editing is not implemented."):W(ne)?(this.#n=new a.AnnotationEditorUIManager(this.container,this.eventBus),ne!==a.AnnotationEditorType.NONE&&this.#n.updateMode(ne)):console.error(`Invalid AnnotationEditor mode: ${ne}`)}const E=this._scrollMode===l.ScrollMode.PAGE?null:this.viewer,O=this.currentScale,I=c.getViewport({scale:O*a.PixelsPerInch.PDF_TO_CSS_UNITS}),j=g===l.TextLayerMode.DISABLE||D?null:this,H=t!==a.AnnotationMode.DISABLE?this:null,q=D?this:null,$=this.#n?this:null;for(let ne=1;ne<=M;++ne){const ae=new r.PDFPageView({container:E,eventBus:this.eventBus,id:ne,scale:O,defaultViewport:I.clone(),optionalContentConfigPromise:m,renderingQueue:this.renderingQueue,textLayerFactory:j,textLayerMode:g,annotationLayerFactory:H,annotationMode:t,xfaLayerFactory:q,annotationEditorLayerFactory:$,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ae)}const Y=this._pages[0];Y&&(Y.setPdfPage(c),this.linkService.cachePageRef(1,c.ref)),this._scrollMode===l.ScrollMode.PAGE?this.#l():this._spreadMode!==l.SpreadMode.NONE&&this._updateSpreadMode(),this.#h().then(p(function*(){if(R.findController&&R.findController.setDocument(P),R._scriptingManager&&R._scriptingManager.setDocument(P),R.#n&&R.eventBus.dispatch("annotationeditormodechanged",{source:R,mode:R.#t}),P.loadingParams.disableAutoFetch||M>F.FORCE_LAZY_PAGE_INIT)return void R._pagesCapability.resolve();let ne=M-1;if(ne<=0)R._pagesCapability.resolve();else for(let ae=2;ae<=M;++ae){const X=P.getPage(ae).then(te=>{const k=R._pages[ae-1];k.pdfPage||k.setPdfPage(te),R.linkService.cachePageRef(ae,te.ref),0==--ne&&R._pagesCapability.resolve()},te=>{console.error(`Unable to get page ${ae} to initialize viewer`,te),0==--ne&&R._pagesCapability.resolve()});ae%F.PAUSE_EAGER_PAGE_INIT==0&&(yield X)}})),this.eventBus.dispatch("pagesinit",{source:this}),P.getMetadata().then(({info:ne})=>{P===this.pdfDocument&&ne.Language&&(this.viewer.lang=ne.Language)}),this.defaultRenderingQueue&&this.update()}).catch(c=>{console.error("Unable to initialize viewer",c),this._pagesCapability.reject(c)})}setPageLabels(P){if(this.pdfDocument){P?Array.isArray(P)&&this.pdfDocument.numPages===P.length?this._pageLabels=P:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let R=0,D=this._pages.length;R<D;R++)this._pages[R].setPageLabel(this._pageLabels?.[R]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=l.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,this.#e=new V(10),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,a.createPromiseCapability)(),this._onePageRenderedCapability=(0,a.createPromiseCapability)(),this._pagesCapability=(0,a.createPromiseCapability)(),this._scrollMode=l.ScrollMode.VERTICAL,this._previousScrollMode=l.ScrollMode.UNKNOWN,this._spreadMode=l.SpreadMode.NONE,this.#o={previousPageNumber:1,scrollDown:!0,pages:[]},this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),this.#s&&(document.removeEventListener("visibilitychange",this.#s),this.#s=null),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(L)}#l(){if(this._scrollMode!==l.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const P=this._currentPageNumber,R=this.#o,D=this.viewer;if(D.textContent="",R.pages.length=0,this._spreadMode!==l.SpreadMode.NONE||this.isInPresentationMode){const M=new Set,T=this._spreadMode-1;-1===T?M.add(P-1):P%2!==T?(M.add(P-1),M.add(P)):(M.add(P-2),M.add(P-1));const m=document.createElement("div");if(m.className="spread",this.isInPresentationMode){const i=document.createElement("div");i.className="dummyPage",m.append(i)}for(const i of M){const c=this._pages[i];c&&(m.append(c.div),R.pages.push(c))}D.append(m)}else{const M=this._pages[P-1];D.append(M.div),R.pages.push(M)}R.scrollDown=P>=R.previousPageNumber,R.previousPageNumber=P}_scrollUpdate(){0!==this.pagesCount&&this.update()}#a(P,R=null){const{div:D,id:M}=P;if(this._scrollMode===l.ScrollMode.PAGE&&(this._setCurrentPageNumber(M),this.#l(),this.update()),!R&&!this.isInPresentationMode){const T=D.offsetLeft+D.clientLeft,m=T+D.clientWidth,{scrollLeft:i,clientWidth:c}=this.container;(this._scrollMode===l.ScrollMode.HORIZONTAL||T<i||m>i+c)&&(R={left:0,top:0})}(0,l.scrollIntoView)(D,R)}#p(P){return P===this._currentScale||Math.abs(P-this._currentScale)<1e-15}_setScaleUpdatePages(P,R,D=!1,M=!1){if(this._currentScaleValue=R.toString(),this.#p(P))return void(M&&this.eventBus.dispatch("scalechanging",{source:this,scale:P,presetValue:R}));l.docStyle.setProperty("--scale-factor",P*a.PixelsPerInch.PDF_TO_CSS_UNITS);const T={scale:P};for(const m of this._pages)m.update(T);if(this._currentScale=P,!D){let i,m=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(m=this._location.pageNumber,i=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:m,destArray:i,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:P,presetValue:M?R:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL?2:1}_setScale(P,R=!1){let D=parseFloat(P);if(D>0)this._setScaleUpdatePages(D,P,R,!1);else{const M=this._pages[this._currentPageNumber-1];if(!M)return;let T=l.SCROLLBAR_PADDING,m=l.VERTICAL_PADDING;this.isInPresentationMode?T=m=4:this.removePageBorders?T=m=0:this._scrollMode===l.ScrollMode.HORIZONTAL&&([T,m]=[m,T]);const i=(this.container.clientWidth-T)/M.width*M.scale/this._pageWidthScaleFactor,c=(this.container.clientHeight-m)/M.height*M.scale;switch(P){case"page-actual":D=1;break;case"page-width":D=i;break;case"page-height":D=c;break;case"page-fit":D=Math.min(i,c);break;case"auto":const C=(0,l.isPortraitOrientation)(M)?i:Math.min(c,i);D=Math.min(l.MAX_AUTO_SCALE,C);break;default:return void console.error(`_setScale: "${P}" is an unknown zoom value.`)}this._setScaleUpdatePages(D,P,R,!0)}}#f(){const P=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),this.#a(P)}pageLabelToPageNumber(P){if(!this._pageLabels)return null;const R=this._pageLabels.indexOf(P);return R<0?null:R+1}scrollPageIntoView({pageNumber:P,destArray:R=null,allowNegativeOffset:D=!1,ignoreDestinationZoom:M=!1}){if(!this.pdfDocument)return;const T=Number.isInteger(P)&&this._pages[P-1];if(!T)return void console.error(`scrollPageIntoView: "${P}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!R)return void this._setCurrentPageNumber(P,!0);let A,t,m=0,i=0,c=0,C=0;const g=T.rotation%180!=0,E=(g?T.height:T.width)/T.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS,O=(g?T.width:T.height)/T.scale/a.PixelsPerInch.PDF_TO_CSS_UNITS;let I=0;switch(R[1].name){case"XYZ":m=R[2],i=R[3],I=R[4],m=null!==m?m:0,i=null!==i?i:O;break;case"Fit":case"FitB":I="page-fit";break;case"FitH":case"FitBH":i=R[2],I="page-width",null===i&&this._location?(m=this._location.left,i=this._location.top):("number"!=typeof i||i<0)&&(i=O);break;case"FitV":case"FitBV":m=R[2],c=E,C=O,I="page-height";break;case"FitR":m=R[2],i=R[3],c=R[4]-m,C=R[5]-i,A=(this.container.clientWidth-(this.removePageBorders?0:l.SCROLLBAR_PADDING))/c/a.PixelsPerInch.PDF_TO_CSS_UNITS,t=(this.container.clientHeight-(this.removePageBorders?0:l.VERTICAL_PADDING))/C/a.PixelsPerInch.PDF_TO_CSS_UNITS,I=Math.min(Math.abs(A),Math.abs(t));break;default:return void console.error(`scrollPageIntoView: "${R[1].name}" is not a valid destination type.`)}if(M||(I&&I!==this._currentScale?this.currentScaleValue=I:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE)),"page-fit"===I&&!R[4])return void this.#a(T);const j=[T.viewport.convertToViewportPoint(m,i),T.viewport.convertToViewportPoint(m+c,i+C)];let H=Math.min(j[0][0],j[1][0]),q=Math.min(j[0][1],j[1][1]);D||(H=Math.max(H,0),q=Math.max(q,0)),this.#a(T,{left:H,top:q})}_updateLocation(P){const R=this._currentScale,D=this._currentScaleValue,M=parseFloat(D)===R?Math.round(1e4*R)/100:D,T=P.id,i=this.container,c=this._pages[T-1].getPagePoint(i.scrollLeft-P.x,i.scrollTop-P.y),C=Math.round(c[0]),A=Math.round(c[1]);let t=`#page=${T}`;this.isInPresentationMode||(t+=`&zoom=${M},${C},${A}`),this._location={pageNumber:T,scale:M,top:A,left:C,rotation:this._pagesRotation,pdfOpenParams:t}}update(){const P=this._getVisiblePages(),R=P.views,D=R.length;if(0===D)return;const M=Math.max(10,2*D+1);this.#e.resize(M,P.ids),this.renderingQueue.renderHighestPriority(P);const T=this._spreadMode===l.SpreadMode.NONE&&(this._scrollMode===l.ScrollMode.PAGE||this._scrollMode===l.ScrollMode.VERTICAL),m=this._currentPageNumber;let i=!1;for(const c of R){if(c.percent<100)break;if(c.id===m&&T){i=!0;break}}this._setCurrentPageNumber(i?m:R[0].id),this._updateLocation(P.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(P){return this.container.contains(P)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===l.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const P=this._scrollMode===l.ScrollMode.PAGE?this.#o.pages:this._pages,R=this._scrollMode===l.ScrollMode.HORIZONTAL;return(0,l.getVisibleElements)({scrollEl:this.container,views:P,sortByVisibility:!0,horizontal:R,rtl:R&&this._isContainerRtl})}isPageVisible(P){return!!this.pdfDocument&&(Number.isInteger(P)&&P>0&&P<=this.pagesCount?this._getVisiblePages().ids.has(P):(console.error(`isPageVisible: "${P}" is not a valid page.`),!1))}isPageCached(P){return!!this.pdfDocument&&(Number.isInteger(P)&&P>0&&P<=this.pagesCount?this.#e.has(this._pages[P-1]):(console.error(`isPageCached: "${P}" is not a valid page.`),!1))}cleanup(){for(const P of this._pages)P.renderingState!==l.RenderingStates.FINISHED&&P.reset()}_cancelRendering(){for(const P of this._pages)P.cancelRendering()}#b(P){var R=this;return p(function*(){if(P.pdfPage)return P.pdfPage;try{const D=yield R.pdfDocument.getPage(P.id);return P.pdfPage||P.setPdfPage(D),R.linkService._cachedPageNumber?.(D.ref)||R.linkService.cachePageRef(P.id,D.ref),D}catch(D){return console.error("Unable to get page for page view",D),null}})()}#m(P){if(1===P.first?.id)return!0;if(P.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case l.ScrollMode.PAGE:return this.#o.scrollDown;case l.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}#_(P){for(const R of P)this._pages[R-1]?.toggleLoadingIconSpinner(!0);for(const R of this.#e)P.has(R.id)||R.toggleLoadingIconSpinner(!1)}forceRendering(P){const R=P||this._getVisiblePages(),D=this.#m(R),T=this.renderingQueue.getHighestPriority(R,this._pages,D,this._spreadMode!==l.SpreadMode.NONE&&this._scrollMode!==l.ScrollMode.HORIZONTAL);return this.#_(R.ids),!!T&&(this.#b(T).then(()=>{this.renderingQueue.renderView(T)}),!0)}createTextLayerBuilder({textLayerDiv:P,pageIndex:R,viewport:D,enhanceTextSelection:M=!1,eventBus:T,highlighter:m,accessibilityManager:i=null}){return new e.TextLayerBuilder({textLayerDiv:P,eventBus:T,pageIndex:R,viewport:D,enhanceTextSelection:!this.isInPresentationMode&&M,highlighter:m,accessibilityManager:i})}createTextHighlighter({pageIndex:P,eventBus:R}){return new d.TextHighlighter({eventBus:R,pageIndex:P,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder({pageDiv:P,pdfPage:R,annotationStorage:D=this.pdfDocument?.annotationStorage,imageResourcesPath:M="",renderForms:T=!0,l10n:m=o.NullL10n,enableScripting:i=this.enableScripting,hasJSActionsPromise:c=this.pdfDocument?.hasJSActions(),mouseState:C=this._scriptingManager?.mouseState,fieldObjectsPromise:A=this.pdfDocument?.getFieldObjects(),annotationCanvasMap:t=null,accessibilityManager:g=null}){return new h.AnnotationLayerBuilder({pageDiv:P,pdfPage:R,annotationStorage:D,imageResourcesPath:M,renderForms:T,linkService:this.linkService,downloadManager:this.downloadManager,l10n:m,enableScripting:i,hasJSActionsPromise:c,mouseState:C,fieldObjectsPromise:A,annotationCanvasMap:t,accessibilityManager:g})}createAnnotationEditorLayerBuilder({uiManager:P=this.#n,pageDiv:R,pdfPage:D,accessibilityManager:M=null,l10n:T,annotationStorage:m=this.pdfDocument?.annotationStorage}){return new S.AnnotationEditorLayerBuilder({uiManager:P,pageDiv:R,pdfPage:D,annotationStorage:m,accessibilityManager:M,l10n:T})}createXfaLayerBuilder({pageDiv:P,pdfPage:R,annotationStorage:D=this.pdfDocument?.annotationStorage}){return new n.XfaLayerBuilder({pageDiv:P,pdfPage:R,annotationStorage:D,linkService:this.linkService})}createStructTreeLayerBuilder({pdfPage:P}){return new b.StructTreeLayerBuilder({pdfPage:P})}get hasEqualPageSizes(){const P=this._pages[0];for(let R=1,D=this._pages.length;R<D;++R){const M=this._pages[R];if(M.width!==P.width||M.height!==P.height)return!1}return!0}getPagesOverview(){return this._pages.map(P=>{const R=P.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,l.isPortraitOrientation)(R)?{width:R.width,height:R.height,rotation:R.rotation}:{width:R.height,height:R.width,rotation:(R.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig()):Promise.resolve(null)}set optionalContentConfigPromise(P){if(!(P instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${P}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=P;const R={optionalContentConfigPromise:P};for(const D of this._pages)D.update(R);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:P})}get scrollMode(){return this._scrollMode}set scrollMode(P){if(this._scrollMode!==P){if(!(0,l.isValidScrollMode)(P))throw new Error(`Invalid scroll mode: ${P}`);this.pagesCount>F.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=P,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:P}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(P=null){const R=this._scrollMode,D=this.viewer;D.classList.toggle("scrollHorizontal",R===l.ScrollMode.HORIZONTAL),D.classList.toggle("scrollWrapped",R===l.ScrollMode.WRAPPED),this.pdfDocument&&P&&(R===l.ScrollMode.PAGE?this.#l():this._previousScrollMode===l.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(P,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(P){if(this._spreadMode!==P){if(!(0,l.isValidSpreadMode)(P))throw new Error(`Invalid spread mode: ${P}`);this._spreadMode=P,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:P}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(P=null){if(!this.pdfDocument)return;const R=this.viewer,D=this._pages;if(this._scrollMode===l.ScrollMode.PAGE)this.#l();else if(R.textContent="",this._spreadMode===l.SpreadMode.NONE)for(const M of this._pages)R.append(M.div);else{const M=this._spreadMode-1;let T=null;for(let m=0,i=D.length;m<i;++m)null===T?(T=document.createElement("div"),T.className="spread",R.append(T)):m%2===M&&(T=T.cloneNode(!1),R.append(T)),T.append(D[m].div)}P&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(P,!0),this.update())}_getPageAdvance(P,R=!1){switch(this._scrollMode){case l.ScrollMode.WRAPPED:{const{views:D}=this._getVisiblePages(),M=new Map;for(const{id:T,y:m,percent:i,widthPercent:c}of D){if(0===i||c<100)continue;let C=M.get(m);C||M.set(m,C||=[]),C.push(T)}for(const T of M.values()){const m=T.indexOf(P);if(-1===m)continue;const i=T.length;if(1===i)break;if(R)for(let c=m-1,C=0;c>=C;c--){const t=T[c+1]-1;if(T[c]<t)return P-t}else for(let c=m+1,C=i;c<C;c++){const t=T[c-1]+1;if(T[c]>t)return t-P}if(R){const c=T[0];if(c<P)return P-c+1}else{const c=T[i-1];if(c>P)return c-P+1}break}break}case l.ScrollMode.HORIZONTAL:break;case l.ScrollMode.PAGE:case l.ScrollMode.VERTICAL:{if(this._spreadMode===l.SpreadMode.NONE)break;const D=this._spreadMode-1;if(R&&P%2!==D)break;if(!R&&P%2===D)break;const{views:M}=this._getVisiblePages(),T=R?P-1:P+1;for(const{id:m,percent:i,widthPercent:c}of M)if(m===T){if(i>0&&100===c)return 2;break}break}}return 1}nextPage(){const P=this._currentPageNumber,R=this.pagesCount;if(P>=R)return!1;const D=this._getPageAdvance(P,!1)||1;return this.currentPageNumber=Math.min(P+D,R),!0}previousPage(){const P=this._currentPageNumber;if(P<=1)return!1;const R=this._getPageAdvance(P,!0)||1;return this.currentPageNumber=Math.max(P-R,1),!0}increaseScale(P=1){let R=this._currentScale;do{R=(R*l.DEFAULT_SCALE_DELTA).toFixed(2),R=Math.ceil(10*R)/10,R=Math.min(l.MAX_SCALE,R)}while(--P>0&&R<l.MAX_SCALE);this.currentScaleValue=R}decreaseScale(P=1){let R=this._currentScale;do{R=(R/l.DEFAULT_SCALE_DELTA).toFixed(2),R=Math.floor(10*R)/10,R=Math.max(l.MIN_SCALE,R)}while(--P>0&&R>l.MIN_SCALE);this.currentScaleValue=R}updateContainerHeightCss(){const P=this.container.clientHeight;P!==this.#c&&(this.#c=P,l.docStyle.setProperty("--viewer-container-height",`${P}px`))}get annotationEditorMode(){return this.#n?this.#t:a.AnnotationEditorType.DISABLE}set annotationEditorMode(P){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");if(this.#t!==P){if(!W(P))throw new Error(`Invalid AnnotationEditor mode: ${P}`);this.pdfDocument&&(this.#t=P,this.eventBus.dispatch("annotationeditormodechanged",{source:this,mode:P}),this.#n.updateMode(P))}}set annotationEditorParams({type:P,value:R}){if(!this.#n)throw new Error("The AnnotationEditor is not enabled.");this.#n.updateParams(P,R)}refresh(){if(!this.pdfDocument)return;const P={};for(const R of this._pages)R.update(P);this.update()}}s.BaseViewer=ie},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFPageView=void 0;var a=f(3),l=f(7),S=f(14),h=f(4),o=f(15);const r=S.compatibilityParams.maxCanvasPixels||16777216;s.PDFPageView=class v{#e=a.AnnotationMode.ENABLE_FORMS;#t={initialOptionalContent:!0,regularAnnotations:!0};constructor(b){const d=b.container,e=b.defaultViewport;this.id=b.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=b.scale||l.DEFAULT_SCALE,this.viewport=e,this.pdfPageRotate=e.rotation,this._optionalContentConfigPromise=b.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=b.textLayerMode??l.TextLayerMode.ENABLE,this.#e=b.annotationMode??a.AnnotationMode.ENABLE_FORMS,this.imageResourcesPath=b.imageResourcesPath||"",this.useOnlyCssZoom=b.useOnlyCssZoom||!1,this.maxCanvasPixels=b.maxCanvasPixels||r,this.pageColors=b.pageColors||null,this.eventBus=b.eventBus,this.renderingQueue=b.renderingQueue,this.textLayerFactory=b.textLayerFactory,this.annotationLayerFactory=b.annotationLayerFactory,this.annotationEditorLayerFactory=b.annotationEditorLayerFactory,this.xfaLayerFactory=b.xfaLayerFactory,this.textHighlighter=b.textHighlighterFactory?.createTextHighlighter({pageIndex:this.id-1,eventBus:this.eventBus}),this.structTreeLayerFactory=b.structTreeLayerFactory,this.renderer=b.renderer||l.RendererType.CANVAS,this.l10n=b.l10n||h.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=l.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const n=document.createElement("div");if(n.className="page",n.style.width=Math.floor(this.viewport.width)+"px",n.style.height=Math.floor(this.viewport.height)+"px",n.setAttribute("data-page-number",this.id),n.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(_=>{n.setAttribute("aria-label",_)}),this.div=n,d?.append(n),this._isStandalone){const{optionalContentConfigPromise:_}=b;_&&_.then(L=>{_===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=L.hasInitialVisibility)})}}setPdfPage(b){this.pdfPage=b,this.pdfPageRotate=b.rotate,this.viewport=b.getViewport({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var b=this;return p(function*(){let d=null;try{yield b.annotationLayer.render(b.viewport,"display")}catch(e){console.error(`_renderAnnotationLayer: "${e}".`),d=e}finally{b.eventBus.dispatch("annotationlayerrendered",{source:b,pageNumber:b.id,error:d})}})()}_renderAnnotationEditorLayer(){var b=this;return p(function*(){let d=null;try{yield b.annotationEditorLayer.render(b.viewport,"display")}catch(e){console.error(`_renderAnnotationEditorLayer: "${e}".`),d=e}finally{b.eventBus.dispatch("annotationeditorlayerrendered",{source:b,pageNumber:b.id,error:d})}})()}_renderXfaLayer(){var b=this;return p(function*(){let d=null;try{const e=yield b.xfaLayer.render(b.viewport,"display");b.textHighlighter&&b._buildXfaTextContentItems(e.textDivs)}catch(e){console.error(`_renderXfaLayer: "${e}".`),d=e}finally{b.eventBus.dispatch("xfalayerrendered",{source:b,pageNumber:b.id,error:d})}})()}_buildXfaTextContentItems(b){var d=this;return p(function*(){const e=yield d.pdfPage.getTextContent(),n=[];for(const _ of e.items)n.push(_.str);d.textHighlighter.setTextMapping(b,n),d.textHighlighter.enable()})()}_resetZoomLayer(b=!1){if(!this.zoomLayer)return;const d=this.zoomLayer.firstChild;this.paintedViewportMap.delete(d),d.width=0,d.height=0,b&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:b=!1,keepAnnotationLayer:d=!1,keepAnnotationEditorLayer:e=!1,keepXfaLayer:n=!1}={}){this.cancelRendering({keepAnnotationLayer:d,keepAnnotationEditorLayer:e,keepXfaLayer:n}),this.renderingState=l.RenderingStates.INITIAL;const _=this.div;_.style.width=Math.floor(this.viewport.width)+"px",_.style.height=Math.floor(this.viewport.height)+"px";const L=_.childNodes,F=b&&this.zoomLayer||null,W=d&&this.annotationLayer?.div||null,V=e&&this.annotationEditorLayer?.div||null,ie=n&&this.xfaLayer?.div||null;for(let Q=L.length-1;Q>=0;Q--){const P=L[Q];switch(P){case F:case W:case V:case ie:continue}P.remove()}_.removeAttribute("data-loaded"),W&&this.annotationLayer.hide(),V?this.annotationEditorLayer.hide():this.annotationEditorLayer?.destroy(),ie&&this.xfaLayer.hide(),F||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(Q=>{this.loadingIconDiv?.setAttribute("aria-label",Q)}),_.append(this.loadingIconDiv)}update({scale:b=0,rotation:d=null,optionalContentConfigPromise:e=null}){if(this.scale=b||this.scale,"number"==typeof d&&(this.rotation=d),e instanceof Promise&&(this._optionalContentConfigPromise=e,e.then(L=>{e===this._optionalContentConfigPromise&&(this.#t.initialOptionalContent=L.hasInitialVisibility)})),this.viewport=this.viewport.clone({scale:this.scale*a.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone&&l.docStyle.setProperty("--scale-factor",this.viewport.scale),this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let _=!1;if(this.canvas&&this.maxCanvasPixels>0){const L=this.outputScale;(Math.floor(this.viewport.width)*L.sx|0)*(Math.floor(this.viewport.height)*L.sy|0)>this.maxCanvasPixels&&(_=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&_)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:b=!1,keepAnnotationEditorLayer:d=!1,keepXfaLayer:e=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!b||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!d||!this.annotationEditorLayer.div)&&(this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!e||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:b,redrawAnnotationLayer:d=!1,redrawAnnotationEditorLayer:e=!1,redrawXfaLayer:n=!1}){const _=this.viewport.width,L=this.viewport.height,F=this.div;b.style.width=b.parentNode.style.width=F.style.width=Math.floor(_)+"px",b.style.height=b.parentNode.style.height=F.style.height=Math.floor(L)+"px";const W=this.viewport.rotation-this.paintedViewportMap.get(b).rotation,V=Math.abs(W);let ie=1,Q=1;if((90===V||270===V)&&(ie=L/_,Q=_/L),b.style.transform=`rotate(${W}deg) scale(${ie}, ${Q})`,this.textLayer){const P=this.textLayer.viewport,D=Math.abs(this.viewport.rotation-P.rotation);let M=_/P.width;(90===D||270===D)&&(M=_/P.height);const T=this.textLayer.textLayerDiv;let m,i;switch(D){case 0:m=i=0;break;case 90:m=0,i="-"+T.style.height;break;case 180:m="-"+T.style.width,i="-"+T.style.height;break;case 270:m="-"+T.style.width,i=0;break;default:console.error("Bad rotation value.")}T.style.transform=`rotate(${D}deg) scale(${M}) translate(${m}, ${i})`,T.style.transformOrigin="0% 0%"}d&&this.annotationLayer&&this._renderAnnotationLayer(),e&&this.annotationEditorLayer&&this._renderAnnotationEditorLayer(),n&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(b,d){return this.viewport.convertToPdfPoint(b,d)}toggleLoadingIconSpinner(b=!1){this.loadingIconDiv?.classList.toggle("notVisible",!b)}draw(){var b=this;this.renderingState!==l.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:d,pdfPage:e}=this;if(!e)return this.renderingState=l.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=l.RenderingStates.RUNNING;const n=document.createElement("div");n.style.width=d.style.width,n.style.height=d.style.height,n.classList.add("canvasWrapper");const _=this.annotationLayer?.div||this.annotationEditorLayer?.div;_?_.before(n):d.append(n);let L=null;if(this.textLayerMode!==l.TextLayerMode.DISABLE&&this.textLayerFactory){this._accessibilityManager||=new o.TextAccessibilityManager;const Q=document.createElement("div");Q.className="textLayer",Q.style.width=n.style.width,Q.style.height=n.style.height,_?_.before(Q):d.append(Q),L=this.textLayerFactory.createTextLayerBuilder({textLayerDiv:Q,pageIndex:this.id-1,viewport:this.viewport,enhanceTextSelection:this.textLayerMode===l.TextLayerMode.ENABLE_ENHANCE,eventBus:this.eventBus,highlighter:this.textHighlighter,accessibilityManager:this._accessibilityManager})}this.textLayer=L,this.#e!==a.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||=new Map,this.annotationLayer||=this.annotationLayerFactory.createAnnotationLayerBuilder({pageDiv:d,pdfPage:e,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===a.AnnotationMode.ENABLE_FORMS,l10n:this.l10n,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager})),this.xfaLayer?.div&&d.append(this.xfaLayer.div);let F=null;this.renderingQueue&&(F=Q=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=l.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=l.RenderingStates.RUNNING,Q()});Q()});const W=function(){var Q=p(function*(P=null){if(V===b.paintTask&&(b.paintTask=null),P instanceof a.RenderingCancelledException)b._renderError=null;else if(b._renderError=P,b.renderingState=l.RenderingStates.FINISHED,b.loadingIconDiv&&(b.loadingIconDiv.remove(),delete b.loadingIconDiv),b._resetZoomLayer(!0),b.#t.regularAnnotations=!V.separateAnnots,b.eventBus.dispatch("pagerendered",{source:b,pageNumber:b.id,cssTransform:!1,timestamp:performance.now(),error:b._renderError}),P)throw P});return function(){return Q.apply(this,arguments)}}(),V=this.renderer===l.RendererType.SVG?this.paintOnSvg(n):this.paintOnCanvas(n);V.onRenderContinue=F,this.paintTask=V;const ie=V.promise.then(()=>W(null).then(()=>{if(L){const Q=e.streamTextContent({includeMarkedContent:!0});L.setTextContentStream(Q),L.render()}this.annotationLayer&&this._renderAnnotationLayer().then(()=>{this.annotationEditorLayerFactory&&(this.annotationEditorLayer||=this.annotationEditorLayerFactory.createAnnotationEditorLayerBuilder({pageDiv:d,pdfPage:e,l10n:this.l10n,accessibilityManager:this._accessibilityManager}),this._renderAnnotationEditorLayer())})}),function(Q){return W(Q)});return this.xfaLayerFactory&&(this.xfaLayer||=this.xfaLayerFactory.createXfaLayerBuilder({pageDiv:d,pdfPage:e}),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=Q=>{Q.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(P=>{if(!P||!this.canvas)return;const R=this.structTreeLayer.render(P);R.classList.add("structTree"),this.canvas.append(R)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder({pdfPage:e})),d.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ie}paintOnCanvas(b){const d=(0,a.createPromiseCapability)(),e={promise:d.promise,onRenderContinue(M){M()},cancel(){D.cancel()},get separateAnnots(){return D.separateAnnots}},n=this.viewport,_=document.createElement("canvas");_.setAttribute("role","presentation"),_.hidden=!0;let L=!0;const F=function(){L&&(_.hidden=!1,L=!1)};b.append(_),this.canvas=_;const W=_.getContext("2d",{alpha:!1}),V=this.outputScale=new l.OutputScale;if(this.useOnlyCssZoom){const M=n.clone({scale:a.PixelsPerInch.PDF_TO_CSS_UNITS});V.sx*=M.width/n.width,V.sy*=M.height/n.height}if(this.maxCanvasPixels>0){const T=Math.sqrt(this.maxCanvasPixels/(n.width*n.height));V.sx>T||V.sy>T?(V.sx=T,V.sy=T,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ie=(0,l.approximateFraction)(V.sx),Q=(0,l.approximateFraction)(V.sy);_.width=(0,l.roundToDivide)(n.width*V.sx,ie[0]),_.height=(0,l.roundToDivide)(n.height*V.sy,Q[0]),_.style.width=(0,l.roundToDivide)(n.width,ie[1])+"px",_.style.height=(0,l.roundToDivide)(n.height,Q[1])+"px",this.paintedViewportMap.set(_,n);const R={canvasContext:W,transform:V.scaled?[V.sx,0,0,V.sy,0,0]:null,viewport:this.viewport,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},D=this.pdfPage.render(R);return D.onContinue=function(M){F(),e.onRenderContinue?e.onRenderContinue(M):M()},D.promise.then(function(){F(),d.resolve()},function(M){F(),d.reject(M)}),e}paintOnSvg(b){let d=!1;const e=()=>{if(d)throw new a.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},n=this.pdfPage,_=this.viewport.clone({scale:a.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:n.getOperatorList({annotationMode:this.#e}).then(F=>(e(),new a.SVGGraphics(n.commonObjs,n.objs).getSVG(F,_).then(V=>{e(),this.svg=V,this.paintedViewportMap.set(V,_),V.style.width=b.style.width,V.style.height=b.style.height,this.renderingState=l.RenderingStates.FINISHED,b.append(V)}))),onRenderContinue(F){F()},cancel(){d=!0},get separateAnnots(){return!1}}}setPageLabel(b){this.pageLabel="string"==typeof b?b:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){const{initialOptionalContent:b,regularAnnotations:d}=this.#t;return b&&d?this.canvas:null}}},(x,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.compatibilityParams=s.OptionKind=s.AppOptions=void 0;const f=Object.create(null);s.compatibilityParams=f;{const o=navigator.userAgent||"",r=navigator.platform||"",v=navigator.maxTouchPoints||1,y=/Android/.test(o);(/\b(iPad|iPhone|iPod)(?=;)/.test(o)||"MacIntel"===r&&v>1||y)&&(f.maxCanvasPixels=5242880)}const a={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};s.OptionKind=a;const l={annotationEditorMode:{value:-1,kind:a.VIEWER+a.PREFERENCE},annotationMode:{value:2,kind:a.VIEWER+a.PREFERENCE},cursorToolOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},defaultZoomValue:{value:"",kind:a.VIEWER+a.PREFERENCE},disableHistory:{value:!1,kind:a.VIEWER},disablePageLabels:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePermissions:{value:!1,kind:a.VIEWER+a.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:a.VIEWER+a.PREFERENCE},enableScripting:{value:!0,kind:a.VIEWER+a.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:a.VIEWER},externalLinkTarget:{value:0,kind:a.VIEWER+a.PREFERENCE},historyUpdateUrl:{value:!1,kind:a.VIEWER+a.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},imageResourcesPath:{value:"./images/",kind:a.VIEWER},maxCanvasPixels:{value:16777216,kind:a.VIEWER},forcePageColors:{value:!1,kind:a.VIEWER+a.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:a.VIEWER+a.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:a.VIEWER+a.PREFERENCE},pdfBugEnabled:{value:!1,kind:a.VIEWER+a.PREFERENCE},printResolution:{value:150,kind:a.VIEWER},sidebarViewOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},scrollModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},spreadModeOnLoad:{value:-1,kind:a.VIEWER+a.PREFERENCE},textLayerMode:{value:1,kind:a.VIEWER+a.PREFERENCE},useOnlyCssZoom:{value:!1,kind:a.VIEWER+a.PREFERENCE},viewerCssTheme:{value:0,kind:a.VIEWER+a.PREFERENCE},viewOnLoad:{value:0,kind:a.VIEWER+a.PREFERENCE},cMapPacked:{value:!0,kind:a.API},cMapUrl:{value:"../web/cmaps/",kind:a.API},disableAutoFetch:{value:!1,kind:a.API+a.PREFERENCE},disableFontFace:{value:!1,kind:a.API+a.PREFERENCE},disableRange:{value:!1,kind:a.API+a.PREFERENCE},disableStream:{value:!1,kind:a.API+a.PREFERENCE},docBaseUrl:{value:"",kind:a.API},enableXfa:{value:!0,kind:a.API+a.PREFERENCE},fontExtraProperties:{value:!1,kind:a.API},isEvalSupported:{value:!0,kind:a.API},maxImageSize:{value:-1,kind:a.API},pdfBug:{value:!1,kind:a.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:a.API},verbosity:{value:1,kind:a.API},workerPort:{value:null,kind:a.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:a.WORKER}};l.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:a.VIEWER},l.disablePreferences={value:!1,kind:a.VIEWER},l.locale={value:navigator.language||"en-US",kind:a.VIEWER},l.renderer={value:"canvas",kind:a.VIEWER+a.PREFERENCE},l.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:a.VIEWER};const S=Object.create(null);s.AppOptions=class h{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(r){const v=S[r];if(void 0!==v)return v;const y=l[r];return void 0!==y?f[r]??y.value:void 0}static getAll(r=null){const v=Object.create(null);for(const y in l){const b=l[y];if(r){if(!(r&b.kind))continue;if(r===a.PREFERENCE){const e=b.value,n=typeof e;if("boolean"===n||"string"===n||"number"===n&&Number.isInteger(e)){v[y]=e;continue}throw new Error(`Invalid type for preference: ${y}`)}}const d=S[y];v[y]=void 0!==d?d:f[y]??b.value}return v}static set(r,v){S[r]=v}static setAll(r){for(const v in r)S[v]=r[v]}static remove(r){delete S[r]}static _hasUserOptions(){return Object.keys(S).length>0}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextAccessibilityManager=void 0;var a=f(7);class l{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(h){this.#t=h}static#r(h,o){const r=h.getBoundingClientRect(),v=o.getBoundingClientRect();if(0===r.width&&0===r.height)return 1;if(0===v.width&&0===v.height)return-1;const d=r.y+r.height/2,_=v.y+v.height/2;return d<=v.y&&_>=r.y+r.height?-1:_<=r.y&&d>=v.y+v.height?1:r.x+r.width/2-(v.x+v.width/2)}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(l.#r),this.#n.size>0){const h=this.#t;for(const[o,r]of this.#n)document.getElementById(o)?this.#c(o,h[r]):this.#n.delete(o)}for(const[h,o]of this.#i)this.addPointerInTextLayer(h,o);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(h){if(!this.#e)return void this.#i.delete(h);const o=this.#t;if(!o||0===o.length)return;const{id:r}=h,v=this.#n.get(r);if(void 0===v)return;const y=o[v];this.#n.delete(r);let b=y.getAttribute("aria-owns");b?.includes(r)&&(b=b.split(" ").filter(d=>d!==r).join(" "),b?y.setAttribute("aria-owns",b):(y.removeAttribute("aria-owns"),y.setAttribute("role","presentation")))}#c(h,o){const r=o.getAttribute("aria-owns");r?.includes(h)||o.setAttribute("aria-owns",r?`${r} ${h}`:h),o.removeAttribute("role")}addPointerInTextLayer(h,o){const{id:r}=h;if(!r)return;if(!this.#e)return void this.#i.set(h,o);o&&this.removePointerInTextLayer(h);const v=this.#t;if(!v||0===v.length)return;const y=(0,a.binarySearchFirstItem)(v,d=>l.#r(h,d)<0),b=Math.max(0,y-1);this.#c(r,v[b]),this.#n.set(r,b)}moveElementInDOM(h,o,r,v){if(this.addPointerInTextLayer(r,v),!h.hasChildNodes())return void h.append(o);const y=Array.from(h.childNodes).filter(e=>e!==o);if(0===y.length)return;const b=r||o,d=(0,a.binarySearchFirstItem)(y,e=>l.#r(b,e)<0);0===d?y[0].before(o):y[d-1].after(o)}}s.TextAccessibilityManager=l},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFRenderingQueue=void 0;var a=f(3),l=f(7);s.PDFRenderingQueue=class h{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(r){this.pdfViewer=r}setThumbnailViewer(r){this.pdfThumbnailViewer=r}isHighestPriority(r){return this.highestPriorityPage===r.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(r){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(r)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(r,v,y,b=!1){const d=r.views,e=d.length;if(0===e)return null;for(let W=0;W<e;W++){const V=d[W].view;if(!this.isViewFinished(V))return V}const n=r.first.id,_=r.last.id;if(_-n+1>e){const W=r.ids;for(let V=1,ie=_-n;V<ie;V++){const Q=y?n+V:_-V;if(W.has(Q))continue;const P=v[Q-1];if(!this.isViewFinished(P))return P}}let L=y?_:n-2,F=v[L];return F&&!this.isViewFinished(F)||b&&(L+=y?1:-1,F=v[L],F&&!this.isViewFinished(F))?F:null}isViewFinished(r){return r.renderingState===l.RenderingStates.FINISHED}renderView(r){switch(r.renderingState){case l.RenderingStates.FINISHED:return!1;case l.RenderingStates.PAUSED:this.highestPriorityPage=r.renderingId,r.resume();break;case l.RenderingStates.RUNNING:this.highestPriorityPage=r.renderingId;break;case l.RenderingStates.INITIAL:this.highestPriorityPage=r.renderingId,r.draw().finally(()=>{this.renderHighestPriority()}).catch(v=>{v instanceof a.RenderingCancelledException||console.error(`renderView: "${v}"`)})}return!0}}},(x,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TextHighlighter=void 0,s.TextHighlighter=class f{constructor({findController:l,eventBus:S,pageIndex:h}){this.findController=l,this.matches=[],this.eventBus=S,this.pageIdx=h,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(l,S){this.textDivs=l,this.textContentItemsStr=S}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=l=>{(l.pageIndex===this.pageIdx||-1===l.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(l,S){if(!l)return[];const{textContentItemsStr:h}=this;let o=0,r=0;const v=h.length-1,y=[];for(let b=0,d=l.length;b<d;b++){let e=l[b];for(;o!==v&&e>=r+h[o].length;)r+=h[o].length,o++;o===h.length&&console.error("Could not find a matching mapping");const n={begin:{divIdx:o,offset:e-r}};for(e+=S[b];o!==v&&e>r+h[o].length;)r+=h[o].length,o++;n.end={divIdx:o,offset:e-r},y.push(n)}return y}_renderMatches(l){if(0===l.length)return;const{findController:S,pageIdx:h}=this,{textContentItemsStr:o,textDivs:r}=this,v=h===S.selected.pageIdx,y=S.selected.matchIdx;let d=null;function n(W,V){const ie=W.divIdx;return r[ie].textContent="",_(ie,0,W.offset,V)}function _(W,V,ie,Q){let P=r[W];if(P.nodeType===Node.TEXT_NODE){const M=document.createElement("span");P.before(M),M.append(P),r[W]=M,P=M}const R=o[W].substring(V,ie),D=document.createTextNode(R);if(Q){const M=document.createElement("span");return M.className=`${Q} appended`,M.append(D),P.append(M),Q.includes("selected")?M.offsetLeft:0}return P.append(D),0}let L=y,F=L+1;if(S.state.highlightAll)L=0,F=l.length;else if(!v)return;for(let W=L;W<F;W++){const V=l[W],ie=V.begin,Q=V.end,P=v&&W===y,R=P?" selected":"";let D=0;if(d&&ie.divIdx===d.divIdx?_(d.divIdx,d.offset,ie.offset):(null!==d&&_(d.divIdx,d.offset,void 0),n(ie)),ie.divIdx===Q.divIdx)D=_(ie.divIdx,ie.offset,Q.offset,"highlight"+R);else{D=_(ie.divIdx,ie.offset,void 0,"highlight begin"+R);for(let M=ie.divIdx+1,T=Q.divIdx;M<T;M++)r[M].className="highlight middle"+R;n(Q,"highlight end"+R)}d=Q,P&&S.scrollMatchIntoView({element:r[ie.divIdx],selectedLeft:D,pageIndex:h,matchIndex:y})}d&&_(d.divIdx,d.offset,void 0)}_updateMatches(){if(!this.enabled)return;const{findController:l,matches:S,pageIdx:h}=this,{textContentItemsStr:o,textDivs:r}=this;let v=-1;for(let d=0,e=S.length;d<e;d++){const n=S[d];for(let L=Math.max(v,n.begin.divIdx),F=n.end.divIdx;L<=F;L++){const W=r[L];W.textContent=o[L],W.className=""}v=n.end.divIdx+1}l?.highlightMatches&&(this.matches=this._convertMatches(l.pageMatches[h]||null,l.pageMatchesLength[h]||null),this._renderMatches(this.matches))}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DownloadManager=void 0;var a=f(3);function l(h,o){const r=document.createElement("a");if(!r.click)throw new Error('DownloadManager: "a.click()" is not supported.');r.href=h,r.target="_parent","download"in r&&(r.download=o),(document.body||document.documentElement).append(r),r.click(),r.remove()}s.DownloadManager=class S{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(o,r){(0,a.createValidAbsoluteUrl)(o,"http://example.com")?l(o+"#pdfjs.action=download",r):console.error(`downloadUrl - not a valid URL: ${o}`)}downloadData(o,r,v){l(URL.createObjectURL(new Blob([o],{type:v})),r)}openOrDownloadData(o,r,v){const y=(0,a.isPdfFile)(v),b=y?"application/pdf":"";if(y){let e,d=this._openBlobUrls.get(o);d||(d=URL.createObjectURL(new Blob([r],{type:b})),this._openBlobUrls.set(o,d)),e="?file="+encodeURIComponent(d+"#"+v);try{return window.open(e),!0}catch(n){console.error(`openOrDownloadData: ${n}`),URL.revokeObjectURL(d),this._openBlobUrls.delete(o)}}return this.downloadData(r,v,b),!1}download(o,r,v){l(URL.createObjectURL(o),v)}}},(x,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WaitOnType=s.EventBus=s.AutomationEventBus=void 0,s.waitOnEventOrTimeout=function a({target:h,name:o,delay:r=0}){return new Promise(function(v,y){if("object"!=typeof h||!o||"string"!=typeof o||!(Number.isInteger(r)&&r>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function b(_){h instanceof l?h._off(o,d):h.removeEventListener(o,d),n&&clearTimeout(n),v(_)}const d=b.bind(null,f.EVENT);h instanceof l?h._on(o,d):h.addEventListener(o,d);const e=b.bind(null,f.TIMEOUT),n=setTimeout(e,r)})};const f={EVENT:"event",TIMEOUT:"timeout"};s.WaitOnType=f;class l{constructor(){this._listeners=Object.create(null)}on(o,r,v=null){this._on(o,r,{external:!0,once:v?.once})}off(o,r,v=null){this._off(o,r,{external:!0,once:v?.once})}dispatch(o,r){const v=this._listeners[o];if(!v||0===v.length)return;let y;for(const{listener:b,external:d,once:e}of v.slice(0))e&&this._off(o,b),d?(y||=[]).push(b):b(r);if(y){for(const b of y)b(r);y=null}}_on(o,r,v=null){(this._listeners[o]||=[]).push({listener:r,external:!0===v?.external,once:!0===v?.once})}_off(o,r,v=null){const y=this._listeners[o];if(y)for(let b=0,d=y.length;b<d;b++)if(y[b].listener===r)return void y.splice(b,1)}}s.EventBus=l,s.AutomationEventBus=class S extends l{dispatch(o,r){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericL10n=void 0,f(21);var a=f(4);const l=document.webL10n;s.GenericL10n=class S{constructor(o){this._lang=o,this._ready=new Promise((r,v)=>{l.setLanguage((0,a.fixupLangCode)(o),()=>{r(l)})})}getLanguage(){var o=this;return p(function*(){return(yield o._ready).getLanguage()})()}getDirection(){var o=this;return p(function*(){return(yield o._ready).getDirection()})()}get(o,r=null,v=(0,a.getL10nFallback)(o,r)){var y=this;return p(function*(){return(yield y._ready).get(o,r,v)})()}translate(o){var r=this;return p(function*(){return(yield r._ready).translate(o)})()}}},()=>{document.webL10n=function(x,s,f){var a={},l="",S="textContent",h="",o={},r="loading",v=!0;function n(M,T,m){T=T||function(C){},m=m||function(){};var i=new XMLHttpRequest;i.open("GET",M,v),i.overrideMimeType&&i.overrideMimeType("text/plain; charset=utf-8"),i.onreadystatechange=function(){4==i.readyState&&(200==i.status||0===i.status?T(i.responseText):m())},i.onerror=m,i.ontimeout=m;try{i.send(null)}catch{m()}}function L(M,T){M&&(M=M.toLowerCase()),T=T||function(){},function F(){a={},l="",h=""}(),h=M;var m=function y(){return s.querySelectorAll('link[type="application/l10n"]')}(),i=m.length;if(0!==i){var t,g=0;t=function(){++g>=i&&(T(),r="complete")};for(var O=0;O<i;O++)new E(m[O]).load(M,t)}else{var c=function b(){var M=s.querySelector('script[type="application/l10n"]');return M?JSON.parse(M.innerHTML):null}();if(c&&c.locales&&c.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(a=c.locales[M])){var C=c.default_locale.toLowerCase();for(var A in c.locales){if((A=A.toLowerCase())===M){a=c.locales[M];break}A===C&&(a=c.locales[C])}}T()}else console.log("no resource to load, early way out");r="complete"}function E(j){var H=j.href;this.load=function(q,$){!function _(M,T,m,i){var c=M.replace(/[^\/]*$/,"")||"./";function C(t){return t.lastIndexOf("\\")<0?t:t.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}n(M,function(t){l+=t,function A(t,g){var E={},O=/^\s*|\s*$/,I=/^\s*#|^\s*$/,j=/^\s*\[(.*)\]\s*$/,H=/^\s*@import\s+url\((.*)\)\s*$/i,q=/^([^=\s]*)\s*=\s*(.+)$/;function $(ne,ae,X){var te=ne.replace(O,"").split(/[\r\n]+/),k="*",z=T.split("-",1)[0],ee=!1,K="";!function oe(){for(;;){if(!te.length)return void X();var ce=te.shift();if(!I.test(ce)){if(ae){if(K=j.exec(ce)){k=K[1].toLowerCase(),ee="*"!==k&&k!==T&&k!==z;continue}if(ee)continue;if(K=H.exec(ce))return void Y(c+K[1],oe)}var le=ce.match(q);le&&3==le.length&&(E[le[1]]=C(le[2]))}}}()}function Y(ne,ae){n(ne,function(X){$(X,!1,ae)},function(){console.warn(ne+" not found."),ae()})}$(t,!0,function(){g(E)})}(t,function(g){for(var E in g){var O,I,j=E.lastIndexOf(".");j>0?(O=E.substring(0,j),I=E.substring(j+1)):(O=E,I=S),a[O]||(a[O]={}),a[O][I]=g[E]}m&&m()})},i)}(H,q,$,function(){console.warn(H+" not found."),console.warn('"'+q+'" resource not found'),h="",$()})}}}function V(M,T,m){var i=a[M];if(!i){if(console.warn("#"+M+" is undefined."),!m)return null;i=m}var c={};for(var C in i){var A=i[C];A=Q(A=ie(A,T,M,C),T,M),c[C]=A}return c}function ie(M,T,m,i){var C=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(M);if(!C||!C.length)return M;var g,A=C[1],t=C[2];return T&&t in T?g=T[t]:t in a&&(g=a[t]),A in o&&(M=(0,o[A])(M,g,m,i)),M}function Q(M,T,m){return M.replace(/\{\{\s*(.+?)\s*\}\}/g,function(c,C){return T&&C in T?T[C]:C in a?a[C]:(console.log("argument {{"+C+"}} for #"+m+" is undefined."),c)})}function P(M){var T=function e(M){if(!M)return{};var T=M.getAttribute("data-l10n-id"),m=M.getAttribute("data-l10n-args"),i={};if(m)try{i=JSON.parse(m)}catch{console.warn("could not parse arguments for #"+T)}return{id:T,args:i}}(M);if(T.id){var m=V(T.id,T.args);if(!m)return void console.warn("#"+T.id+" is undefined.");if(m[S]){if(0===function R(M){if(M.children)return M.children.length;if(typeof M.childElementCount<"u")return M.childElementCount;for(var T=0,m=0;m<M.childNodes.length;m++)T+=1===M.nodeType?1:0;return T}(M))M[S]=m[S];else{for(var i=M.childNodes,c=!1,C=0,A=i.length;C<A;C++)3===i[C].nodeType&&/\S/.test(i[C].nodeValue)&&(c?i[C].nodeValue="":(i[C].nodeValue=m[S],c=!0));if(!c){var t=s.createTextNode(m[S]);M.prepend(t)}}delete m[S]}for(var g in m)M[g]=m[g]}}return o.plural=function(M,T,m,i){var c=parseFloat(T);if(isNaN(c)||i!=S)return M;o._pluralRules||(o._pluralRules=function W(M){function m(A,t){return-1!==t.indexOf(A)}function i(A,t,g){return t<=A&&A<=g}var c={0:function(A){return"other"},1:function(A){return i(A%100,3,10)?"few":0===A?"zero":i(A%100,11,99)?"many":2==A?"two":1==A?"one":"other"},2:function(A){return 0!==A&&A%10==0?"many":2==A?"two":1==A?"one":"other"},3:function(A){return 1==A?"one":"other"},4:function(A){return i(A,0,1)?"one":"other"},5:function(A){return i(A,0,2)&&2!=A?"one":"other"},6:function(A){return 0===A?"zero":A%10==1&&A%100!=11?"one":"other"},7:function(A){return 2==A?"two":1==A?"one":"other"},8:function(A){return i(A,3,6)?"few":i(A,7,10)?"many":2==A?"two":1==A?"one":"other"},9:function(A){return 0===A||1!=A&&i(A%100,1,19)?"few":1==A?"one":"other"},10:function(A){return i(A%10,2,9)&&!i(A%100,11,19)?"few":A%10!=1||i(A%100,11,19)?"other":"one"},11:function(A){return i(A%10,2,4)&&!i(A%100,12,14)?"few":A%10==0||i(A%10,5,9)||i(A%100,11,14)?"many":A%10==1&&A%100!=11?"one":"other"},12:function(A){return i(A,2,4)?"few":1==A?"one":"other"},13:function(A){return i(A%10,2,4)&&!i(A%100,12,14)?"few":1!=A&&i(A%10,0,1)||i(A%10,5,9)||i(A%100,12,14)?"many":1==A?"one":"other"},14:function(A){return i(A%100,3,4)?"few":A%100==2?"two":A%100==1?"one":"other"},15:function(A){return 0===A||i(A%100,2,10)?"few":i(A%100,11,19)?"many":1==A?"one":"other"},16:function(A){return A%10==1&&11!=A?"one":"other"},17:function(A){return 3==A?"few":0===A?"zero":6==A?"many":2==A?"two":1==A?"one":"other"},18:function(A){return 0===A?"zero":i(A,0,2)&&0!==A&&2!=A?"one":"other"},19:function(A){return i(A,2,10)?"few":i(A,0,1)?"one":"other"},20:function(A){return!i(A%10,3,4)&&A%10!=9||i(A%100,10,19)||i(A%100,70,79)||i(A%100,90,99)?A%1e6==0&&0!==A?"many":A%10!=2||m(A%100,[12,72,92])?A%10!=1||m(A%100,[11,71,91])?"other":"one":"two":"few"},21:function(A){return 0===A?"zero":1==A?"one":"other"},22:function(A){return i(A,0,1)||i(A,11,99)?"one":"other"},23:function(A){return i(A%10,1,2)||A%20==0?"one":"other"},24:function(A){return i(A,3,10)||i(A,13,19)?"few":m(A,[2,12])?"two":m(A,[1,11])?"one":"other"}},C={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[M.replace(/-.*$/,"")];return C in c?c[C]:(console.warn("plural form unknown for ["+M+"]"),function(){return"other"})}(h));var C="["+o._pluralRules(c)+"]";return 0===c&&m+"[zero]"in a?M=a[m+"[zero]"][i]:1==c&&m+"[one]"in a?M=a[m+"[one]"][i]:2==c&&m+"[two]"in a?M=a[m+"[two]"][i]:m+C in a?M=a[m+C][i]:m+"[other]"in a&&(M=a[m+"[other]"][i]),M},{get:function(M,T,m){var C,i=M.lastIndexOf("."),c=S;i>0&&(c=M.substring(i+1),M=M.substring(0,i)),m&&((C={})[c]=m);var A=V(M,T,C);return A&&c in A?A[c]:"{{"+M+"}}"},getData:function(){return a},getText:function(){return l},getLanguage:function(){return h},setLanguage:function(M,T){L(M,function(){T&&T()})},getDirection:function(){var T=h.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(T)>=0?"rtl":"ltr"},translate:function D(M){for(var T=function d(M){return M?M.querySelectorAll("*[data-l10n-id]"):[]}(M=M||s.documentElement),m=T.length,i=0;i<m;i++)P(T[i]);P(M)},getReadyState:function(){return r},ready:function(M){M&&("complete"==r||"interactive"==r?x.setTimeout(function(){M()}):s.addEventListener&&s.addEventListener("localized",function T(){s.removeEventListener("localized",T),M()}))}}}(window,document)},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFFindController=s.FindState=void 0;var a=f(7),l=f(3),S=f(23);const h={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};s.FindState=h;const y={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},b=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),d=[...b.values()].map(M=>String.fromCharCode(M)).join(""),e=/\p{M}+/gu,n=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,_=/([^\p{M}])\p{M}*$/u,L=/^\p{M}*([^\p{M}])/u,F=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,W=new Map;let ie=null,Q=null;function P(M){const T=[];let m,i;for(;null!==(m=F.exec(M));){let{index:H}=m;for(const q of m[0]){let $=W.get(q);$||($=q.normalize("NFD").length,W.set(q,$)),T.push([$,H++])}}if(0===T.length&&ie)i=ie;else if(T.length>0&&Q)i=Q;else{const q=`([${Object.keys(y).join("")}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`;i=0===T.length?ie=new RegExp(q+"|(\\u0000)","gum"):Q=new RegExp(q+"|([\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f])","gum")}const c=[];for(;null!==(m=e.exec(M));)c.push([m[0].length,m.index]);let C=M.normalize("NFD");const A=[[0,0]];let t=0,g=0,E=0,O=0,I=0,j=!1;return C=C.replace(i,(H,q,$,Y,ne,ae,X)=>{if(X-=O,q){const te=y[H],k=te.length;for(let z=1;z<k;z++)A.push([X-E+z,E-z]);return E-=k-1,te}if($){const te=$.endsWith("\n"),k=te?$.length-2:$.length;j=!0;let z=k;X+I===c[t]?.[1]&&(z-=c[t][0],++t);for(let ee=1;ee<=z;ee++)A.push([X-1-E+ee,E-ee]);return E-=z,O+=z,te?(A.push([(X+=k-1)-E+1,1+E]),E+=1,O+=1,I+=1,$.slice(0,k)):$}if(Y)return A.push([X-E+1,1+E]),E+=1,O+=1,I+=1,Y.charAt(0);if(ne)return A.push([X-E+1,E-1]),E-=1,O+=1,I+=1," ";if(X+I===T[g]?.[1]){const te=T[g][0]-1;++g;for(let k=1;k<=te;k++)A.push([X-(E-k),E-k]);E-=te,O+=te}return ae}),A.push([C.length,E]),[C,A,j]}function R(M,T,m){if(!M)return[T,m];const i=T,c=T+m;let C=(0,a.binarySearchFirstItem)(M,t=>t[0]>=i);M[C][0]>i&&--C;let A=(0,a.binarySearchFirstItem)(M,t=>t[0]>=c,C);return M[A][0]>c&&--A,[i+M[C][1],m+M[A][1]-M[C][1]]}s.PDFFindController=class D{constructor({linkService:T,eventBus:m}){this._linkService=T,this._eventBus=m,this.#t(),m._on("find",this.#e.bind(this)),m._on("findbarclose",this.#_.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(T){this._pdfDocument&&this.#t(),T&&(this._pdfDocument=T,this._firstPageCapability.resolve())}#e(T){if(!T)return;const m=this._pdfDocument,{type:i}=T;(null===this._state||this.#i(T))&&(this._dirtyMatch=!0),this._state=T,"highlightallchange"!==i&&this.#d(h.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||m&&this._pdfDocument!==m)return;this.#u();const c=!this._highlightMatches,C=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?this.#a():"again"===i?(this.#a(),c&&this._state.highlightAll&&this.#l()):"highlightallchange"===i?(C?this.#a():this._highlightMatches=!0,this.#l()):this.#a():this._findTimeout=setTimeout(()=>{this.#a(),this._findTimeout=null},250)})}scrollMatchIntoView({element:T=null,selectedLeft:m=0,pageIndex:i=-1,matchIndex:c=-1}){this._scrollMatches&&T&&-1!==c&&c===this._selected.matchIdx&&-1!==i&&i===this._selected.pageIdx&&(this._scrollMatches=!1,(0,a.scrollIntoView)(T,{top:-50,left:m+-400},!0))}#t(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,l.createPromiseCapability)()}get#n(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=P(this._state.query)),this._normalizedQuery}#i(T){if(T.query!==this._state.query)return!0;switch(T.type){case"again":const m=this._selected.pageIdx+1,i=this._linkService;return m>=1&&m<=i.pagesCount&&m!==i.page&&!i.isPageVisible(m);case"highlightallchange":return!1}return!0}#r(T,m,i){let c=T.slice(0,m).match(_);if(c){const C=T.charCodeAt(m),A=c[1].charCodeAt(0);if((0,S.getCharacterType)(C)===(0,S.getCharacterType)(A))return!1}if(c=T.slice(m+i).match(L),c){const C=T.charCodeAt(m+i-1),A=c[1].charCodeAt(0);if((0,S.getCharacterType)(C)===(0,S.getCharacterType)(A))return!1}return!0}#c(T,m,i,c){const C=[],A=[],t=this._pageDiffs[i];let g;for(;null!==(g=T.exec(c));){if(m&&!this.#r(c,g.index,g[0].length))continue;const[E,O]=R(t,g.index,g[0].length);O&&(C.push(E),A.push(O))}this._pageMatches[i]=C,this._pageMatchesLength[i]=A}#o(T,m){const{matchDiacritics:i}=this._state;let c=!1;return(T=T.replace(n,(A,t,g,E,O,I)=>t?`[ ]*\\${t}[ ]*`:g?`[ ]*${g}[ ]*`:E?"[ ]+":i?O||I:O?b.has(O.charCodeAt(0))?O:"":m?(c=!0,`${I}\\p{M}*`):I)).endsWith("[ ]*")&&(T=T.slice(0,T.length-4)),i&&m&&(c=!0,T=`${T}(?=[${d}]|[^\\p{M}]|$)`),[c,T]}#s(T){let m=this.#n;if(0===m.length)return;const{caseSensitive:i,entireWord:c,phraseSearch:C}=this._state,A=this._pageContents[T],t=this._hasDiacritics[T];let g=!1;if(C)[g,m]=this.#o(m,t);else{const I=m.match(/\S+/g);I&&(m=I.sort().reverse().map(j=>{const[H,q]=this.#o(j,t);return g||=H,`(${q})`}).join("|"))}m=new RegExp(m,`g${g?"u":""}${i?"":"i"}`),this.#c(m,c,T,A),this._state.highlightAll&&this.#h(T),this._resumePageIdx===T&&(this._resumePageIdx=null,this.#f());const O=this._pageMatches[T].length;O>0&&(this._matchesCountTotal+=O,this.#A())}#u(){if(this._extractTextPromises.length>0)return;let T=Promise.resolve();for(let m=0,i=this._linkService.pagesCount;m<i;m++){const c=(0,l.createPromiseCapability)();this._extractTextPromises[m]=c.promise,T=T.then(()=>this._pdfDocument.getPage(m+1).then(C=>C.getTextContent()).then(C=>{const A=[];for(const t of C.items)A.push(t.str),t.hasEOL&&A.push("\n");[this._pageContents[m],this._pageDiffs[m],this._hasDiacritics[m]]=P(A.join("")),c.resolve()},C=>{console.error(`Unable to get text content for page ${m+1}`,C),this._pageContents[m]="",this._pageDiffs[m]=null,this._hasDiacritics[m]=!1,c.resolve()}))}}#h(T){this._scrollMatches&&this._selected.pageIdx===T&&(this._linkService.page=T+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:T})}#l(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#a(){const T=this._state.findPrevious,m=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=m,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,this.#l();for(let C=0;C<i;C++)this._pendingFindMatches.has(C)||(this._pendingFindMatches.add(C),this._extractTextPromises[C].then(()=>{this._pendingFindMatches.delete(C),this.#s(C)}))}if(""===this.#n)return void this.#d(h.FOUND);if(this._resumePageIdx)return;const c=this._offset;if(this._pagesToSearch=i,null!==c.matchIdx){if(!T&&c.matchIdx+1<this._pageMatches[c.pageIdx].length||T&&c.matchIdx>0)return c.matchIdx=T?c.matchIdx-1:c.matchIdx+1,void this.#m(!0);this.#b(T)}this.#f()}#p(T){const m=this._offset,i=T.length,c=this._state.findPrevious;return i?(m.matchIdx=c?i-1:0,this.#m(!0),!0):(this.#b(c),!!(m.wrapped&&(m.matchIdx=null,this._pagesToSearch<0))&&(this.#m(!1),!0))}#f(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let T=null;do{const m=this._offset.pageIdx;if(T=this._pageMatches[m],!T){this._resumePageIdx=m;break}}while(!this.#p(T))}#b(T){const m=this._offset,i=this._linkService.pagesCount;m.pageIdx=T?m.pageIdx-1:m.pageIdx+1,m.matchIdx=null,this._pagesToSearch--,(m.pageIdx>=i||m.pageIdx<0)&&(m.pageIdx=T?i-1:0,m.wrapped=!0)}#m(T=!1){let m=h.NOT_FOUND;const i=this._offset.wrapped;if(this._offset.wrapped=!1,T){const c=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,m=i?h.WRAPPED:h.FOUND,-1!==c&&c!==this._selected.pageIdx&&this.#h(c)}this.#d(m,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this.#h(this._selected.pageIdx))}#_(T){const m=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||m&&this._pdfDocument!==m||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#d(h.FOUND),this._highlightMatches=!1,this.#l())})}#S(){const{pageIdx:T,matchIdx:m}=this._selected;let i=0,c=this._matchesCountTotal;if(-1!==m){for(let C=0;C<T;C++)i+=this._pageMatches[C]?.length||0;i+=m+1}return(i<1||i>c)&&(i=c=0),{current:i,total:c}}#A(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#S()})}#d(T,m=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:T,previous:m,matchesCount:this.#S(),rawQuery:this._state?.query??null})}}},(x,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterType=void 0,s.getCharacterType=function e(n){return function a(n){return n<11904}(n)?function l(n){return 0==(65408&n)}(n)?function o(n){return 32===n||9===n||13===n||10===n}(n)?f.SPACE:function S(n){return n>=97&&n<=122||n>=65&&n<=90}(n)||function h(n){return n>=48&&n<=57}(n)||95===n?f.ALPHA_LETTER:f.PUNCT:function d(n){return 3584==(65408&n)}(n)?f.THAI_LETTER:160===n?f.SPACE:f.ALPHA_LETTER:function r(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}(n)?f.HAN_LETTER:function v(n){return n>=12448&&n<=12543}(n)?f.KATAKANA_LETTER:function y(n){return n>=12352&&n<=12447}(n)?f.HIRAGANA_LETTER:function b(n){return n>=65376&&n<=65439}(n)?f.HALFWIDTH_KATAKANA_LETTER:f.ALPHA_LETTER};const f={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};s.CharacterType=f},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFHistory=void 0,s.isDestArraysEqual=b,s.isDestHashesEqual=y;var a=f(7),l=f(19);function r(){return document.location.hash}function y(d,e){return"string"==typeof d&&"string"==typeof e&&(d===e||(0,a.parseQueryString)(d).get("nameddest")===e)}function b(d,e){function n(_,L){if(typeof _!=typeof L||Array.isArray(_)||Array.isArray(L))return!1;if(null!==_&&"object"==typeof _&&null!==L){if(Object.keys(_).length!==Object.keys(L).length)return!1;for(const F in _)if(!n(_[F],L[F]))return!1;return!0}return _===L||Number.isNaN(_)&&Number.isNaN(L)}if(!Array.isArray(d)||!Array.isArray(e)||d.length!==e.length)return!1;for(let _=0,L=d.length;_<L;_++)if(!n(d[_],e[_]))return!1;return!0}s.PDFHistory=class v{constructor({linkService:e,eventBus:n}){this.linkService=e,this.eventBus=n,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",_=>{this._isPagesLoaded=!!_.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:n=!1,updateUrl:_=!1}){if(!e||"string"!=typeof e)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const L=""!==this._fingerprint&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=!0===_,this._initialized=!0,this._bindEvents();const F=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=r(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(F,!0)||n){const{hash:V,page:ie,rotation:Q}=this._parseCurrentHash(!0);return!V||L||n?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:V,page:ie,rotation:Q},!0)}const W=F.destination;this._updateInternalState(W,F.uid,!0),void 0!==W.rotation&&(this._initialRotation=W.rotation),W.dest?(this._initialBookmark=JSON.stringify(W.dest),this._destination.page=null):W.hash?this._initialBookmark=W.hash:W.page&&(this._initialBookmark=`page=${W.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:n,pageNumber:_}){if(!this._initialized)return;if(e&&"string"!=typeof e)return void console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);if(!Array.isArray(n))return void console.error(`PDFHistory.push: "${n}" is not a valid explicitDest parameter.`);if(!this._isValidPage(_)&&(null!==_||this._destination))return void console.error(`PDFHistory.push: "${_}" is not a valid pageNumber parameter.`);const L=e||JSON.stringify(n);if(!L)return;let F=!1;if(this._destination&&(y(this._destination.hash,L)||b(this._destination.dest,n))){if(this._destination.page)return;F=!0}this._popStateInProgress&&!F||(this._pushOrReplaceState({dest:n,hash:L,page:_,rotation:this.linkService.rotation},F),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){if(this._initialized){if(!this._isValidPage(e))return void console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);this._destination?.page!==e&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const e=window.history.state;this._isValidState(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(e,n=!1){const _=n||!this._destination,L={fingerprint:this._fingerprint,uid:_?this._uid:this._uid+1,destination:e};let F;if(this._updateInternalState(e,L.uid),this._updateUrl&&e?.hash){const W=document.location.href.split("#")[0];W.startsWith("file://")||(F=`${W}#${e.hash}`)}_?window.history.replaceState(L,"",F):window.history.pushState(L,"",F)}_tryPushCurrentPosition(e=!1){if(!this._position)return;let n=this._position;if(e&&(n=Object.assign(Object.create(null),this._position),n.temporary=!0),!this._destination)return void this._pushOrReplaceState(n);if(this._destination.temporary)return void this._pushOrReplaceState(n,!0);if(this._destination.hash===n.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let _=!1;if(this._destination.page>=n.first&&this._destination.page<=n.page){if(void 0!==this._destination.dest||!this._destination.first)return;_=!0}this._pushOrReplaceState(n,_)}_isValidPage(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}_isValidState(e,n=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint){if(!n)return!1;{if("string"!=typeof e.fingerprint||e.fingerprint.length!==this._fingerprint.length)return!1;const[_]=performance.getEntriesByType("navigation");if("reload"!==_?.type)return!1}}return!(!Number.isInteger(e.uid)||e.uid<0||null===e.destination||"object"!=typeof e.destination)}_updateInternalState(e,n,_=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),_&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=n,this._maxUid=Math.max(this._maxUid,n),this._numPositionUpdates=0}_parseCurrentHash(e=!1){const n=unescape(r()).substring(1),_=(0,a.parseQueryString)(n),L=_.get("nameddest")||"";let F=0|_.get("page");return(!this._isValidPage(F)||e&&L.length>0)&&(F=null),{hash:n,page:F,rotation:this.linkService.rotation}}_updateViewarea({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:e}){const n=r(),_=this._currentHash!==n;if(this._currentHash=n,!e){this._uid++;const{hash:F,page:W,rotation:V}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:F,page:W,rotation:V},!0)}if(!this._isValidState(e))return;this._popStateInProgress=!0,_&&(this._blockHashChange++,(0,l.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const L=e.destination;this._updateInternalState(L,e.uid,!0),(0,a.isValidRotation)(L.rotation)&&(this.linkService.rotation=L.rotation),L.dest?this.linkService.goToDestination(L.dest):L.hash?this.linkService.setHash(L.hash):L.page&&(this.linkService.page=L.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){this._boundEvents&&(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PDFScriptingManager=void 0;var a=f(7),l=f(3);s.PDFScriptingManager=class S{constructor({eventBus:o,sandboxBundleSrc:r=null,scriptingFactory:v=null,docPropertiesLookup:y=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=o,this._sandboxBundleSrc=r,this._scriptingFactory=v,this._docPropertiesLookup=y,this._scriptingFactory||window.addEventListener("updatefromsandbox",b=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:b.detail})})}setViewer(o){this._pdfViewer=o}setDocument(o){var r=this;return p(function*(){if(r._pdfDocument&&(yield r._destroyScripting()),r._pdfDocument=o,!o)return;const[v,y,b]=yield Promise.all([o.getFieldObjects(),o.getCalculationOrderIds(),o.getJSActions()]);if(v||b){if(o===r._pdfDocument){try{r._scripting=r._createScripting()}catch(d){return console.error(`PDFScriptingManager.setDocument: "${d?.message}".`),void(yield r._destroyScripting())}r._internalEvents.set("updatefromsandbox",d=>{d?.source===window&&r._updateFromSandbox(d.detail)}),r._internalEvents.set("dispatcheventinsandbox",d=>{r._scripting?.dispatchEventInSandbox(d.detail)}),r._internalEvents.set("pagechanging",({pageNumber:d,previous:e})=>{d!==e&&(r._dispatchPageClose(e),r._dispatchPageOpen(d))}),r._internalEvents.set("pagerendered",({pageNumber:d})=>{r._pageOpenPending.has(d)&&d===r._pdfViewer.currentPageNumber&&r._dispatchPageOpen(d)}),r._internalEvents.set("pagesdestroy",function(){var d=p(function*(e){yield r._dispatchPageClose(r._pdfViewer.currentPageNumber),yield r._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),r._closeCapability?.resolve()});return function(e){return d.apply(this,arguments)}}()),r._domEvents.set("mousedown",d=>{r._mouseState.isDown=!0}),r._domEvents.set("mouseup",d=>{r._mouseState.isDown=!1});for(const[d,e]of r._internalEvents)r._eventBus._on(d,e);for(const[d,e]of r._domEvents)window.addEventListener(d,e,!0);try{const d=yield r._getDocProperties();if(o!==r._pdfDocument)return;yield r._scripting.createSandbox({objects:v,calculationOrder:y,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...d,actions:b}}),r._eventBus.dispatch("sandboxcreated",{source:r})}catch(d){return console.error(`PDFScriptingManager.setDocument: "${d?.message}".`),void(yield r._destroyScripting())}yield r._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield r._dispatchPageOpen(r._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{o===r._pdfDocument&&(r._ready=!0)})}}else yield r._destroyScripting()})()}dispatchWillSave(o){var r=this;return p(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(o){var r=this;return p(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(o){var r=this;return p(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(o){var r=this;return p(function*(){return r._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,l.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,l.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,l.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,l.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(o){var r=this;return p(function*(){const v=r._pdfViewer.isInPresentationMode||r._pdfViewer.isChangingPresentationMode,{id:y,siblings:b,command:d,value:e}=o;if(!y){switch(d){case"clear":console.clear();break;case"error":console.error(e);break;case"layout":if(v)return;const _=(0,a.apiPageLayoutToViewerModes)(e);r._pdfViewer.spreadMode=_.spreadMode;break;case"page-num":r._pdfViewer.currentPageNumber=e+1;break;case"print":yield r._pdfViewer.pagesPromise,r._eventBus.dispatch("print",{source:r});break;case"println":console.log(e);break;case"zoom":if(v)return;r._pdfViewer.currentScaleValue=e;break;case"SaveAs":r._eventBus.dispatch("download",{source:r});break;case"FirstPage":r._pdfViewer.currentPageNumber=1;break;case"LastPage":r._pdfViewer.currentPageNumber=r._pdfViewer.pagesCount;break;case"NextPage":r._pdfViewer.nextPage();break;case"PrevPage":r._pdfViewer.previousPage();break;case"ZoomViewIn":if(v)return;r._pdfViewer.increaseScale();break;case"ZoomViewOut":if(v)return;r._pdfViewer.decreaseScale()}return}if(v&&o.focus)return;delete o.id,delete o.siblings;const n=b?[y,...b]:[y];for(const _ of n){const L=document.querySelector(`[data-element-id="${_}"]`);L?L.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:o})):r._pdfDocument?.annotationStorage.setValue(_,o)}})()}_dispatchPageOpen(o,r=!1){var v=this;return p(function*(){const y=v._pdfDocument,b=v._visitedPages;if(r&&(v._closeCapability=(0,l.createPromiseCapability)()),!v._closeCapability)return;const d=v._pdfViewer.getPageView(o-1);if(d?.renderingState!==a.RenderingStates.FINISHED)return void v._pageOpenPending.add(o);v._pageOpenPending.delete(o);const e=p(function*(){const n=yield b.has(o)?null:d.pdfPage?.getJSActions();y===v._pdfDocument&&(yield v._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:o,actions:n}))})();b.set(o,e)})()}_dispatchPageClose(o){var r=this;return p(function*(){const v=r._pdfDocument,y=r._visitedPages;if(!r._closeCapability||r._pageOpenPending.has(o))return;const b=y.get(o);b&&(y.set(o,null),yield b,v===r._pdfDocument&&(yield r._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:o})))})()}_getDocProperties(){var o=this;return p(function*(){if(o._docPropertiesLookup)return o._docPropertiesLookup(o._pdfDocument);const{docPropertiesLookup:r}=f(26);return r(o._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,l.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:o}=f(26);return new o(this._sandboxBundleSrc)}_destroyScripting(){var o=this;return p(function*(){if(!o._scripting)return o._pdfDocument=null,void o._destroyCapability?.resolve();o._closeCapability&&(yield Promise.race([o._closeCapability.promise,new Promise(r=>{setTimeout(r,1e3)})]).catch(r=>{}),o._closeCapability=null),o._pdfDocument=null;try{yield o._scripting.destroySandbox()}catch{}for(const[r,v]of o._internalEvents)o._eventBus._off(r,v);o._internalEvents.clear();for(const[r,v]of o._domEvents)window.removeEventListener(r,v,!0);o._domEvents.clear(),o._pageOpenPending.clear(),o._visitedPages.clear(),o._scripting=null,delete o._mouseState.isDown,o._ready=!1,o._destroyCapability?.resolve()})()}}},(x,s,f)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.GenericScripting=void 0,s.docPropertiesLookup=function l(o){return S.apply(this,arguments)};var a=f(3);function S(){return(S=p(function*(o){const v="".split("#")[0];let{info:y,metadata:b,contentDispositionFilename:d,contentLength:e}=yield o.getMetadata();if(!e){const{length:n}=yield o.getDownloadInfo();e=n}return{...y,baseURL:v,filesize:e,filename:d||(0,a.getPdfFilenameFromUrl)(""),metadata:b?.getRaw(),authors:b?.get("dc:creator"),numPages:o.numPages,URL:""}})).apply(this,arguments)}s.GenericScripting=class h{constructor(r){this._ready=(0,a.loadScript)(r,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(r){var v=this;return p(function*(){(yield v._ready).create(r)})()}dispatchEventInSandbox(r){var v=this;return p(function*(){const y=yield v._ready;setTimeout(()=>y.dispatchEvent(r),0)})()}destroySandbox(){var r=this;return p(function*(){(yield r._ready).nukeSandbox()})()}}}],B={};function U(x){var s=B[x];if(void 0!==s)return s.exports;var f=B[x]={exports:{}};return w[x](f,f.exports,U),f.exports}var G={};return(()=>{var x=G;Object.defineProperty(x,"__esModule",{value:!0}),Object.defineProperty(x,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return S.AnnotationLayerBuilder}}),Object.defineProperty(x,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return s.DefaultAnnotationLayerFactory}}),Object.defineProperty(x,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return s.DefaultStructTreeLayerFactory}}),Object.defineProperty(x,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return s.DefaultTextLayerFactory}}),Object.defineProperty(x,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return s.DefaultXfaLayerFactory}}),Object.defineProperty(x,"DownloadManager",{enumerable:!0,get:function(){return h.DownloadManager}}),Object.defineProperty(x,"EventBus",{enumerable:!0,get:function(){return o.EventBus}}),Object.defineProperty(x,"GenericL10n",{enumerable:!0,get:function(){return r.GenericL10n}}),Object.defineProperty(x,"LinkTarget",{enumerable:!0,get:function(){return f.LinkTarget}}),Object.defineProperty(x,"NullL10n",{enumerable:!0,get:function(){return v.NullL10n}}),Object.defineProperty(x,"PDFFindController",{enumerable:!0,get:function(){return y.PDFFindController}}),Object.defineProperty(x,"PDFHistory",{enumerable:!0,get:function(){return b.PDFHistory}}),Object.defineProperty(x,"PDFLinkService",{enumerable:!0,get:function(){return f.PDFLinkService}}),Object.defineProperty(x,"PDFPageView",{enumerable:!0,get:function(){return d.PDFPageView}}),Object.defineProperty(x,"PDFScriptingManager",{enumerable:!0,get:function(){return e.PDFScriptingManager}}),Object.defineProperty(x,"PDFSinglePageViewer",{enumerable:!0,get:function(){return l.PDFSinglePageViewer}}),Object.defineProperty(x,"PDFViewer",{enumerable:!0,get:function(){return l.PDFViewer}}),Object.defineProperty(x,"ProgressBar",{enumerable:!0,get:function(){return a.ProgressBar}}),Object.defineProperty(x,"RenderingStates",{enumerable:!0,get:function(){return a.RenderingStates}}),Object.defineProperty(x,"ScrollMode",{enumerable:!0,get:function(){return a.ScrollMode}}),Object.defineProperty(x,"SimpleLinkService",{enumerable:!0,get:function(){return f.SimpleLinkService}}),Object.defineProperty(x,"SpreadMode",{enumerable:!0,get:function(){return a.SpreadMode}}),Object.defineProperty(x,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return n.StructTreeLayerBuilder}}),Object.defineProperty(x,"TextLayerBuilder",{enumerable:!0,get:function(){return _.TextLayerBuilder}}),Object.defineProperty(x,"XfaLayerBuilder",{enumerable:!0,get:function(){return L.XfaLayerBuilder}}),Object.defineProperty(x,"parseQueryString",{enumerable:!0,get:function(){return a.parseQueryString}});var s=U(1),f=U(6),a=U(7),l=U(11),S=U(5),h=U(18),o=U(19),r=U(20),v=U(4),y=U(22),b=U(24),d=U(13),e=U(25),n=U(8),_=U(9),L=U(10)})(),G})()},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:se=>{function u(p,w,B,U,G,x,s){try{var f=p[x](s),a=f.value}catch(l){return void B(l)}f.done?w(a):Promise.resolve(a).then(U,G)}se.exports=function N(p){return function(){var w=this,B=arguments;return new Promise(function(U,G){var x=p.apply(w,B);function s(a){u(x,U,G,s,f,"next",a)}function f(a){u(x,U,G,s,f,"throw",a)}s(void 0)})}},se.exports.__esModule=!0,se.exports.default=se.exports}}]);